{"version":3,"sources":["webpack:///./src/views/login.vue?4469","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2a23","webpack:///./src/views/login.vue","webpack:///./src/views/login.vue?61fd"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fix","staticClass","type","size","_v","_e","_m","ref","action","model","formInline","rules","ruleInline","prop","placeholder","value","callback","$$v","$set","expression","slot","nativeOn","keyup","$event","indexOf","_k","keyCode","key","handleSubmit","checked","on","click","staticRenderFns","loginvue_type_script_lang_js_","data","spinShow","username","password","required","message","trigger","min","methods","_this2","_this","$refs","validate","valid","console","log","$store","dispatch","then","res","remeberFlag","$Message","success","setCookie","$router","push","name","catch","err","error","c_name","c_pwd","exdays","exdate","Date","setTime","getTime","window","document","cookie","toGMTString","getCookie","length","arr","split","i","arr2","mounted","views_loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_8ad64b4c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_8ad64b4c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-35748109.285d3644.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.spinShow)?_c('Spin',{attrs:{\"fix\":\"\"}},[_c('Icon',{staticClass:\"demo-spin-icon-load\",attrs:{\"type\":\"ios-loading\",\"size\":\"18\"}}),_c('div',[_vm._v(\"Loading\")])],1):_vm._e(),_c('div',{staticClass:\"login-bg\"},[_c('div',[_vm._m(0),_c('div',{staticClass:\"login-form\"},[_c('Form',{ref:\"formInline\",attrs:{\"action\":\"\",\"model\":_vm.formInline,\"rules\":_vm.ruleInline}},[_c('FormItem',{attrs:{\"prop\":\"username\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"账号\"},model:{value:(_vm.formInline.username),callback:function ($$v) {_vm.$set(_vm.formInline, \"username\", $$v)},expression:\"formInline.username\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-person-outline\"},slot:\"prepend\"})],1)],1),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSubmit('formInline')}},model:{value:(_vm.formInline.password),callback:function ($$v) {_vm.$set(_vm.formInline, \"password\", $$v)},expression:\"formInline.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_c('FormItem',{staticClass:\"checked-pw\"},[_c('Checkbox',{model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"记住密码\")])],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formInline')}}},[_vm._v(\"登录\")])],1)],1)],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('h1',[_vm._v(\"铁路营业线施工安全防护平台\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<Spin fix v-if=\"spinShow\">\r\n\t\t\t<Icon type=\"ios-loading\" size=18 class=\"demo-spin-icon-load\"></Icon>\r\n\t\t\t<div>Loading</div>\r\n\t\t</Spin>\r\n\t\t<div class=\"login-bg\">\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"logo\">\r\n\t\t\t\t\t<!-- <img src=\"../assets/images/logo.png\" alt=\"\" /> -->\r\n\t\t\t\t\t<h1>铁路营业线施工安全防护平台</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"login-form\">\r\n\t\t\t\t\t<Form action=\"\" ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\">\r\n\t\t\t\t\t\t<FormItem prop=\"username\">\r\n\t\t\t\t\t\t\t<Input type=\"text\" v-model=\"formInline.username\" placeholder=\"账号\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\r\n\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<FormItem prop=\"password\">\r\n\t\t\t\t\t\t\t<Input type=\"password\" v-model=\"formInline.password\" @keyup.native.enter=\"handleSubmit('formInline')\" placeholder=\"密码\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\r\n\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<FormItem class=\"checked-pw\">\r\n\t\t\t\t\t\t\t<Checkbox v-model=\"checked\">记住密码</Checkbox>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<FormItem>\r\n\t\t\t\t\t\t\t<Button type=\"primary\" @click=\"handleSubmit('formInline')\">登录</Button>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n</template> \r\n\r\n<script>\r\n\texport default {\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\tspinShow: false,\r\n\t\t\t\tformInline:{\r\n\t\t\t\t\tusername:'',\r\n\t\t\t\t\tpassword:''\r\n\t\t\t\t},\r\n\t\t\t\tchecked: false,\r\n\t\t\t\truleInline:{\r\n\t\t\t\t\t username: [\r\n                        { required: true, message: '请填写账号', trigger: 'blur' }\r\n                    ],\r\n                    password: [\r\n                        { required: true, message: '请填写密码', trigger: 'blur' },\r\n                        { type: 'string', min: 1, message: '密码不少于六位', trigger: 'blur' }\r\n                    ]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleSubmit:function(formInline){\r\n\t\t\t\t let _this = this;\r\n\t\t\t\t// this.$router.push({ name: \"home\"});\r\n\t\t\t\t// return ;\r\n\t\t\t\tthis.$refs[formInline].validate((valid) =>{\r\n\t\t\t\t\t  if (valid) {\r\n\t\t\t\t\t\tthis.spinShow = true\r\n\t\t\t\t\t  \tconsole.log(_this.formInline)\r\n\t\t\t\t\t\tthis.$store.dispatch(\"LOGIN\",_this.formInline).then((res) => {\r\n\t\t\t\t\t\t\t this.$Message.success(\"登录成功\");\t\r\n\t\t\t\t\t\t\t let remeberFlag;//储存记住密码\r\n\t\t\t\t            //判断复选框是否被勾选\r\n\t\t\t\t            if (this.checked == true) {\r\n\t\t\t\t                remeberFlag = \"true\";\r\n\t\t\t\t                this.setCookie(_this.formInline.username, _this.formInline.password, 30, remeberFlag);\r\n\t\t\t\t            }else {\r\n\t\t\t\t                remeberFlag = \"false\";\r\n\t\t\t\t                this.setCookie(\"\", \"\", -1, remeberFlag);\r\n\t\t\t\t            }\r\n\t\t\t\t            this.spinShow = false;\r\n\t\t\t\t\t\t\tthis.$router.push({ name: \"home\"});\r\n\r\n\t\t\t\t\t\t}).catch( (err) => {\r\n\t\t\t\t\t\t\tthis.$Message.error('登录失败!');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t  }else{\r\n\t\t\t\t\t  \tthis.$Message.error('账号密码格式不正确!');\r\n\t\t\t\t\t  }\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//设置cookie\r\n\t\t    setCookie(c_name, c_pwd, exdays, remeberFlag) {\r\n\t\t        let exdate = new Date(); //获取时间\r\n\t\t        exdate.setTime(exdate.getTime() + 24 * 60 * 60 * 1000 * exdays); //保存的天数\r\n\t\t        //字符串拼接cookie\r\n\t\t        window.document.cookie = \"userName\" + \"=\" + c_name + \";path=/;expires=\" + exdate.toGMTString();\r\n\t\t        window.document.cookie = \"userPwd\" + \"=\" + c_pwd + \";path=/;expires=\" + exdate.toGMTString();\r\n\t\t        window.document.cookie = \"remeberFlag\" + \"=\" + remeberFlag + \";path=/;expires=\" + exdate.toGMTString();\r\n\t\t    },\r\n\t\t    getCookie: function() {//读取cookie\r\n\t\t        if (document.cookie.length > 0) {\r\n\t\t            let arr = document.cookie.split('; '); //这里显示的格式需要切割一下自己可输出看下\r\n\t\t            for (let i = 0; i < arr.length; i++) {\r\n\t\t                let arr2 = arr[i].split('='); //再次切割\r\n\t\t                //判断查找相对应的值\r\n\t\t                if (arr2[0] == 'userName') {\r\n\t\t                    this.formInline.username = arr2[1]; //保存到保存数据的地方\r\n\t\t                } else if (arr2[0] == 'userPwd') {\r\n\t\t                    this.formInline.password = arr2[1];\r\n\t\t                }else if (arr2[0] == 'remeberFlag') {\r\n\t\t                \tif(arr2[1] == \"true\"){\r\n\t\t                \t\tthis.checked = true;\r\n\t\t                \t}else{\r\n\t\t                \t\tthis.checked = false;\r\n\t\t                \t}\r\n\t\t                    \r\n\t\t                }\r\n\t\t            }\r\n\t\t        }\r\n\t\t    }\r\n\t\t},\r\n\t\tmounted () {\r\n\t\t\tthis.getCookie();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t@import url(\"../styles/login.less\");\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=8ad64b4c&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=8ad64b4c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8ad64b4c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=8ad64b4c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=8ad64b4c&lang=less&scoped=true&\""],"sourceRoot":""}