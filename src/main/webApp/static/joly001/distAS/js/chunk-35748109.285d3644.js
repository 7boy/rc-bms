(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35748109"],{"7a1c":function(e,n,t){},dd7b:function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.spinShow?t("Spin",{attrs:{fix:""}},[t("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),t("div",[e._v("Loading")])],1):e._e(),t("div",{staticClass:"login-bg"},[t("div",[e._m(0),t("div",{staticClass:"login-form"},[t("Form",{ref:"formInline",attrs:{action:"",model:e.formInline,rules:e.ruleInline}},[t("FormItem",{attrs:{prop:"username"}},[t("Input",{attrs:{type:"text",placeholder:"账号"},model:{value:e.formInline.username,callback:function(n){e.$set(e.formInline,"username",n)},expression:"formInline.username"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t("FormItem",{attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",placeholder:"密码"},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.handleSubmit("formInline")}},model:{value:e.formInline.password,callback:function(n){e.$set(e.formInline,"password",n)},expression:"formInline.password"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),t("FormItem",{staticClass:"checked-pw"},[t("Checkbox",{model:{value:e.checked,callback:function(n){e.checked=n},expression:"checked"}},[e._v("记住密码")])],1),t("FormItem",[t("Button",{attrs:{type:"primary"},on:{click:function(n){return e.handleSubmit("formInline")}}},[e._v("登录")])],1)],1)],1)])])],1)},r=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"logo"},[t("h1",[e._v("铁路营业线施工安全防护平台")])])}],s=(t("28a5"),{data:function(){return{spinShow:!1,formInline:{username:"",password:""},checked:!1,ruleInline:{username:[{required:!0,message:"请填写账号",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:1,message:"密码不少于六位",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var n=this,t=this;this.$refs[e].validate(function(e){e?(n.spinShow=!0,console.log(t.formInline),n.$store.dispatch("LOGIN",t.formInline).then(function(e){var o;n.$Message.success("登录成功"),1==n.checked?(o="true",n.setCookie(t.formInline.username,t.formInline.password,30,o)):(o="false",n.setCookie("","",-1,o)),n.spinShow=!1,n.$router.push({name:"home"})}).catch(function(e){n.$Message.error("登录失败!")})):n.$Message.error("账号密码格式不正确!")})},setCookie:function(e,n,t,o){var r=new Date;r.setTime(r.getTime()+864e5*t),window.document.cookie="userName="+e+";path=/;expires="+r.toGMTString(),window.document.cookie="userPwd="+n+";path=/;expires="+r.toGMTString(),window.document.cookie="remeberFlag="+o+";path=/;expires="+r.toGMTString()},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),n=0;n<e.length;n++){var t=e[n].split("=");"userName"==t[0]?this.formInline.username=t[1]:"userPwd"==t[0]?this.formInline.password=t[1]:"remeberFlag"==t[0]&&("true"==t[1]?this.checked=!0:this.checked=!1)}}},mounted:function(){this.getCookie()}}),i=s,a=(t("df7d"),t("2877")),c=Object(a["a"])(i,o,r,!1,null,"8ad64b4c",null);n["default"]=c.exports},df7d:function(e,n,t){"use strict";var o=t("7a1c"),r=t.n(o);r.a}}]);
//# sourceMappingURL=chunk-35748109.285d3644.js.map