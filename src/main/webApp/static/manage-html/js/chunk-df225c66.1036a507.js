(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df225c66"],{"1bd6":function(e,t,a){},"6f3c":function(e,t,a){"use strict";var r=a("1bd6"),i=a.n(r);i.a},9712:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"index"},[a("bread-nav",{attrs:{nav:e.nav}}),a("main-part",[a("search-box",{attrs:{searchData:e.searchData,table:e.table}}),a("el-table",{staticClass:"el-table",staticStyle:{width:"100%"},attrs:{data:e.table.list,border:""}},[a("el-table-column",{attrs:{align:"center",fixed:"",label:"姓名",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.nameChange?a("p",[e._v("原:"+e._s(t.row.nameChange.origValue))]):e._e(),t.row.nameChange?a("p",[e._v("现:"+e._s(t.row.nameChange.newValue))]):e._e(),"UNAUDITED"!==t.row.auditStatus||t.row.nameChange?e._e():a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){e.showDialog(t.row,"edit")}}},[e._v(e._s(t.row.studentName))]),"UNAUDITED"===t.row.auditStatus||t.row.nameChange?e._e():a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){e.showDialog(t.row,"view")}}},[e._v(e._s(t.row.studentName))])]}}])}),a("el-table-column",{attrs:{label:"身份证号",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.idCardChange?a("p",[e._v("原:"+e._s(t.row.idCardChange.origValue))]):e._e(),t.row.idCardChange?a("p",[e._v("现:"+e._s(t.row.idCardChange.newValue))]):e._e(),t.row.idCardChange?e._e():a("p",[e._v("--")])]}}])}),a("el-table-column",{attrs:{label:"政治面貌",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.politicsChange?a("p",[e._v("原:"+e._s(t.row.politicsChange.origValue))]):e._e(),t.row.politicsChange?a("p",[e._v("现:"+e._s(t.row.politicsChange.newValue))]):e._e(),t.row.politicsChange?e._e():a("p",[e._v("--")])]}}])}),a("el-table-column",{attrs:{label:"现居住地址",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.addressChange?a("p",[e._v("原:"+e._s(t.row.addressChange.origValue))]):e._e(),t.row.addressChange?a("p",[e._v("现:"+e._s(t.row.addressChange.newValue))]):e._e(),t.row.addressChange?e._e():a("p",[e._v("--")])]}}])}),a("el-table-column",{attrs:{label:"父亲信息",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.fatherChange?a("p",[e._v("原:"+e._s(t.row.fatherChange.origValue))]):e._e(),t.row.fatherChange?a("p",[e._v("现:"+e._s(t.row.fatherChange.newValue))]):e._e(),t.row.fatherChange?e._e():a("p",[e._v("--")])]}}])}),a("el-table-column",{attrs:{label:"母亲信息",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.motherChange?a("p",[e._v("原:"+e._s(t.row.motherChange.origValue))]):e._e(),t.row.motherChange?a("p",[e._v("现:"+e._s(t.row.motherChange.newValue))]):e._e(),t.row.motherChange?e._e():a("p",[e._v("--")])]}}])}),a("el-table-column",{attrs:{label:"监护人信息",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.guardianChange?a("p",[e._v("原:"+e._s(t.row.guardianChange.origValue))]):e._e(),t.row.guardianChange?a("p",[e._v("现:"+e._s(t.row.guardianChange.newValue))]):e._e(),t.row.guardianChange?e._e():a("p",[e._v("--")])]}}])}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"提交时间",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e._f("substrTime")(t.row.auditTime)))])]}}])}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e.$enums.AuditStatus.getName(t.row.auditStatus)))])]}}])}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return["UNAUDITED"===t.row.auditStatus?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){e.showDialog(t.row,"edit")}}},[e._v("编辑")]):e._e(),"UNAUDITED"!==t.row.auditStatus?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){e.showDialog(t.row,"view")}}},[e._v("查看")]):e._e()]}}])})],1),a("no-data",{directives:[{name:"show",rawName:"v-show",value:!e.table.noData,expression:"!table.noData"}]}),a("paging",{attrs:{data:e.table},on:{"update:data":function(t){e.table=t}}})],1),a("el-dialog",{staticClass:"dialog",attrs:{width:"550px",visible:e.dialog,title:e.form.view?"查看":"编辑"},on:{"update:visible":function(t){e.dialog=t}}},[a("div",{staticClass:"item"},[a("span",{staticClass:"imp title"},[e._v("审核结果")]),a("el-select",{staticClass:"input",attrs:{disabled:e.form.view,"default-first-option":"",filterable:"",clearable:""},model:{value:e.form.auditStatus,callback:function(t){e.$set(e.form,"auditStatus",t)},expression:"form.auditStatus"}},e._l(e.$enums.AuditStatus.list,function(t,r){return"UNAUDITED"!==t.value?a("el-option",{key:r,attrs:{label:t.label,value:t.value}}):e._e()}))],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"NOT_PASS"===e.form.auditStatus,expression:"form.auditStatus === 'NOT_PASS'"}],staticClass:"item"},[a("p",{staticClass:"long-title mb10 imp"},[e._v("未通过原因")]),a("el-input",{attrs:{disabled:e.form.view,rows:3,type:"textarea",placeholder:"请输入原因"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"PART_PASS"===e.form.auditStatus&&!e.form.view,expression:"form.auditStatus === 'PART_PASS' && !form.view"}],staticClass:"item"},[a("p",{staticClass:"long-title imp"},[e._v("请选择通过项")]),a("el-checkbox-group",{staticClass:"radio-group",model:{value:e.form.changeIdList,callback:function(t){e.$set(e.form,"changeIdList",t)},expression:"form.changeIdList"}},e._l(e.form.studentChangeList,function(t,r){return a("el-checkbox",{key:r,staticClass:"radio",attrs:{label:t.id,border:""}},[e._v(e._s(e.$enums.ChangeType.getName(t.changeType)))])}))],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"PART_PASS"===e.form.auditStatus&&e.form.view,expression:"form.auditStatus === 'PART_PASS' && form.view"}],staticClass:"item"},[a("p",{staticClass:"long-title imp"},[e._v("请选择通过项")]),a("el-checkbox-group",{staticClass:"radio-group",attrs:{disabled:""},model:{value:e.form.changeIdList,callback:function(t){e.$set(e.form,"changeIdList",t)},expression:"form.changeIdList"}},e._l(e.$enums.ChangeType.list,function(t,r){return a("el-checkbox",{key:r,staticClass:"radio",attrs:{label:t.value,border:""}},[e._v(e._s(t.label))])}))],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"PART_PASS"===e.form.auditStatus,expression:"form.auditStatus === 'PART_PASS'"}],staticClass:"item"},[a("p",{staticClass:"long-title mb10 imp"},[e._v("剩余项未通过原因")]),a("el-input",{attrs:{disabled:e.form.view,rows:3,type:"textarea",placeholder:"请输入原因"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("div",{staticClass:"btns"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.form.view,expression:"!form.view"}],staticClass:"btn-submit btn-audit mr15",on:{click:e.doSubmit}},[e._v("提交")]),a("div",{staticClass:"btn-clear",on:{click:function(t){e.dialog=!1}}},[e._v(e._s(e.form.view?"返回":"取消"))])])])],1)},i=[],s=(a("6d67"),a("96cf"),a("1da1")),n={data:function(){return{nav:[{name:"学生信息审核",path:""}],searchData:[{type:"select",title:"审核状态",model:"auditStatus",option:this.$enums.AuditStatus.list},{type:"input",placeholder:"姓名"}],table:{url:"/student/queryStudentChangeRecordPage.do",el:".el-table",total:0,noData:!0,list:[],query:{auditStatus:null,keywords:""}},dialog:!1,form:{auditStatus:"PASS",remark:"",changeIdList:[]}}},methods:{showDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.dialog=!0,e.next=3,this.$ajax({url:"/student/getStudentChangeRecord.do",query:{id:t.id}});case 3:r=e.sent,this.form="edit"===a?{view:!1,id:t.id,auditStatus:"PASS",remark:"",studentChangeList:r.studentChangeList,changeIdList:[]}:{view:!0,id:t.id,auditStatus:t.auditStatus,remark:t.remark,studentChangeList:r.studentChangeList,changeIdList:r.studentChangeList.map(function(e){return e.changeType})},console.log(this.form.view);case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),getDetail:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),doSubmit:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.form.auditStatus){e.next=3;break}return this.$message.warning("请选择审核状态"),e.abrupt("return");case 3:if("PART_PASS"!==this.form.auditStatus||this.form.remark){e.next=6;break}return this.$message.warning("请填写备注"),e.abrupt("return");case 6:if("NOT_PASS"!==this.form.auditStatus||this.form.remark){e.next=9;break}return this.$message.warning("请填未通过原因"),e.abrupt("return");case 9:return t=JSON.parse(JSON.stringify(this.form)),"PASS"===t.auditStatus?(t.changeIdList=void 0,t.remark=void 0,t.studentChangeList=void 0):"NOT_PASS"===t.auditStatus&&(t.changeIdList=void 0,t.studentChangeList=void 0),e.next=13,this.$ajax({url:"/student/auditStudentChange.do",el:".btn-audit",noText:!1,query:t});case 13:this.$remind("审核成功"),this.dialog=!1,this.$search(this.table);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},mounted:function(){this.$search(this.table)}},o=n,u=(a("6f3c"),a("2877")),l=Object(u["a"])(o,r,i,!1,null,"2cc5156e",null);l.options.__file="Index.vue";t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-df225c66.1036a507.js.map