(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-657cdd62"],{"009a":function(e,t){e.exports="data:image/png;base64,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"},"02ba":function(e,t,A){"use strict";A.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"publicity"},[n("bread-nav",{attrs:{nav:e.nav}}),n("main-part",[n("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"120px",rules:e.rules}},[n("el-form-item",{attrs:{label:"封面",prop:"bannerImage"}},[n("span",{staticClass:"sign"},[e._v("1125*450")]),n("img",{directives:[{name:"show",rawName:"v-show",value:e.form.bannerImage,expression:"form.bannerImage"}],staticClass:"upload-img",attrs:{src:e.form.bannerImage+"?imageMogr2/crop/375x150",alt:"图片加载失败"}}),n("img",{directives:[{name:"show",rawName:"v-show",value:e.form.bannerImage,expression:"form.bannerImage"}],staticClass:"remove-img",attrs:{src:A("7989"),alt:""},on:{click:function(t){e.removeCover()}}}),n("label",{attrs:{for:"cover"}},[n("div",{staticClass:"cover-img"},[n("img",{directives:[{name:"show",rawName:"v-show",value:!e.form.bannerImage,expression:"!form.bannerImage"}],staticClass:"loading",attrs:{src:A("009a"),alt:""}})]),n("input",{ref:"uploadCover",attrs:{accept:"image/*",id:"cover",type:"file",hidden:""},on:{change:function(t){e.uploadCover(t)}}})])]),n("el-form-item",{attrs:{label:"标题：",prop:"title"}},[n("el-input",{staticStyle:{width:"51%"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("el-form-item",{attrs:{label:"正文内容：",prop:"content"}},[e.form.content||!e.id?n("wang-editor",{attrs:{content:e.form.content},on:{"update:content":function(t){e.$set(e.form,"content",t)}}}):e._e()],1),n("el-form-item",{attrs:{label:"附件："}},[n("div",{staticClass:"upload_view"},[n("div",{staticClass:"upload_view_list"}),n("div",{staticClass:"upload_view_button"},[n("uploader",{ref:"uploadZone",staticClass:"upload_view_btn",attrs:{options:e.uploadOptions,"file-status-text":e.fileStatusText}},[n("uploader-unsupport"),n("uploader-btn",{attrs:{attrs:e.attrs}},[e._v("上传文件")]),e._l(e.form.attachmentList,function(t,A){return n("div",{staticClass:"item"},[n("span",[e._v("文件"+e._s(A+1)+"："),n("a",{attrs:{href:t.fileUrl}},[e._v(e._s(t.fileName))])]),n("i",{staticClass:"el-icon-close",on:{click:function(t){e.removeEnd(A)}}})])}),n("uploader-list")],2)],1)])])],1),n("div",{staticClass:"btns"},[n("div",{staticClass:"btn-submit",on:{click:function(t){e.doSubmit()}}},[e._v("确定")]),n("div",{staticClass:"btn-clear",staticStyle:{"margin-left":"30px"},on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")])])],1)],1)},a=[],r=(A("759f"),A("7f7f"),A("96cf"),A("1da1")),i=(A("c5f6"),A("a481"),A("5967")),s={components:{item:i["a"]},data:function(){var e=function(e,t,A){t&&"<p><br></p>"!==t?A():A(new Error("请输入正文内容"))},t=this;return{id:t.$route.query.id,teachGroupId:t.$route.query.teachGroupId,tabPick:t.$route.query.tabPick,announcementDetail:[],nav:[{name:"教师风采",path:"go(-1)"},{name:"发布",path:""}],text:"发布成功",form:{title:null,content:null,attachmentList:[],teachGroupId:null,bannerImage:null},attachmentList:[],attrs:{accept:"*"},rules:{title:{required:!0,message:"请输入标题",trigger:"blur"},content:{required:!0,validator:e,trigger:"change"}},uploadOptions:{target:"".concat(window.location.origin).concat(this.$conf.API_PATH,"/uploadFileTrunk/trunkUpload.do"),testChunks:!1,chunkSize:2097152,singleFile:!1,parseTimeRemaining:function(e,t){return t.replace(/\syears?/,"年").replace(/\days?/,"天").replace(/\shours?/,"小时").replace(/\sminutes?/,"分钟").replace(/\sseconds?/,"秒")}},fileStatusText:{success:"上传成功",error:"上传错误",uploading:"正在上传",paused:"已暂停",waiting:"等待中"}}},watch:{"form.content":function(){var e=this;this.id&&setTimeout(function(){e.$refs.form.validate()},1)},"form.title":function(){var e=this;this.id&&setTimeout(function(){e.$refs.form.validate()},1)}},mounted:function(){var e=this;this.form.teachGroupId=Number(this.teachGroupId),this.$nextTick(function(){var t=e.$refs.uploadZone;if(t){var A=t.uploader;A.on("fileSuccess",function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(A,n,a){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$ajax({url:"/uploadFileTrunk/mergeChunks.do",query:{fileMd5:n.uniqueIdentifier,fileName:n.name}});case 2:r=t.sent,e.attachmentList.push({fileName:n.name,fileUrl:r});case 4:case"end":return t.stop()}},t,this)}));return function(e,A,n){return t.apply(this,arguments)}}()),A.on("fileRemoved",function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(A){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.attachmentList.some(function(t,n){if(t.name===A.name)return e.attachmentList.splice(n,1),!0});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}}),this.id&&this.getDetail()},methods:{removeEnd:function(e){this.form.attachmentList.splice(e,1),console.log(this.form.attachmentList)},getDetail:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$ajax({url:"/notice/getNotice.do",el:".form",query:{id:this.id}});case 2:this.announcementDetail=e.sent,this.form.title=this.announcementDetail.title,this.form.content=this.announcementDetail.content,this.form.bannerImage=this.announcementDetail.bannerImage,this.form.attachmentList=this.announcementDetail.attachmentList;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),uploadCover:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var A,n,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.target.files.length){e.next=2;break}return e.abrupt("return");case 2:if(A=t.target.files[0],!(A.size>10485760)){e.next=6;break}return this.$message.warning("封面图不能超过10M"),e.abrupt("return");case 6:return n=new FormData,n.append("file",A),a={url:"/oss/upload.do",query:n,el:".cover-img",noText:!0},e.next=11,this.$ajax(a);case 11:r=e.sent,this.form.bannerImage=r,this.$refs.uploadCover.value=null,console.log(this.form.bannerImage);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),removeCover:function(){this.form.bannerImage=null},doSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.form.validate();case 2:return this.attachmentList.length&&(this.form.attachmentList=this.form.attachmentList.concat(this.attachmentList)),t="/notice/addTeachGroup.do",this.id&&(this.text="修改成功",t="/notice/updateTeachGroup.do",this.form.id=this.id),e.next=7,this.$ajax({url:t,el:".form",query:this.form});case 7:this.$remind(this.text),this.$router.push("/research-orsay/teachingTeam");case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},o=s,c=(A("23cd"),A("2877")),l=Object(c["a"])(o,n,a,!1,null,"64383460",null);l.options.__file="Publicity.vue";t["default"]=l.exports},"23cd":function(e,t,A){"use strict";var n=A("7819"),a=A.n(n);a.a},"243d":function(e,t,A){"use strict";var n=A("9a3c"),a=A.n(n);a.a},5967:function(e,t,A){"use strict";var n=function(){var e=this,t=e.$createElement,A=e._self._c||t;return A("div",{staticClass:"form-item"},e._l(e.treeData,function(t){return A("div",[A("div",{class:["item",{hand:t.subOrgList.length||1===t.parentOrgId}],style:{paddingLeft:25*(t.tier-1)+10+"px"},on:{click:function(e){t.status=!t.status}}},[A("i",{class:[{rotate:t.status},"el-icon-caret-right"],style:{visibility:t.subOrgList.length?"visible":"hidden"}}),A("el-checkbox",{attrs:{value:e.judge(t.orgId)},on:{change:function(A){e.changeDep(t)}}},[A("span",[e._v(e._s(t.orgName))])])],1),A("el-collapse-transition",[A("item",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"item.status"}],attrs:{selectedDepName:e.selectedDepName,selectedDep:e.selectedDep,data:t.subOrgList}})],1)],1)}))},a=[],r=(A("57e7"),A("5488")),i=A.n(r),s={components:{elCollapseTransition:i.a},props:["data","selectedDep","selectedDepName"],name:"item",data:function(){return{}},computed:{treeData:function(){return this.data},treeSelectedDep:function(){return this.selectedDep},treeSelectedDepName:function(){return this.selectedDepName||[]}},methods:{changeDep:function(e){var t=this.treeSelectedDep.indexOf(e.orgId);-1===t?(this.treeSelectedDep.push(e.orgId),this.treeSelectedDepName.push(e.orgName)):(this.treeSelectedDep.splice(t,1),this.treeSelectedDepName.splice(t,1)),this.$emit("update:selectedDep",this.treeSelectedDep),this.$emit("update:selectedDepName",this.treeSelectedDepName)},judge:function(e){return-1!==this.treeSelectedDep.indexOf(e)}},mounted:function(){}},o=s,c=(A("243d"),A("2877")),l=Object(c["a"])(o,n,a,!1,null,"97780030",null);l.options.__file="Item.vue";t["a"]=l.exports},"759f":function(e,t,A){"use strict";var n=A("5ca1"),a=A("0a49")(3);n(n.P+n.F*!A("2f21")([].some,!0),"Array",{some:function(e){return a(this,e,arguments[1])}})},7819:function(e,t,A){},7989:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAABYmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgIHRpZmY6T3JpZW50YXRpb249IjgiLz4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9InIiPz7gzc0+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACZ0lEQVRYhdWZLZfiMBSGn9uzohKJRI4ciRw5ErkSuXJ/ysqVyJFIJBKJRCIrR9bdEU1L+pmbtgPMe05Fk9zmISnvTVJRVaZIRFbAEkhd0QrIgNzdX4FMVXMmSGJBRSQFXrzLqgy4AGdV/YzqlAhQB7h2VxpoHtIFOKnq1RpgAhWRNfDGdMCmzsDB8loMgrpR/E3x3n2XcmCnqtlQo15QEVlSQC7mZ+vUXlXPfZWdoA5yy/xTHVIvbNIscNO95f6QABsRee2qaIHyOMhS725Ga6qBisgbhXk/UimwaRZWoCKyoLCgZ9DSDVolf0Rbv6JHObCjyDSxOkTErd3/BXCg7p1YGYJLz7sSD7tX1VNEXJkJb6B+gQEyA3DZxNppZTuRcS1Qy+IipfFHM3Y6aOShPkXkBSBxyzSrHbV8LgDbgvR82uouKyhGdGUMKGWFnQOyBjrGN0Owc0FStv/F+Cy0ERF8IAf7v9lwAmQZvxwz9b56c7PXySRIp7Qr18eqF3YmSKB7UfKUmgO01ycjzX1QCcV2dqyCZj4TbJ5w23/HqtOCRORPZFIISlWzZGRwyCdjM9iQMhg39VYznwv2CpC4JZt1+mMzzhywBai7uRgC8ubDjT4ZTApDfarqBW6gJ0NQCmzLjVekmVewkXEVV7WvF5Et9lX+B/Bu7MzXAXg1xuXAv/K4xwddAH8jO/5OHVX1WN5UmckdBR47Ah6hzIeERgp1lZPT3UTlwL5Z2JXrd4zPVnPo0HWy1wL1fO4RsL1rh5997FhV3ucg9xP4GH2QW2v07EfjtYY/4WNDLeDZP9/0PuBOH8S+ALr/aiV7uWRVAAAAAElFTkSuQmCC"},"9a3c":function(e,t,A){}}]);
//# sourceMappingURL=chunk-657cdd62.193d6ef0.js.map