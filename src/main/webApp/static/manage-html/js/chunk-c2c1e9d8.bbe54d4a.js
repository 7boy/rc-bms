(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2c1e9d8"],{"0eba":function(t,e,a){"use strict";var n=a("5520"),i=a.n(n);i.a},5520:function(t,e,a){},8300:function(t,e,a){"use strict";var n=a("c222"),i=a.n(n);i.a},ab97:function(t,e,a){},c222:function(t,e,a){},e5dc:function(t,e,a){"use strict";var n=a("ab97"),i=a.n(n);i.a},f544:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bread-nav",{attrs:{nav:t.nav}}),a("main-part",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.tabPick,callback:function(e){t.tabPick=e},expression:"tabPick"}},[a("el-tab-pane",{attrs:{label:"预约记录",name:"reservation"}}),a("el-tab-pane",{attrs:{label:"会议室管理",name:"management"}})],1),"management"===t.tabPick?a("management"):t._e(),"reservation"===t.tabPick?a("reservation"):t._e()],1)],1)},i=[],s=(a("a481"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("search-box",{attrs:{searchData:t.searchData,table:t.table}}),a("div",{staticClass:"btn-block"},[a("div",{staticClass:"btn-main-deepen",on:{click:t.addMeeting}},[t._v("新增")])]),a("resize-table",[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"25%"}},[t._v("会议名称")]),a("th",{attrs:{width:"25%"}},[t._v("所在校区")]),a("th",{attrs:{width:"25%"}},[t._v("状态")]),a("th",{attrs:{width:"25%"}},[t._v("操作")])])]),a("tbody",t._l(t.table.list,function(e,n){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(t.getName(e.campusId)))]),a("td",[t._v(t._s(t.statusGetName(e.status)))]),a("td",[a("span",{staticClass:"oper",on:{click:function(a){t.detail(e)}}},[t._v("编辑")]),a("span",{staticClass:"oper",on:{click:function(a){t.remove(e)}}},[t._v("删除")])])])}))])]),a("no-data",{directives:[{name:"show",rawName:"v-show",value:!t.table.noData,expression:"!table.noData"}]}),a("paging",{attrs:{data:t.table},on:{"update:data":function(e){t.table=e}}}),a("el-dialog",{staticClass:"dialog",attrs:{title:"新增会议室",visible:t.dialogVisible,width:"40%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.dialogVisible?a("el-form",{ref:"form",attrs:{"label-width":"120px","label-position":"left",model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"会议室名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"所在校区：","label-width":"120px",prop:"campusId"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择"},model:{value:t.form.campusId,callback:function(e){t.$set(t.form,"campusId",e)},expression:"form.campusId"}},t._l(t.Campus,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1),a("el-form-item",{attrs:{label:"状态：",prop:"status"}},[a("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.OnlineStatus,function(e,n){return a("el-radio",{key:n,staticStyle:{"margin-right":"60px"},attrs:{border:"",label:e.value}},[t._v(t._s(e.label)+"\n            ")])}))],1)],1):t._e(),a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"btn-submit",on:{click:t.submitMeeting}},[t._v("提交")]),a("div",{staticClass:"btn-clear",staticStyle:{"margin-left":"70px"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("关闭")])])],1)],1)}),r=[],l=(a("ac6a"),a("f3e2"),a("7f7f"),a("96cf"),a("1da1")),o={list:[{label:"上线",value:"YES"},{label:"下线",value:"NO"}],allList:function(){return[{label:"全部",value:null}].concat(this.list)}},c={data:function(){return{OnlineStatus:o.list,dialogDate:[],searchData:[{type:"input",placeholder:"会议主题/关键词"},{type:"select",title:"状态",model:"status",option:o.allList()}],table:{url:"/meetingRoom/queryMeetingRoomPage.do",el:".table",total:0,noData:!0,list:[],query:{keywords:null,status:"YES"}},dialogVisible:!1,meetingSwitch:!1,Campus:[],meetingId:null,form:{campusId:null,name:null,status:null},rules:{campusId:{required:!0,message:"请选择校区",trigger:"change"},name:[{required:!0,message:"请输入会议室名称",trigger:"blur"},{min:1,max:40,message:"会议室名称不得超过40个字",trigger:"blur"}],status:{required:!0,message:"请选择状态",trigger:"change"}}}},watch:{dialogVisible:function(){this.dialogVisible||(this.form.campusId=null,this.form.name=null,this.form.status=null)}},methods:{getName:function(t){switch(t){case 1:return"南校区";case 2:return"东校区";case 3:return"九华校区";default:return t}},statusGetName:function(t){switch(t){case"YES":return"上线";case"NO":return"下线";default:return t}},remove:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("删除该会议室，会议室信息将从APP和管理后台均删除，该会议室不可再被预约！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:return t.next=4,this.$ajax({url:"/meetingRoom/delete.do",query:{id:e.id}});case 4:this.$remind("删除成功"),this.$search(this.table);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),submitMeeting:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.form.validate();case 2:return e="/meetingRoom/add.do",a="新增会议室成功",this.meetingSwitch&&(e="/meetingRoom/update.do",a="编辑会议室成功",this.form.id=this.meetingId),t.next=7,this.$ajax({url:e,el:"dialog",query:this.form});case 7:this.$remind(a),this.dialogVisible=!1,this.$search(this.table);case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),addMeeting:function(){this.dialogVisible=!0},detail:function(t){this.form.campusId=t.campusId,this.form.name=t.name,this.form.status=t.status,this.meetingId=t.id,this.dialogVisible=!0,this.meetingSwitch=!0},getCampus:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/campus/queryCampusList.do"});case 2:e=t.sent,e.forEach(function(t){a.Campus.push({value:t.id,label:t.name})});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$search(this.table),t.next=3,this.getCampus();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},u=c,m=(a("0eba"),a("2877")),d=Object(m["a"])(u,s,r,!1,null,"37c9a30d",null);d.options.__file="Management.vue";var h=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("search-box",{attrs:{searchData:t.searchData,table:t.table}}),a("resize-table",[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"16%"}},[t._v("会议时间")]),a("th",{attrs:{width:"16%"}},[t._v("会议主题")]),a("th",{attrs:{width:"16%"}},[t._v("会议室")]),a("th",{attrs:{width:"16%"}},[t._v("所在校区")]),a("th",{attrs:{width:"16%"}},[t._v("状态")]),a("th",{attrs:{width:"16%"}},[t._v("操作")])])]),a("tbody",t._l(t.table.list,function(e,n){return a("tr",[a("td",[t._v(t._s(e.meetingTime))]),a("td",[t._v(t._s(e.subject))]),a("td",[t._v(t._s(e.meetingRoomName))]),a("td",[t._v(t._s(e.campusName))]),a("td",[t._v(t._s(t.$enums.MeetingStatus.getName(e.meetingStatus)))]),a("td",[a("span",{staticClass:"oper",on:{click:function(a){t.detail(e)}}},[t._v("查看")]),a("span",{staticClass:"oper",on:{click:function(a){t.remove(e)}}},[t._v("取消")])])])}))])]),a("no-data",{directives:[{name:"show",rawName:"v-show",value:!t.table.noData,expression:"!table.noData"}]}),a("paging",{attrs:{data:t.table},on:{"update:data":function(e){t.table=e}}}),t.meetingDetail?a("el-dialog",{attrs:{title:"会议详情",visible:t.dialogVisible,width:"40%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{staticClass:"dialog_span"},[t._v("会议主题: "+t._s(t.meetingDetail.subject))]),a("span",{staticClass:"dialog_span"},[t._v("会议室: "+t._s(t.meetingDetail.meetingRoomName))]),a("span",{staticClass:"dialog_span"},[t._v("所在校区: "+t._s(t.meetingDetail.campusName))]),a("span",{staticClass:"dialog_span"},[t._v("会议时间: "+t._s(t.meetingDetail.meetingTime))]),a("span",{staticClass:"dialog_span"},[t._v("参与人员: "+t._s(t.meetingDetail.memberList.length))]),a("div",{staticClass:"btns"},t._l(t.meetingDetail.memberList,function(e){return a("div",{staticClass:"btn-main"},[t._v(t._s(e.name)+"\n        ")])})),a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"btn-clear",staticStyle:{"margin-left":"20px"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("关闭")])])]):t._e()],1)},b=[],g={data:function(){return{dialogDate:[],searchData:[{type:"input",placeholder:"会议主题/关键词"},{type:"dateSection",title:"会议时间",startDate:(new Date).setTime((new Date).getTime()-2592e6),endDate:new Date,modelName:["startDate","endDate"]},{type:"select",title:"状态",model:"meetingStatus",option:this.$enums.MeetingStatus.allList()}],table:{url:"/meetingOrder/queryPage.do",el:".table",total:0,noData:!0,list:[],query:{keywords:null,meetingStatus:"NOT_STARTED",startDate:new Date((new Date).setMonth((new Date).getMonth()-6)).$Format("yyyy-MM-dd 00:00:00"),endDate:(new Date).$Format("yyyy-MM-dd hh:mm:ss")}},dialogVisible:!1,meetingDetail:null,newTableList:[]}},methods:{remove:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("确认是否取消该预约记录，取消预约后不可被回复？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:return t.next=4,this.$ajax({url:"/meetingOrder/cancelMeetingOrder.do",query:{id:e.id}});case 4:this.$remind("取消成功"),this.$search(this.table);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),detail:function(t){this.dialogVisible=!0,this.meetingDetail=t,console.log(this.meetingDetail)}},mounted:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$search(this.table);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},f=g,v=(a("e5dc"),Object(m["a"])(f,p,b,!1,null,"4a6e9d07",null));v.options.__file="Reservation.vue";var _=v.exports,w={components:{management:h,reservation:_},data:function(){return{nav:[{name:"会议室预约",path:""}],tabPick:this.$route.query.tabPick||"reservation"}},methods:{handleClick:function(){this.$router.replace("/school/meeting-room?tabPick=".concat(this.tabPick))}},mounted:function(){}},y=w,x=(a("8300"),Object(m["a"])(y,n,i,!1,null,"34422768",null));x.options.__file="Index.vue";e["default"]=x.exports}}]);
//# sourceMappingURL=chunk-c2c1e9d8.bbe54d4a.js.map