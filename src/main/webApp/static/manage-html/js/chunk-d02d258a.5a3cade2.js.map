{"version":3,"sources":["webpack:///./src/views/command/Role.vue?a1c5","webpack:///src/views/command/Role.vue","webpack:///./src/views/command/Role.vue?aa99","webpack:///./src/views/command/Role.vue","webpack:///./src/views/command/Role.vue?eee0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","placeholder","nativeOn","keyup","$event","_k","keyCode","key","getData","model","value","table","query","condition","callback","$$v","$set","trim","expression","on","click","_v","showDialog","cellspacing","_m","_l","item","_s","currentPage","pageSize","roleName","title","roleDesc","roleType","Date","createTime","$Format","getRoleDetail","remove","directives","name","rawName","list","length","page-size","current-page","layout","total","current-change","handleCurrentChange","update:currentPage","modal","center","close-on-click-modal","visible","dialog","width","update:visible","ref","label-width","label-position","prop","label","roleList","placement","trigger","data","authorities","props","defaultProps","default-expanded-keys","node-key","show-checkbox","default-checked-keys","checkedKeys","slot","$refs","tree","setCheckedKeys","getCheckedKeys","editRole","staticRenderFns","Rolevue_type_script_lang_js_","url","loading","el","$conf","PAGES","children","methods","type","_getRoleDetail","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","res","i","wrap","_context","prev","next","$ajax","id","sent","push","stop","_x","apply","arguments","getAuthorities","_getAuthorities","_callee2","_context2","console","log","_getData","_callee3","_context3","pageItems","totalCount","_remove","_callee4","_context4","$confirm","confirmButtonText","cancelButtonText","$remind","_x2","_editRole","_callee5","text","_context5","$message","warning","abrupt","e","mounted","command_Rolevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Role_vue_vue_type_style_index_0_id_b0b975e2_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Role_vue_vue_type_style_index_0_id_b0b975e2_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"gJAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,aAAwB,CAAAF,EAAA,YAAiBE,YAAA,OAAAC,MAAA,CAA0BC,YAAA,YAAyBC,SAAA,CAAWC,MAAA,SAAAC,GAAyB,gBAAAA,IAAAX,EAAAY,GAAAD,EAAAE,QAAA,WAAAF,EAAAG,IAAA,SAAgF,YAAed,EAAAe,YAAeC,MAAA,CAAQC,MAAAjB,EAAAkB,MAAAC,MAAAC,UAAA,SAAAC,SAAA,SAAAC,GAAoEtB,EAAAuB,KAAAvB,EAAAkB,MAAAC,MAAAC,UAAA,6BAAAE,IAAAE,OAAAF,IAA4FG,WAAA,oCAA8CrB,EAAA,OAAYE,YAAA,YAAAoB,GAAA,CAA4BC,MAAA3B,EAAAe,UAAqB,CAAAf,EAAA4B,GAAA,WAAAxB,EAAA,OAA8BE,YAAA,mBAAAoB,GAAA,CAAmCC,MAAA,SAAAhB,GAAyBX,EAAA6B,WAAA,UAAwB,CAAA7B,EAAA4B,GAAA,aAAAxB,EAAA,SAAkCE,YAAA,QAAAC,MAAA,CAA2BuB,YAAA,MAAmB,CAAA9B,EAAA+B,GAAA,GAAA/B,EAAAgC,GAAAhC,EAAAkB,MAAA,cAAAe,EAAAnB,GAAuD,OAAAV,EAAA,MAAAA,EAAA,MAAAJ,EAAA4B,GAAA5B,EAAAkC,GAAApB,EAAA,GAAAd,EAAAkB,MAAAC,MAAAgB,YAAA,GAAAnC,EAAAkB,MAAAC,MAAAiB,aAAAhC,EAAA,MAAAJ,EAAA4B,GAAA5B,EAAAkC,GAAAD,EAAAI,aAAAjC,EAAA,MAAsKG,MAAA,CAAO+B,MAAAL,EAAAM,WAAuB,CAAAvC,EAAA4B,GAAA5B,EAAAkC,GAAAD,EAAAM,aAAAnC,EAAA,MAAAJ,EAAA4B,GAAA5B,EAAAkC,GAAA,OAAAD,EAAAO,SAAA,eAAApC,EAAA,MAAAJ,EAAA4B,GAAA5B,EAAAkC,GAAA,IAAAO,KAAAR,EAAAS,YAAAC,QAAA,2BAAAvC,EAAA,MAAAA,EAAA,QAAyME,YAAA,OAAAoB,GAAA,CAAuBC,MAAA,SAAAhB,GAAyBX,EAAA4C,cAAAX,MAA0B,CAAAjC,EAAA4B,GAAA,QAAAxB,EAAA,QAA4BE,YAAA,QAAkBF,EAAA,QAAaE,YAAA,OAAAoB,GAAA,CAAuBC,MAAA,SAAAhB,GAAyBX,EAAA6C,OAAAZ,MAAmB,CAAAjC,EAAA4B,GAAA,cAAqBxB,EAAA,WAAgB0C,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAA/B,OAAAjB,EAAAkB,MAAA+B,KAAAC,OAAAzB,WAAA,0BAA8F,GAAArB,EAAA,iBAA0BE,YAAA,aAAAC,MAAA,CAAgC4C,YAAAnD,EAAAkB,MAAAC,MAAAiB,SAAAgB,eAAApD,EAAAkB,MAAAC,MAAAgB,YAAAkB,OAAA,4BAAAC,MAAAtD,EAAAkB,MAAAoC,OAA6I5B,GAAA,CAAK6B,iBAAAvD,EAAAwD,oBAAAC,qBAAA,SAAA9C,GAA+EX,EAAAuB,KAAAvB,EAAAkB,MAAAC,MAAA,cAAAR,QAAmD,GAAAP,EAAA,aAAsBG,MAAA,CAAOmD,OAAA,EAAAC,OAAA,GAAArB,MAAAtC,EAAAsC,MAAAsB,wBAAA,EAAAC,QAAA7D,EAAA8D,OAAAC,MAAA,SAA8GrC,GAAA,CAAKsC,iBAAA,SAAArD,GAAkCX,EAAA8D,OAAAnD,KAAoB,CAAAP,EAAA,WAAgB6D,IAAA,OAAA3D,YAAA,OAAAC,MAAA,CAAqC2D,cAAA,OAAAC,iBAAA,SAA8C,CAAA/D,EAAA,gBAAqBG,MAAA,CAAO6D,KAAA,cAAAC,MAAA,SAAqC,CAAAjE,EAAA,YAAiBG,MAAA,CAAOC,YAAA,WAAwBQ,MAAA,CAAQC,MAAAjB,EAAAsE,SAAAnD,MAAA,SAAAE,SAAA,SAAAC,GAA6DtB,EAAAuB,KAAAvB,EAAAsE,SAAAnD,MAAA,WAAAG,IAA8CG,WAAA,8BAAuC,GAAArB,EAAA,gBAAyBG,MAAA,CAAO6D,KAAA,cAAAC,MAAA,SAAqC,CAAAjE,EAAA,YAAiBG,MAAA,CAAOC,YAAA,WAAwBQ,MAAA,CAAQC,MAAAjB,EAAAsE,SAAAnD,MAAA,SAAAE,SAAA,SAAAC,GAA6DtB,EAAAuB,KAAAvB,EAAAsE,SAAAnD,MAAA,WAAAG,IAA8CG,WAAA,8BAAuC,GAAArB,EAAA,gBAAyBG,MAAA,CAAO6D,KAAA,cAAAC,MAAA,SAAqC,CAAAjE,EAAA,cAAmBG,MAAA,CAAOgE,UAAA,QAAAR,MAAA,MAAAS,QAAA,SAAoDxD,MAAA,CAAQC,MAAAjB,EAAA,QAAAqB,SAAA,SAAAC,GAA6CtB,EAAA6D,QAAAvC,GAAgBG,WAAA,YAAuB,CAAArB,EAAA,WAAgB6D,IAAA,OAAA3D,YAAA,UAAAC,MAAA,CAAwCkE,KAAAzE,EAAA0E,YAAAzB,KAAA0B,MAAA3E,EAAA4E,aAAAC,wBAAA,SAAAC,WAAA,KAAAC,gBAAA,GAAAC,uBAAAhF,EAAAiF,eAAiK7E,EAAA,OAAYE,YAAA,UAAAC,MAAA,CAA6B2E,KAAA,aAAmBxD,GAAA,CAAKC,MAAA,SAAAhB,GAAyBX,EAAAmF,MAAAC,KAAAC,eAAArF,EAAAiF,aAA+CjF,EAAA6D,SAAA7D,EAAA6D,UAA4BqB,KAAA,aAAkB,CAAAlF,EAAA4B,GAAA,UAAAxB,EAAA,OAA6BE,YAAA,aAAwB,CAAAF,EAAA,OAAYE,YAAA,gBAAAoB,GAAA,CAAgCC,MAAA,SAAAhB,GAAyBX,EAAAiF,YAAAjF,EAAAmF,MAAAC,KAAAE,iBAAkDtF,EAAA6D,SAAA,KAAsB,CAAA7D,EAAA4B,GAAA,QAAAxB,EAAA,OAA2BE,YAAA,WAAAoB,GAAA,CAA2BC,MAAA,SAAAhB,GAAyBX,EAAA6D,SAAA,KAAsB,CAAA7D,EAAA4B,GAAA,sBAAAxB,EAAA,OAAyCE,YAAA,aAAwB,CAAAF,EAAA,OAAYE,YAAA,gBAAAoB,GAAA,CAAgCC,MAAA,SAAAhB,GAAyBX,EAAAuF,cAAiB,CAAAvF,EAAA4B,GAAA,QAAAxB,EAAA,OAA2BE,YAAA,WAAAoB,GAAA,CAA2BC,MAAA,SAAAhB,GAAyBX,EAAA8D,QAAA,KAAqB,CAAA9D,EAAA4B,GAAA,mBACr4H4D,EAAA,YAAoC,IAAAxF,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAAA,EAAA,MAAyBG,MAAA,CAAOwD,MAAA,QAAe,CAAA/D,EAAA4B,GAAA,QAAAxB,EAAA,MAA0BG,MAAA,CAAOwD,MAAA,QAAe,CAAA/D,EAAA4B,GAAA,UAAAxB,EAAA,MAA4BG,MAAA,CAAOwD,MAAA,QAAe,CAAA/D,EAAA4B,GAAA,UAAAxB,EAAA,MAA4BG,MAAA,CAAOwD,MAAA,QAAe,CAAA/D,EAAA4B,GAAA,QAAAxB,EAAA,MAA0BG,MAAA,CAAOwD,MAAA,QAAe,CAAA/D,EAAA4B,GAAA,UAAAxB,EAAA,MAA4BG,MAAA,CAAOwD,MAAA,QAAe,CAAA/D,EAAA4B,GAAA,oCCgFxY6D,iCAAA,CACA1C,KAAA,OACA0B,KAFA,WAGA,OACAvD,MAAA,CACAwE,IAAA,aACAC,QAAA,SACA1C,KAAA,GACAK,MAAA,EACAsC,GAAA,SACAzE,MAAA,CACAC,UAAA,CACAiB,SAAA,IAEAF,YAAA,EACAC,SAAAnC,KAAA4F,MAAAC,QAIApB,YAAA,CACAgB,IAAA,oBACAzC,KAAA,IAGAgC,YAAA,GAEAX,SAAA,CACAoB,IAAA,YACAvE,MAAA,CACAkB,SAAA,GACAE,SAAA,GACAmC,YAAA,KAGAb,SAAA,EACAvB,MAAA,UACAwB,QAAA,EACAc,aAAA,CACAmB,SAAA,cACA1B,MAAA,UAIA2B,QAAA,CAEAnE,WAFA,SAEAoE,EAAAhE,GACAhC,KAAA6D,QAAA,EACA7D,KAAAgF,YAAA,GAEAhF,KAAAqC,MAAA,UACArC,KAAAqE,SAAAnD,MAAA,CACAkB,SAAA,GACAE,SAAA,GACAmC,YAAA,KAIA9B,cAdA,eAAAsD,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,EAcAtE,GAdA,IAAAuE,EAAAC,EAAA,OAAAJ,mBAAAK,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAeA5G,KAAA6G,MAAA,CACApB,IAAA,eACAvE,MAAA,CACA4F,GAAA9E,EAAA8E,MAlBA,OA4BA,IAAAN,KAbAD,EAfAG,EAAAK,KAqBA/G,KAAAqE,SAAAnD,MAAA,CACA4F,GAAAP,EAAAO,GACA1E,SAAAmE,EAAAnE,SACAE,SAAAiE,EAAAjE,SACAmC,YAAA8B,EAAA9B,aAEAzE,KAAAgF,YAAA,GACAuB,EAAA9B,YACAzE,KAAAgF,YAAAgC,KAAAR,GAEAxG,KAAA6D,QAAA,EACA7D,KAAAqC,MAAA,UAhCA,wBAAAqE,EAAAO,SAAAX,EAAAtG,SAAA,gBAAAkH,GAAA,OAAAjB,EAAAkB,MAAAnH,KAAAoH,YAAA,GAmCAC,eAnCA,eAAAC,EAAApB,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAkB,IAAA,IAAAhB,EAAA,OAAAH,mBAAAK,KAAA,SAAAe,GAAA,eAAAA,EAAAb,KAAAa,EAAAZ,MAAA,cAAAY,EAAAZ,KAAA,EAoCA5G,KAAA6G,MAAA7G,KAAAyE,aApCA,OAoCA8B,EApCAiB,EAAAT,KAqCAU,QAAAC,IAAAnB,GACAvG,KAAAyE,YAAAzB,KAAA,CAAAuD,GAtCA,wBAAAiB,EAAAP,SAAAM,EAAAvH,SAAA,yBAAAsH,EAAAH,MAAAnH,KAAAoH,YAAA,GAyCAtG,QAzCA,eAAA6G,EAAAzB,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAuB,IAAA,IAAArB,EAAA,OAAAH,mBAAAK,KAAA,SAAAoB,GAAA,eAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,cAAAiB,EAAAjB,KAAA,EA0CA5G,KAAA6G,MAAA7G,KAAAiB,OA1CA,OA0CAsF,EA1CAsB,EAAAd,KA2CA/G,KAAAiB,MAAA+B,KAAAuD,EAAAuB,WAAA,GACA9H,KAAAiB,MAAAoC,MAAAkD,EAAAwB,WA5CA,wBAAAF,EAAAZ,SAAAW,EAAA5H,SAAA,yBAAA2H,EAAAR,MAAAnH,KAAAoH,YAAA,GA+CAxE,OA/CA,eAAAoF,EAAA9B,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAA4B,EA+CAjG,GA/CA,OAAAoE,mBAAAK,KAAA,SAAAyB,GAAA,eAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAAAsB,EAAAtB,KAAA,EAgDA5G,KAAAmI,SAAA,4BACAC,kBAAA,KACAC,iBAAA,KACArC,KAAA,YAnDA,cAAAkC,EAAAtB,KAAA,EAqDA5G,KAAA6G,MAAA,CACApB,IAAA,eACAvE,MAAA,CACA4F,GAAA9E,EAAA8E,MAxDA,OA2DA9G,KAAAsI,QAAA,QACAtI,KAAAc,UA5DA,wBAAAoH,EAAAjB,SAAAgB,EAAAjI,SAAA,gBAAAuI,GAAA,OAAAP,EAAAb,MAAAnH,KAAAoH,YAAA,GA+DA9B,SA/DA,eAAAkD,EAAAtC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAoC,IAAA,IAAAC,EAAA,OAAAtC,mBAAAK,KAAA,SAAAkC,GAAA,eAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,UAgEA8B,EAAA,GACA,YAAA1I,KAAAqC,OACAqG,EAAA,OACA1I,KAAAqE,SAAAoB,IAAA,iBAEAiD,EAAA,OACA1I,KAAAqE,SAAAoB,IAAA,aAEAzF,KAAAqE,SAAAnD,MAAAuD,YAAAzE,KAAAgF,YACAhF,KAAAqE,SAAAnD,MAAAuD,YAAAxB,OAzEA,CAAA0F,EAAA/B,KAAA,eA0EA5G,KAAA4I,SAAAC,QAAA,SA1EAF,EAAAG,OAAA,oBA6EA9I,KAAAqE,SAAAnD,MAAAkB,SA7EA,CAAAuG,EAAA/B,KAAA,eA8EA5G,KAAA4I,SAAAC,QAAA,WA9EAF,EAAAG,OAAA,wBAAAH,EAAA/B,KAAA,GAiFA5G,KAAA6G,MAAA7G,KAAAqE,UAjFA,QAkFArE,KAAAsI,QAAAI,GACA1I,KAAA6D,QAAA,EACA7D,KAAAiB,MAAAC,MAAA,CACAC,UAAA,CACAiB,SAAA,IAEAF,YAAA,EACAC,SAAAnC,KAAA4F,MAAAC,OAEA7F,KAAAc,UA3FA,yBAAA6H,EAAA1B,SAAAwB,EAAAzI,SAAA,yBAAAwI,EAAArB,MAAAnH,KAAAoH,YAAA,GA8FA7D,oBA9FA,SA8FAwF,GACA/I,KAAAiB,MAAAC,MAAAgB,YAAA6G,EACA/I,KAAAc,YAGAkI,QA9IA,WA+IAhJ,KAAAc,UACAd,KAAAqH,oBCjO6V4B,EAAA,0BCQ7VC,EAAgBhD,OAAAiD,EAAA,KAAAjD,CACd+C,EACAnJ,EACAyF,GACF,EACA,KACA,WACA,MAIA2D,EAAAE,QAAAC,OAAA,WACeC,EAAA,WAAAJ,6CCpBf,IAAAK,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAqjBE,EAAG","file":"js/chunk-d02d258a.5a3cade2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"table-box\"},[_c('el-input',{staticClass:\"mr10\",attrs:{\"placeholder\":\"请输入：角色名称\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.getData()}},model:{value:(_vm.table.query.condition.roleName),callback:function ($$v) {_vm.$set(_vm.table.query.condition, \"roleName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"table.query.condition.roleName\"}}),_c('div',{staticClass:\"btn-main \",on:{\"click\":_vm.getData}},[_vm._v(\"查   询\")]),_c('div',{staticClass:\"btn-main btn-add\",on:{\"click\":function($event){_vm.showDialog('add')}}},[_vm._v(\"新建自定义角色\")]),_c('table',{staticClass:\"table\",attrs:{\"cellspacing\":\"0\"}},[_vm._m(0),_vm._l((_vm.table.list),function(item,key){return _c('tr',[_c('td',[_vm._v(_vm._s((key + 1) + (_vm.table.query.currentPage - 1) * _vm.table.query.pageSize))]),_c('td',[_vm._v(_vm._s(item.roleName))]),_c('td',{attrs:{\"title\":item.roleDesc}},[_vm._v(_vm._s(item.roleDesc))]),_c('td',[_vm._v(_vm._s(item.roleType === '00'? '默认': '自定义'))]),_c('td',[_vm._v(_vm._s(new Date(item.createTime).$Format('yyyy-MM-dd hh:mm:ss')))]),_c('td',[_c('span',{staticClass:\"oper\",on:{\"click\":function($event){_vm.getRoleDetail(item)}}},[_vm._v(\"修改\")]),_c('span',{staticClass:\"col\"}),_c('span',{staticClass:\"oper\",on:{\"click\":function($event){_vm.remove(item)}}},[_vm._v(\"删除\")])])])}),_c('no-data',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.table.list.length),expression:\"!table.list.length\"}]})],2),_c('el-pagination',{staticClass:\"pagination\",attrs:{\"page-size\":_vm.table.query.pageSize,\"current-page\":_vm.table.query.currentPage,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.table.total},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.table.query, \"currentPage\", $event)}}})],1),_c('el-dialog',{attrs:{\"modal\":false,\"center\":\"\",\"title\":_vm.title,\"close-on-click-modal\":false,\"visible\":_vm.dialog,\"width\":\"420px\"},on:{\"update:visible\":function($event){_vm.dialog=$event}}},[_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"label-width\":\"70px\",\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"prop\":\"oldPassword\",\"label\":\"角色名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色名称\"},model:{value:(_vm.roleList.query.roleName),callback:function ($$v) {_vm.$set(_vm.roleList.query, \"roleName\", $$v)},expression:\"roleList.query.roleName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"oldPassword\",\"label\":\"角色描述\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色描述\"},model:{value:(_vm.roleList.query.roleDesc),callback:function ($$v) {_vm.$set(_vm.roleList.query, \"roleDesc\", $$v)},expression:\"roleList.query.roleDesc\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"oldPassword\",\"label\":\"权限设置\"}},[_c('el-popover',{attrs:{\"placement\":\"right\",\"width\":\"400\",\"trigger\":\"click\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('el-tree',{ref:\"tree\",staticClass:\"el-tree\",attrs:{\"data\":_vm.authorities.list,\"props\":_vm.defaultProps,\"default-expanded-keys\":['root'],\"node-key\":\"id\",\"show-checkbox\":\"\",\"default-checked-keys\":_vm.checkedKeys}}),_c('div',{staticClass:\"btn-set\",attrs:{\"slot\":\"reference\"},on:{\"click\":function($event){_vm.$refs.tree.setCheckedKeys(_vm.checkedKeys);_vm.visible = !_vm.visible}},slot:\"reference\"},[_vm._v(\"设置权限\")]),_c('div',{staticClass:\"btns mt25\"},[_c('div',{staticClass:\"btn-main mr15\",on:{\"click\":function($event){_vm.checkedKeys = _vm.$refs.tree.getCheckedKeys();_vm.visible = false}}},[_vm._v(\"提交\")]),_c('div',{staticClass:\"btn-main\",on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"关闭\")])])],1)],1)],1),_c('div',{staticClass:\"btns mt25\"},[_c('div',{staticClass:\"btn-main mr15\",on:{\"click\":function($event){_vm.editRole()}}},[_vm._v(\"提交\")]),_c('div',{staticClass:\"btn-main\",on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"关闭\")])])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"width\":\"13%\"}},[_vm._v(\"序号\")]),_c('th',{attrs:{\"width\":\"14%\"}},[_vm._v(\"角色名称\")]),_c('th',{attrs:{\"width\":\"25%\"}},[_vm._v(\"角色描述\")]),_c('th',{attrs:{\"width\":\"14%\"}},[_vm._v(\"类型\")]),_c('th',{attrs:{\"width\":\"14%\"}},[_vm._v(\"创建时间\")]),_c('th',{attrs:{\"width\":\"20%\"}},[_vm._v(\"操作\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"table-box\">\n      <el-input v-model.trim=\"table.query.condition.roleName\"\n                @keyup.enter.native=\"getData()\"\n                class=\"mr10\" placeholder=\"请输入：角色名称\"></el-input>\n      <div @click=\"getData\" class=\"btn-main \">查&nbsp;&nbsp;&nbsp;询</div>\n      <div @click=\"showDialog('add')\" class=\"btn-main btn-add\">新建自定义角色</div>\n      <table cellspacing=\"0\"  class=\"table\">\n        <tr>\n          <th width=\"13%\">序号</th>\n          <th width=\"14%\">角色名称</th>\n          <th width=\"25%\">角色描述</th>\n          <th width=\"14%\">类型</th>\n          <th width=\"14%\">创建时间</th>\n          <th width=\"20%\">操作</th>\n        </tr>\n        <tr v-for=\"(item,key) in table.list\">\n          <td>{{(key + 1) + (table.query.currentPage - 1) * table.query.pageSize}}</td>\n          <td>{{item.roleName}}</td>\n          <td :title=\"item.roleDesc\">{{item.roleDesc}}</td>\n          <td>{{item.roleType === '00'? '默认': '自定义'}}</td>\n          <td>{{new Date(item.createTime).$Format('yyyy-MM-dd hh:mm:ss')}}</td>\n          <td>\n            <span @click=\"getRoleDetail(item)\" class=\"oper\">修改</span>\n            <span class=\"col\"></span>\n            <span @click=\"remove(item)\" class=\"oper\">删除</span>\n          </td>\n        </tr>\n        <no-data v-show=\"!table.list.length\"></no-data>\n      </table>\n      <el-pagination\n          class=\"pagination\"\n          :page-size=\"table.query.pageSize\"\n          @current-change=\"handleCurrentChange\"\n          :current-page.sync=\"table.query.currentPage\"\n          layout=\"prev, pager, next, jumper\"\n          :total=\"table.total\">\n      </el-pagination>\n    </div>\n    <el-dialog :modal=\"false\" center :title=\"title\"\n               :close-on-click-modal=\"false\"\n               :visible.sync=\"dialog\" width=\"420px\">\n      <el-form class=\"form\" ref=\"form\" label-width=\"70px\" label-position=\"left\">\n        <el-form-item prop=\"oldPassword\" label=\"角色名称\">\n          <el-input v-model=\"roleList.query.roleName\"  placeholder=\"请输入角色名称\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"oldPassword\" label=\"角色描述\">\n          <el-input v-model=\"roleList.query.roleDesc\" placeholder=\"请输入角色描述\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"oldPassword\" label=\"权限设置\">\n          <el-popover\n            v-model=\"visible\"\n            placement=\"right\"\n            width=\"400\"\n            trigger=\"click\">\n          <el-tree class=\"el-tree\" :data=\"authorities.list\"\n                   :props=\"defaultProps\"\n                   :default-expanded-keys=\"['root']\"\n                   ref=\"tree\"\n                   node-key=\"id\" show-checkbox\n                   :default-checked-keys=\"checkedKeys\"\n                   ></el-tree>\n          <div slot=\"reference\"\n               @click=\"$refs.tree.setCheckedKeys(checkedKeys);visible = !visible\" class=\"btn-set\">设置权限</div>\n          <div class=\"btns mt25\">\n            <div @click=\"checkedKeys = $refs.tree.getCheckedKeys();visible = false\" class=\"btn-main mr15\">提交</div>\n            <div @click=\"visible = false\" class=\"btn-main\">关闭</div>\n          </div>\n        </el-popover>\n        </el-form-item>\n      </el-form>\n      <div class=\"btns mt25\">\n        <div  @click=\"editRole()\" class=\"btn-main mr15\">提交</div>\n        <div @click=\"dialog = false\" class=\"btn-main\">关闭</div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"Info\",\n    data(){\n      return {\n        table:{\n          url: '/role/list',\n          loading: '.table',\n          list: [],\n          total: 0,\n          el: '.table',\n          query:{\n            condition:{\n              roleName: '',\n            },\n            currentPage: 1,\n            pageSize: this.$conf.PAGES,\n          }\n        },\n        // 权限列表\n        authorities: {\n          url: '/role/authorities',\n          list: []\n        },\n        // 选中的角色\n        checkedKeys: [],\n        // 角色\n        roleList: {\n          url: '/role/add',\n          query:{\n            roleName: '',\n            roleDesc: '',\n            authorities: []\n          }\n        },\n        visible: false,\n        title: '新建自定义角色',\n        dialog: false,\n        defaultProps: {\n          children: 'authorities',\n          label: 'name'\n        }\n      }\n    },\n    methods: {\n      // 展现弹窗\n      showDialog(type, item){\n        this.dialog = true\n        this.checkedKeys = []\n\n          this.title = '新建自定义角色'\n          this.roleList.query = {\n            roleName: '',\n            roleDesc: '',\n            authorities: []\n          }\n      },\n      // 获取角色详情\n      async getRoleDetail(item){\n        let res = await this.$ajax({\n          url: '/role/detail',\n          query: {\n            id: item.id\n          }\n        })\n        this.roleList.query = {\n          id: res.id,\n          roleName: res.roleName,\n          roleDesc: res.roleDesc,\n          authorities: res.authorities\n        }\n        this.checkedKeys = []\n        for(let i in res.authorities){\n          this.checkedKeys.push(i)\n        }\n        this.dialog = true\n        this.title = '修改自定义角色'\n      },\n      // 查询所有权限\n      async getAuthorities(){\n        let res = await this.$ajax(this.authorities)\n        console.log(res)\n        this.authorities.list = [res]\n      },\n      // 获取表格数据\n      async getData(){\n        let res = await this.$ajax(this.table)\n        this.table.list = res.pageItems || []\n        this.table.total = res.totalCount\n      },\n      // 删除\n      async remove(item){\n        await this.$confirm(`数据删除后将不能恢复，请确认是否删除！`, '提示', {\n          confirmButtonText: '确认',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        await this.$ajax({\n          url: '/role/delete',\n          query:{\n            id: item.id\n          }\n        })\n        this.$remind('删除成功')\n        this.getData()\n      },\n      // 新建角色\n      async editRole(){\n        let text = ''\n        if(this.title === '修改自定义角色'){\n          text = '修改成功'\n          this.roleList.url = '/role/update'\n        }else{\n          text = '新建成功'\n          this.roleList.url = '/role/add'\n        }\n        this.roleList.query.authorities = this.checkedKeys\n        if(!this.roleList.query.authorities.length){\n          this.$message.warning('请设置权限')\n          return\n        }\n        if(!this.roleList.query.roleName){\n          this.$message.warning('请输入角色名称')\n          return\n        }\n        await this.$ajax(this.roleList)\n        this.$remind(text)\n        this.dialog = false\n        this.table.query = {\n          condition:{\n            roleName: '',\n          },\n          currentPage: 1,\n          pageSize: this.$conf.PAGES,\n        }\n        this.getData()\n      },\n      // 分页切换\n      handleCurrentChange(e){\n        this.table.query.currentPage = e\n        this.getData()\n      }\n    },\n    mounted() {\n      this.getData()\n      this.getAuthorities()\n    }\n  }\n</script>\n\n<style lang=\"sass\" scoped>\n  .btn-set\n    width: 100%\n    text-align: center\n    height: 28px\n    line-height: 28px\n    border-radius: 5px\n    color: $main-c\n    border: 1px solid $main-c\n    cursor: pointer\n    display: inline-block\n    &:hover\n      opacity: .7\n    &:active\n      opacity: 1\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Role.vue?vue&type=template&id=b0b975e2&scoped=true&\"\nimport script from \"./Role.vue?vue&type=script&lang=js&\"\nexport * from \"./Role.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Role.vue?vue&type=style&index=0&id=b0b975e2&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b0b975e2\",\n  null\n  \n)\n\ncomponent.options.__file = \"Role.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=style&index=0&id=b0b975e2&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role.vue?vue&type=style&index=0&id=b0b975e2&lang=sass&scoped=true&\""],"sourceRoot":""}