(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-595726fe"],{"2caf":function(t,e,s){var a=s("5ca1");a(a.S,"Array",{isArray:s("1169")})},4819:function(t,e,s){"use strict";var a=s("c2ce"),i=s.n(a);i.a},ba82:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index"},[s("bread-nav",{attrs:{nav:t.nav}}),s("main-part",[s("div",{staticClass:"mt5"},[s("span",{staticClass:"mr25"},[t._v("月份")]),s("el-date-picker",{attrs:{format:"yyyy年MM月",clearable:!1,type:"month",placeholder:"选择时间"},on:{change:t.getDetail},model:{value:t.form.salaryMonth,callback:function(e){t.$set(t.form,"salaryMonth",e)},expression:"form.salaryMonth"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.imported,expression:"imported"}],staticClass:"ml20 gary"},[t._v("注：当月工资模板已生成，请勿轻易修改。修改工资模板后原工资模板则失效，需下载新模板方可成功导入工资信息。")])],1),s("div",{staticClass:"item-box mt20"},[t._l(t.data,function(e){return s("div",{staticClass:"item"},[s("span",{staticClass:"bold"},[t._v(t._s(e))])])}),t._l(t.form.templateList,function(e,a){return s("div",{staticClass:"item"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!e.status,expression:"!item.status"}],attrs:{title:e.name}},[t._v(t._s(e.name))]),s("el-input",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"item.status"}],attrs:{placeholder:"请输入",size:"small"},model:{value:t.itemName,callback:function(e){t.itemName=e},expression:"itemName"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"item.status"}],staticClass:"icons"},[s("i",{staticClass:"el-icon-check",on:{click:function(e){t.editItemFun(a)}}}),t._v(" \n          "),s("i",{directives:[{name:"show",rawName:"v-show",value:!e.name,expression:"!item.name"}],staticClass:"el-icon-close",on:{click:function(e){t.form.templateList.splice(a,1)}}}),s("i",{directives:[{name:"show",rawName:"v-show",value:e.name,expression:"item.name"}],staticClass:"el-icon-close",on:{click:function(t){e.status=!1}}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.status,expression:"!item.status"}],staticClass:"icons"},[s("i",{staticClass:"el-icon-edit-outline",on:{click:function(s){t.showEditForm(e,a)}}}),s("i",{staticClass:"el-icon-delete",on:{click:function(e){t.form.templateList.splice(a,1)}}}),s("i",{directives:[{name:"show",rawName:"v-show",value:0!==a,expression:"key !== 0"}],staticClass:"el-icon-caret-left",on:{click:function(e){t.swapItems(a,"left")}}}),s("i",{directives:[{name:"show",rawName:"v-show",value:a<t.form.templateList.length-1,expression:"key < form.templateList.length - 1"}],staticClass:"el-icon-caret-right",on:{click:function(e){t.swapItems(a,"right")}}})])],1)}),s("div",{staticClass:"item"},[s("span",{staticClass:"bold"},[t._v("实发数")])]),s("div",{staticClass:"item tc",on:{click:t.showItemForm}},[s("i",{staticClass:"el-icon-plus"})])],2),s("div",{staticClass:"btns"},[s("div",{staticClass:"btn-submit btn-save mr15",on:{click:t.doSubmit}},[t._v("保存工资模板")]),s("div",{staticClass:"btn-clear",on:{click:function(e){t.$router.go(-1)}}},[t._v("返回")])])])],1)},i=[],n=(s("7f7f"),s("ac6a"),s("f3e2"),s("96cf"),s("1da1")),r=(s("2caf"),{data:function(){return{nav:[{name:"工资信息",path:"go(-1)"},{name:"设置工资模板",path:""}],data:["基本工资","其中：基本工资1","其中：之前浮动4%","其中：浮动5%","其中：浮动10%","其中：校龄","其中：工作年限奖","应发数"],form:{salaryMonth:new Date,templateList:[]},imported:!1,itemName:""}},methods:{showItemForm:function(){this.form.templateList.every(function(t){return!t.status})&&(this.form.templateList.push({name:"",status:!0}),this.itemName="")},editItemFun:function(t){this.itemName?(this.form.templateList[t].status=!1,this.form.templateList[t].name=this.itemName):this.$message.warning("请输入名称")},swapItems:function(t,e){"left"===e&&t>0&&(this.form.templateList[t]=this.form.templateList.splice(t-1,1,this.form.templateList[t])[0]),"right"===e&&t!==this.form.templateList.length-1&&(this.form.templateList[t]=this.form.templateList.splice(t+1,1,this.form.templateList[t])[0])},getDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new Date(this.form.salaryMonth).$Format("yyyy-MM-dd hh:mm:ss"),t.next=3,this.$ajax({url:"/salary/querySalaryTemplateList.do",el:".item-box",query:{salaryMonth:e}});case 3:return s=t.sent,s.forEach(function(t){t.status=!1}),this.form.templateList=s,t.next=8,this.$ajax({url:"/salary/getSalaryMonth.do",query:{salaryMonth:e}});case 8:a=t.sent,this.imported="YES"===a.isImport;case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),showEditForm:function(t,e){var s=this;this.form.templateList.forEach(function(t,e){t.status&&(t.status=!1,s.form.templateList.splice(e,1,t))}),t.status=!0,this.form.templateList.splice(e,1,t),this.itemName=t.name},doSubmit:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=[],this.form.templateList.forEach(function(t){e.push(t.name)}),t.next=4,this.$ajax({url:"/salary/updateSalaryTemplate.do",el:".btn-save",noText:!0,query:{salaryMonth:new Date(this.form.salaryMonth).$Format("yyyy-MM-dd hh:mm:ss"),templateList:e}});case 4:this.$remind("保存成功"),this.getDetail();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){this.getDetail()}}),o=r,m=(s("4819"),s("2877")),l=Object(m["a"])(o,a,i,!1,null,"028142df",null);l.options.__file="SetTemplate.vue";e["default"]=l.exports},c2ce:function(t,e,s){}}]);
//# sourceMappingURL=chunk-595726fe.5d41381f.js.map