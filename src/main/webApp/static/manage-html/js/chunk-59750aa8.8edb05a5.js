(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59750aa8"],{"08f9":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"examinee-detail"},[a("bread-nav",{attrs:{nav:t.nav}}),a("main-part",{staticClass:"main-part"},[a("i",{directives:[{name:"show",rawName:"v-show",value:"ENROLL"===t.form.studentStatus,expression:"form.studentStatus === 'ENROLL'"}],staticClass:"iconfont big-icon icon-yiluqu"}),a("i",{directives:[{name:"show",rawName:"v-show",value:"DISQUALIFY"===t.form.studentStatus,expression:"form.studentStatus === 'DISQUALIFY'"}],staticClass:"iconfont big-icon icon-weiluqu"}),a("i",{directives:[{name:"show",rawName:"v-show",value:"NONE_QUALIFIED"===t.form.studentStatus,expression:"form.studentStatus === 'NONE_QUALIFIED'"}],staticClass:"iconfont big-icon icon-weidabiao"}),a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"label-position":"left","label-width":"110px"}},[a("div",{staticClass:"separated-text"},[t._v("考试信息")]),t.isEdit?t._e():a("div",[a("el-form-item",{staticClass:"item",attrs:{label:"考试批次",prop:"batchId"}},[a("el-select",{staticClass:"input",attrs:{"default-first-option":"",clearable:"",filterable:"",placeholder:"请选择"},on:{change:function(e){t.getExamCenter(t.form.batchId)}},model:{value:t.form.batchId,callback:function(e){t.$set(t.form,"batchId",e)},expression:"form.batchId"}},t._l(t.batchList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.title}})}))],1),a("el-form-item",{staticClass:"item",attrs:{label:"考试考点",prop:"examCentreId"}},[a("el-select",{staticClass:"input",attrs:{disabled:t.isEdit,filterable:"","default-first-option":"",clearable:"",placeholder:"请选择"},model:{value:t.form.examCentreId,callback:function(e){t.$set(t.form,"examCentreId",e)},expression:"form.examCentreId"}},t._l(t.examCenterList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),a("el-tooltip",{attrs:{content:"请先选择考试批次",placement:"top",effect:"dark"}},[a("i",{staticClass:"el-icon-warning"})])],1),a("div",{staticClass:"clear"}),t.isCulture?a("el-form-item",{staticClass:"item",attrs:{label:"教室号",prop:"classroom"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入教室号"},model:{value:t.form.classroom,callback:function(e){t.$set(t.form,"classroom",e)},expression:"form.classroom"}})],1):t._e(),t.isCulture?a("el-form-item",{staticClass:"item",attrs:{label:"座位号",prop:"seatNum"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入座位号"},model:{value:t.form.seatNum,callback:function(e){t.$set(t.form,"seatNum",e)},expression:"form.seatNum"}})],1):t._e(),t.isCulture?t._e():a("el-form-item",{staticClass:"item",attrs:{label:"特长类别",prop:"selectedSpeciality"}},[a("el-cascader",{staticClass:"input",attrs:{clearable:"",options:t.specialityList},model:{value:t.selectedSpeciality,callback:function(e){t.selectedSpeciality=e},expression:"selectedSpeciality"}})],1),t.selectedSpeciality.length&&!t.isCulture&&15===t.selectedSpeciality[1]?a("el-form-item",{staticClass:"item",attrs:{label:"器乐名称",prop:"specialityRemark"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入器乐名称"},model:{value:t.form.specialityRemark,callback:function(e){t.$set(t.form,"specialityRemark",e)},expression:"form.specialityRemark"}})],1):t._e(),a("div",{staticClass:"clear"})],1),-1!==["APPLIED","DISQUALIFY","NONE_QUALIFIED"].indexOf(t.form.studentStatus)?a("div",[a("el-form-item",{staticClass:"item",attrs:{label:"报考类别"}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.isCulture,expression:"isCulture"}],staticClass:"input",attrs:{disabled:!0,value:t.form.firstRecruitType+"/"+t.form.secondRecruitType}}),a("el-input",{directives:[{name:"show",rawName:"v-show",value:!t.isCulture,expression:"!isCulture"}],staticClass:"input",attrs:{disabled:!0,value:t.form.firstRecruitType}})],1),t.isCulture?t._e():a("el-form-item",{staticClass:"item",attrs:{label:"特长类别",prop:"selectedSpeciality"}},[a("el-cascader",{staticClass:"input",attrs:{clearable:"",options:t.specialityList},model:{value:t.selectedSpeciality,callback:function(e){t.selectedSpeciality=e},expression:"selectedSpeciality"}})],1),a("div",{staticClass:"clear"}),t.selectedSpeciality.length&&!t.isCulture&&15===t.selectedSpeciality[1]?a("el-form-item",{staticClass:"item",attrs:{label:"器乐名称",prop:"specialityRemark"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入器乐名称"},model:{value:t.form.specialityRemark,callback:function(e){t.$set(t.form,"specialityRemark",e)},expression:"form.specialityRemark"}})],1):t._e(),a("div",{staticClass:"clear"})],1):t._e(),-1!==["ENROLL","DISQUALIFY","NONE_EXAM"].indexOf(t.form.studentStatus)?a("div",[a("el-form-item",{staticClass:"item",attrs:{label:"考试批次"}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,value:t.form.batchName}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"考试考点"}},[a("el-select",{staticClass:"input",attrs:{disabled:!0,filterable:"","default-first-option":""},model:{value:t.form.examCentreId,callback:function(e){t.$set(t.form,"examCentreId",e)},expression:"form.examCentreId"}},t._l(t.examCenterList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}))],1),a("div",{staticClass:"clear"}),t.isCulture?t._e():a("el-form-item",{staticClass:"item",attrs:{label:"特长类别"}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,value:t.form.firstSpecialityType+"/ "+t.form.secondSpecialityType}})],1),t.selectedSpeciality.length&&15===t.selectedSpeciality[1]||"器乐"===t.form.secondSpecialityType?a("el-form-item",{staticClass:"item",attrs:{label:"器乐名称"}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,placeholder:"请输入器乐名称"},model:{value:t.form.specialityRemark,callback:function(e){t.$set(t.form,"specialityRemark",e)},expression:"form.specialityRemark"}})],1):t._e(),t.isCulture?a("el-form-item",{staticClass:"item",attrs:{label:"教室号"}},[a("el-input",{staticClass:"input",attrs:{disabled:!0},model:{value:t.form.classroom,callback:function(e){t.$set(t.form,"classroom",e)},expression:"form.classroom"}})],1):t._e(),t.isCulture?a("el-form-item",{staticClass:"item",attrs:{label:"座位号"}},[a("el-input",{staticClass:"input",attrs:{disabled:!0},model:{value:t.form.seatNum,callback:function(e){t.$set(t.form,"seatNum",e)},expression:"form.seatNum"}})],1):t._e(),a("div",{staticClass:"clear"})],1):t._e(),a("div",{staticClass:"separated-text"},[t._v("基本信息")]),a("el-form-item",{staticClass:"item",attrs:{label:"姓名",prop:"name"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入姓名"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},t._l(t.$enums.Sex.list,function(e,i){return a("el-radio",{key:i,attrs:{label:e.value,border:""}},[t._v("  "+t._s(e.label)+"  ")])}))],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"身份证号码",prop:"idCard"}},[a("el-input",{staticClass:"input",attrs:{maxLength:18,placeholder:"请输入身份证号码"},model:{value:t.form.idCard,callback:function(e){t.$set(t.form,"idCard",e)},expression:"form.idCard"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"现就读学校",prop:"schoolName"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入现在就读学校"},model:{value:t.form.schoolName,callback:function(e){t.$set(t.form,"schoolName",e)},expression:"form.schoolName"}})],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"家庭地址",prop:"HA"}},[a("el-cascader",{staticClass:"input",attrs:{clearable:"",placeholder:"请选择",options:t.options},on:{"active-item-change":t.handleItemChange},model:{value:t.HA,callback:function(e){t.HA=e},expression:"HA"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"学校所在区域",prop:"SA"}},[a("el-cascader",{staticClass:"input",attrs:{placeholder:"请选择",options:t.options},on:{"active-item-change":t.handleItemChange},model:{value:t.SA,callback:function(e){t.SA=e},expression:"SA"}})],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"详细地址",prop:"address"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入家庭详细地址"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),a("div",{staticClass:"clear"}),a("div",{staticClass:"separated-text"},[t._v("家长信息")]),a("el-form-item",{staticClass:"item",attrs:{label:"姓名1"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入家长姓名"},model:{value:t.form.studentGuardianList[0].name,callback:function(e){t.$set(t.form.studentGuardianList[0],"name",e)},expression:"form.studentGuardianList[0].name"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"姓名2"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入家长姓名"},model:{value:t.form.studentGuardianList[1].name,callback:function(e){t.$set(t.form.studentGuardianList[1],"name",e)},expression:"form.studentGuardianList[1].name"}})],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"称谓1"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入家长称谓1"},model:{value:t.form.studentGuardianList[0].salutation,callback:function(e){t.$set(t.form.studentGuardianList[0],"salutation",e)},expression:"form.studentGuardianList[0].salutation"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"称谓2"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入家长称谓2"},model:{value:t.form.studentGuardianList[1].salutation,callback:function(e){t.$set(t.form.studentGuardianList[1],"salutation",e)},expression:"form.studentGuardianList[1].salutation"}})],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"工作单位1"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入家长工作单位1"},model:{value:t.form.studentGuardianList[0].unit,callback:function(e){t.$set(t.form.studentGuardianList[0],"unit",e)},expression:"form.studentGuardianList[0].unit"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"工作单位2"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入家长工作单位2"},model:{value:t.form.studentGuardianList[1].unit,callback:function(e){t.$set(t.form.studentGuardianList[1],"unit",e)},expression:"form.studentGuardianList[1].unit"}})],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"联系电话1",prop:"phone"}},[a("el-input",{staticClass:"input",attrs:{maxLength:"11",placeholder:"请输入家长联系电话1"},model:{value:t.form.studentGuardianList[0].phone,callback:function(e){t.$set(t.form.studentGuardianList[0],"phone",e)},expression:"form.studentGuardianList[0].phone"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"联系电话2"}},[a("el-input",{staticClass:"input",attrs:{maxLength:"11",placeholder:"请输入家长联系电话2"},on:{input:t.clearPhone},model:{value:t.form.studentGuardianList[1].phone,callback:function(e){t.$set(t.form.studentGuardianList[1],"phone",e)},expression:"form.studentGuardianList[1].phone"}})],1),a("div",{staticClass:"clear"}),a("div",{staticClass:"separated-text",on:{click:function(e){t.other=!t.other}}},[a("span",[t._v("在校情况")]),a("i",{class:["icon","el-icon-caret-top",{rotate:t.other}]})]),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.other,expression:"other"}]},[a("el-form-item",[a("div",{staticClass:"textarea-box"},[a("p",[t._v("担任班干部情况")]),a("el-input",{staticClass:"textarea",attrs:{type:"textarea",rows:6,placeholder:"请输入担任班干部情况"},model:{value:t.form.performance1,callback:function(e){t.$set(t.form,"performance1",e)},expression:"form.performance1"}})],1)]),a("el-form-item",[a("div",{staticClass:"textarea-box"},[a("p",[t._v("获得奖励情况")]),a("el-input",{class:[t.form.attachment?"small-textarea":"textarea"],attrs:{type:"textarea",rows:6,placeholder:"请输入获得奖励情况"},model:{value:t.form.performance2,callback:function(e){t.$set(t.form,"performance2",e)},expression:"form.performance2"}}),t.form.attachment?a("div",{staticClass:"cover-img"},[a("img",{staticClass:"img",attrs:{src:t.form.attachment.fileUrl+"?imageMogr2/crop/240x138",alt:""},on:{click:function(e){t.imgDialog=!0,t.bigImgUrl=t.form.attachment.fileUrl}}})]):t._e(),a("el-dialog",{staticClass:"img-dialog",attrs:{width:"1000px",visible:t.imgDialog},on:{"update:visible":function(e){t.imgDialog=e}}},[a("img",{attrs:{src:t.bigImgUrl,alt:""}})])],1)]),a("el-form-item",[a("div",{staticClass:"textarea-box"},[a("p",[t._v("附言")]),a("el-input",{staticClass:"textarea",attrs:{type:"textarea",rows:6,placeholder:"请输入附言"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)])],1)]),a("div",{staticClass:"separated-text"},[t._v("其它情况")]),a("el-form-item",{staticClass:"item",attrs:{label:"推荐机构"}},[a("el-select",{staticClass:"input",attrs:{filterable:"","default-first-option":"",placeholder:"请选择"},model:{value:t.form.trainInstitutionId,callback:function(e){t.$set(t.form,"trainInstitutionId",e)},expression:"form.trainInstitutionId"}},t._l(t.organizationList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}))],1),a("el-form-item",{staticClass:"item",attrs:{label:"培训时间"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入内容",type:"number"},model:{value:t.form.institutionDuration,callback:function(e){t.$set(t.form,"institutionDuration",e)},expression:"form.institutionDuration"}},[a("template",{slot:"append"},[t._v("月")])],2),a("el-tooltip",{attrs:{content:"请输入正整数",placement:"top",effect:"dark"}},[a("i",{staticClass:"el-icon-warning"})])],1)],1),a("div",{staticClass:"clear"}),a("div",{staticClass:"btns mb30"},[!t.isEdit&&t.isCulture?a("div",{staticClass:"btn-submit mr20",on:{click:t.doSubmitC}},[t._v("确认")]):t._e(),t.isEdit||t.isCulture?t._e():a("div",{staticClass:"btn-submit mr20",on:{click:t.doSubmitS}},[t._v("确认")]),t.isEdit&&"APPLIED"===t.form.studentStatus?a("div",{staticClass:"btn-submit mr20",on:{click:function(e){t.dialogApplied=!0,t.setBatch.batchId=null}}},[t._v("设置考试批次\n      ")]):t._e(),t.isEdit&&"APPLIED"===t.form.studentStatus?a("div",{staticClass:"btn-submit mr20",on:{click:t.setNoPass}},[t._v("设置未达标")]):t._e(),!t.isEdit||"NONE_EXAM"!==t.form.studentStatus&&"NONE_QUALIFIED"!==t.form.studentStatus?t._e():a("div",{staticClass:"btn-submit mr20",on:{click:t.setBack}},[t._v("回退\n      ")]),t.isEdit&&!t.isCulture?a("div",{staticClass:"btn-submit mr20",on:{click:function(e){t.doSubmitS("save")}}},[t._v("更新考生")]):t._e(),t.isEdit&&t.isCulture?a("div",{staticClass:"btn-submit mr20",on:{click:function(e){t.doSubmitC("save")}}},[t._v("更新考生")]):t._e(),t.isEdit?a("div",{staticClass:"btn-submit mr20",on:{click:function(e){t.$exportDetail("/export/rStudentInfoExport.do",{id:t.form.id})}}},[t._v("\n        导出\n      ")]):t._e(),a("div",{staticClass:"btn-clear",on:{click:function(e){t.$router.go(-1)}}},[t._v("返回")])]),a("el-dialog",{staticClass:"dialog",attrs:{title:"设置考试批次",visible:t.dialogApplied,width:"450px"},on:{"update:visible":function(e){t.dialogApplied=e}}},[a("span",{staticClass:"title"},[t._v("考试批次：")]),a("el-select",{staticClass:"input",attrs:{filterable:"","default-first-option":"",placeholder:"请选择"},model:{value:t.setBatch.batchId,callback:function(e){t.$set(t.setBatch,"batchId",e)},expression:"setBatch.batchId"}},t._l(t.batchList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.title}})})),a("div",{staticClass:"btns"},[a("div",{staticClass:"btn-submit mr20",on:{click:t.setBatchFun}},[t._v("确认")]),a("div",{staticClass:"btn-clear",on:{click:function(e){t.dialog=!1}}},[t._v("取消")])])],1)],1)],1)},r=[],s=(a("57e7"),a("7f7f"),a("ac6a"),a("f3e2"),a("96cf"),a("1da1")),n=a("c8e7"),l={mixins:[n["a"].$exportDetail],data:function(){var t=this,e=function(e,a,i){t.form.studentGuardianList[0].phone&&11!==t.form.studentGuardianList[0].phone.length&&i(new Error("联系电话格式错误")),t.form.studentGuardianList[1].phone&&11!==t.form.studentGuardianList[1].phone.length&&i(new Error("联系电话格式错误")),t.form.studentGuardianList[0].phone||t.form.studentGuardianList[1].phone?i():i(new Error("请至少输入一位家长的联系电话"))},a=function(e,a,i){0===t.HA.length?i(new Error("请选择家庭地址")):i()},i=function(e,a,i){0===t.SA.length?i(new Error("请选择学校所在区域")):i()},r=function(e,a,i){0===t.selectedSpeciality.length?i(new Error("请选择特长类别")):i()};return{nav:[{name:"考生管理",path:"go(-1)"},{name:"0"!==this.$route.params.id?"查看考生":"添加考生",path:""}],isCulture:"CULTURE"===this.$route.query.type,isEdit:"0"!==this.$route.params.id,form:{batchId:null,classroom:"",examCentreId:null,seatNum:"",name:"",sex:null,idCard:"",schoolName:"",address:"",specialityRemark:"",studentGuardianList:[{name:"",salutation:"",phone:"",unit:"",position:""},{name:"",salutation:"",phone:"",unit:"",position:""}],performance1:"",performance2:"",remark:"",trainInstitutionId:null,institutionDuration:null},rules:{batchId:{required:!0,message:"请选择考试批次",trigger:"change"},examCentreId:{required:!0,message:"请选择考点",trigger:"change"},name:{required:!0,message:"请输入姓名",trigger:"blur"},phone:{required:!0,validator:e,trigger:"blur"},specialityRemark:{required:!0,message:"请输入器乐名称",trigger:"blur"},classroom:{required:!0,message:"请输入教室号",trigger:"blur"},seatNum:{required:!0,message:"请输入座位号",trigger:"blur"},sex:{required:!0,message:"请选择性别",trigger:"change"},idCard:{required:!0,message:"请输入身份证号码",trigger:"blur"},schoolName:{required:!0,message:"请输入现在就读学校",trigger:"blur"},HA:{required:!0,validator:a,trigger:"blur"},SA:{required:!0,validator:i,trigger:"blur"},address:{required:!0,message:"请输入现在就读学校",trigger:"blur"},selectedSpeciality:{required:!0,validator:r,trigger:"blur"}},batchList:[],examCenterList:[],HA:[],SA:[],options:[],organizationList:[],examType:[],specialityList:[],selectedSpeciality:[],dialogApplied:!1,setBatch:{batchId:"",studentId:this.$route.params.id},other:!1,imgDialog:!1,bigImgUrl:""}},methods:{getBatchList:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/rbatch/queryBatchList.do",query:{recruitType:this.$route.query.type,keywords:""}});case 2:this.batchList=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getExamCenter:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.form.examCentreId=null,t.next=3,this.$ajax({url:"/centre/queryExamCentreList.do",query:{batchId:e||this.$route.params.id}});case 3:this.examCenterList=t.sent;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getExamType:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/dict/queryDictList.do",query:{dictType:"RECRUIT_SPECIALITY"}});case 2:this.examType=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getSpeciality:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/dict/queryDictList.do",query:{dictType:"SPECIALITY"}});case 2:e=t.sent,this.specialityList=[],e.forEach(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,i){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a.specialityList.push({label:e.name,value:e.id,children:[]}),t.next=3,a.$ajax({url:"/dict/queryDictList.do",query:{parentId:e.id,dictType:e.dictType}});case 3:r=t.sent,r.forEach(function(t){a.specialityList[i].children.push({label:t.name,value:t.id})});case 5:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getRegion:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/region/queryRegionList.do"});case 2:e=t.sent,this.options=[],e.forEach(function(t){a.options.push({label:t.name,value:t.id,children:[]})});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleItemChange:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var a,i,r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<e.length)){t.next=7;break}if(-1===this.HA.indexOf(e[a])&&-1===this.SA.indexOf(e[a])){t.next=4;break}return t.abrupt("return");case 4:a++,t.next=1;break;case 7:return t.next=9,this.$ajax({url:"/region/queryRegionList.do",query:{parentId:e[e.length-1]}});case 9:i=t.sent,r=[],1===e.length?(i.forEach(function(t){r.push({label:t.name,value:t.id,children:[]})}),this.options.forEach(function(t,a){t.value===e[0]&&(s.options[a].children=r)})):2===e.length&&(i.forEach(function(t){r.push({label:t.name,value:t.id})}),this.options.forEach(function(t,a){t.value===e[0]&&s.options[a].children.forEach(function(t,i){t.value===e[1]&&(s.options[a].children[i].children=r)})}));case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getOrganization:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/rinstitution/queryTrainInstitutionList.do"});case 2:this.organizationList=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),doSubmitC:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var a,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var a,r,s,n,l,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=i.form,r=0;case 2:if(!(r<a.studentGuardianList.length)){t.next=17;break}s=a.studentGuardianList[r],n=!1,t.t0=regeneratorRuntime.keys(s);case 6:if((t.t1=t.t0()).done){t.next=13;break}if(l=t.t1.value,!s[l]){t.next=11;break}return n=!0,t.abrupt("break",13);case 11:t.next=6;break;case 13:n||a.studentGuardianList.splice(r,1);case 14:r++,t.next=2;break;case 17:if(i.SA.length&&(a.schoolProvinceId=i.SA[0],a.schoolCityId=i.SA[1],a.schoolDistrictId=i.SA[2]),i.HA.length&&(a.provinceId=i.HA[0],a.cityId=i.HA[1],a.districtId=i.HA[2]),!i.form.institutionDuration||!isNaN(parseInt(i.form.institutionDuration))){t.next=22;break}return i.$message.warning("培训时间请输入正整数"),t.abrupt("return");case 22:if(!(parseInt(i.form.institutionDuration)<0)){t.next=25;break}return i.$message.warning("培训时间请输入正整数"),t.abrupt("return");case 25:return a.institutionDuration=parseInt(i.form.institutionDuration),o="/rstudent/replenishStudent.do",c="补录成功","save"===e&&(a.studentId=a.id,o="/rstudent/updateStudent.do",c="更新成功"),t.next=31,i.$ajax({url:o,query:a});case 31:i.$remind(c),i.$router.push({path:"/recruit/examinee",query:{type:i.$route.query.type}});case 33:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t.next=3,this.$refs.form.validate(function(t){if(!t)return i.$message.warning("请将必填项填写完整"),!1;a()});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),doSubmitS:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var a,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var a,r,s,n,l,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=i.form,r=0;case 2:if(!(r<a.studentGuardianList.length)){t.next=17;break}s=a.studentGuardianList[r],n=!1,t.t0=regeneratorRuntime.keys(s);case 6:if((t.t1=t.t0()).done){t.next=13;break}if(l=t.t1.value,!s[l]){t.next=11;break}return n=!0,t.abrupt("break",13);case 11:t.next=6;break;case 13:n||a.studentGuardianList.splice(r,1);case 14:r++,t.next=2;break;case 17:if(i.SA.length&&(a.schoolProvinceId=i.SA[0],a.schoolCityId=i.SA[1],a.schoolDistrictId=i.SA[2]),i.HA.length&&(a.provinceId=i.HA[0],a.cityId=i.HA[1],a.districtId=i.HA[2]),i.form.idCard&&(i.form.idCard=i.form.idCard.toUpperCase()),!i.form.institutionDuration||!isNaN(parseInt(i.form.institutionDuration))){t.next=23;break}return i.$message.warning("培训时间请输入正整数"),t.abrupt("return");case 23:if(!(parseInt(i.form.institutionDuration)<0)){t.next=26;break}return i.$message.warning("培训时间请输入正整数"),t.abrupt("return");case 26:return a.institutionDuration=parseInt(i.form.institutionDuration),o="/rstudent/replenishStudent.do",c="补录成功","save"===e?(o="/rstudent/updateStudent.do",c="更新成功",a.studentId=a.id):(a.firstSpecialityTypeId=i.selectedSpeciality[0],a.secondSpecialityTypeId=i.selectedSpeciality[1]),t.next=32,i.$ajax({url:o,query:a});case 32:i.$remind(c),i.$router.push({path:"/recruit/examinee",query:{type:i.$route.query.type}});case 34:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t.next=3,this.$refs.form.validate(function(t){if(!t)return i.$message.warning("请将必填项填写完整"),!1;a()});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getDetail:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/rstudent/getStudent.do",query:{id:this.$route.params.id}});case 2:return e=t.sent,t.next=5,this.getExamCenter(e.batchId);case 5:if(this.form=e,1===e.studentGuardianList.length&&this.form.studentGuardianList.push({name:"",salutation:"",phone:"",unit:"",position:""}),!e.schoolProvinceId){t.next=13;break}return t.next=10,this.handleItemChange([e.schoolProvinceId]);case 10:return t.next=12,this.handleItemChange([e.schoolProvinceId,e.schoolCityId]);case 12:this.SA=[e.schoolProvinceId,e.schoolCityId,e.schoolDistrictId];case 13:if(!e.provinceId){t.next=19;break}return t.next=16,this.handleItemChange([e.provinceId]);case 16:return t.next=18,this.handleItemChange([e.provinceId,e.cityId]);case 18:this.HA=[e.provinceId,e.cityId,e.districtId];case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setBatchFun:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.setBatch.batchId){t.next=3;break}return this.$message.warning("请选择考试批次"),t.abrupt("return");case 3:return t.next=5,this.$ajax({url:"/rbatch/distributionBatchStudent.do",query:this.setBatch});case 5:this.$remind("考试批次设置成功"),this.$router.push({path:"/recruit/examinee",query:{type:this.$route.query.type}});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setNoPass:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("确认将【".concat(this.form.name,"】提交的报名信息设为不达标吗？"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:return t.next=4,this.$ajax({url:"/rstudent/noneQualifiedStudent.do",query:{id:this.$route.params.id}});case 4:this.$remind("设为未达标成功"),this.$router.push({path:"/recruit/examinee",query:{type:this.$route.query.type}});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setBack:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/rstudent/unabsorbedStudent.do",query:{id:this.$route.params.id}});case 2:this.$remind("回退成功"),this.$router.push({path:"/recruit/examinee",query:{type:this.$route.query.type}});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),clearPhone:function(){this.form.studentGuardianList[1].phone?this.$refs.form.clearValidate(["phone"]):this.$refs.form.validateField("phone")}},watch:{SA:function(){this.SA.length&&this.$refs.form.clearValidate(["SA"])},HA:function(){this.HA.length&&this.$refs.form.clearValidate(["HA"])},selectedSpeciality:function(){this.selectedSpeciality.length&&this.$refs.form.clearValidate(["selectedSpeciality"])}},mounted:function(){this.getOrganization(),this.getBatchList(),this.getRegion(),this.isCulture||(this.getExamType(),this.getSpeciality()),this.isEdit&&this.getDetail()}},o=l,c=(a("16bb"),a("2877")),u=Object(c["a"])(o,i,r,!1,null,"821bb85a",null);u.options.__file="Detail.vue";e["default"]=u.exports},"16bb":function(t,e,a){"use strict";var i=a("d8f9"),r=a.n(i);r.a},c8e7:function(t,e,a){"use strict";a("a481");e["a"]={$exportDetail:{methods:{$exportDetail:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.table.query,a="?";for(var i in e)e[i]&&"pageNo"!==i&&"pageSize"!==i&&(a+="".concat(i,"=").concat(e[i],"&"));window.open(this.$conf.API_PATH+t+a.substr(0,a.length-1))}}},$spliceHTML:{methods:{$spliceHTML:function(t){return t=t.replace('<html><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8">',""),t=t.replace("</head>",""),t=t.replace("</body></html>",""),t=t.replace(/<h2>(.*)<\/h2>/,""),t}}}}},d8f9:function(t,e,a){}}]);
//# sourceMappingURL=chunk-59750aa8.8edb05a5.js.map