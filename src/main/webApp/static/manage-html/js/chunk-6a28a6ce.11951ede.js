(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a28a6ce"],{"35e0":function(e,t,a){"use strict";var s=a("d9d6"),i=a.n(s);i.a},"5a09":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("bread-nav",{attrs:{nav:e.nav}}),a("main-part",[a("resize-table",[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"25%"}},[e._v("年级")]),a("th",{attrs:{width:"25%"}},[e._v("年级组长")]),a("th",{attrs:{width:"25%"}},[e._v("年级副组长")]),a("th",{attrs:{width:"25%"}},[e._v("操作")])])]),a("tbody",e._l(e.table.list,function(t){return a("tr",[a("td",[e._v(e._s(t.name))]),a("td",[t.gradeLeader?a("p",[e._v(e._s(t.gradeLeader.name))]):a("p",[e._v("--")])]),a("td",[t.viceLeaders&&t.viceLeaders.length>0?a("div",e._l(t.viceLeaders,function(s,i){return a("span",[e._v("\n                "+e._s(s.name)),a("span",{directives:[{name:"show",rawName:"v-show",value:i!==t.viceLeaders.length-1,expression:"k !== item.viceLeaders.length - 1"}]},[e._v("，")])])})):a("p",[e._v("--")])]),a("td",[a("span",{staticClass:"oper",on:{click:function(a){e.showDialog(t)}}},[e._v("编辑")])])])}))])]),a("no-data",{directives:[{name:"show",rawName:"v-show",value:!e.table.noData,expression:"!table.noData"}]}),a("paging",{attrs:{data:e.table},on:{"update:data":function(t){e.table=t}}}),a("el-dialog",{staticClass:"dialog",attrs:{width:"540px",visible:e.dialog,title:"编辑"},on:{"update:visible":function(t){e.dialog=t}}},[a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[e._v("年级名称")]),a("el-input",{staticClass:"input",attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[e._v("年级组长")]),a("el-select",{staticClass:"input",attrs:{filterable:"","default-first-option":"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请输入教职工关键词","remote-method":e.getStaff,loading:e.loading},model:{value:e.form.leaderId,callback:function(t){e.$set(e.form,"leaderId",t)},expression:"form.leaderId"}},e._l(e.staffList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.idCard)+"/"+e._s(t.phone))])])}))],1),a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[e._v("副组长")]),a("el-select",{staticClass:"input",attrs:{multiple:"",filterable:"","default-first-option":"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请输入教职工关键词","remote-method":e.getStaff,loading:e.loading},model:{value:e.form.viceLeaderIds,callback:function(t){e.$set(e.form,"viceLeaderIds",t)},expression:"form.viceLeaderIds"}},e._l(e.staffList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.idCard)+"/"+e._s(t.phone))])])}))],1),a("div",{staticClass:"btns"},[a("div",{staticClass:"btn-submit btn-edit mr15",on:{click:function(t){e.doSubmit()}}},[e._v("提交")]),a("div",{staticClass:"btn-clear",on:{click:function(t){e.dialog=!1}}},[e._v("取消")])])])],1)],1)},i=[],r=(a("6d67"),a("ac6a"),a("f3e2"),a("7f7f"),a("96cf"),a("1da1")),n={data:function(){return{assistantIds:[],nav:[{name:"年级管理",path:""}],table:{url:"/grade/queryGradePage.do",el:".table",total:0,noData:!0,list:[],query:{}},dialog:!1,staffList:[],loading:!1,form:{name:"",leaderId:"",viceLeaderIds:[]}}},methods:{showDialog:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.dialog=!0,this.form={gradeId:t.gradeId,name:t.name,leaderId:t.gradeLeader?t.gradeLeader.id:null,viceLeaderIds:[]},e.next=4,this.getStaff();case 4:t.viceLeaders&&t.viceLeaders.forEach(function(e){a.staffList.push(e)}),t.gradeLeader&&this.staffList.push(t.gradeLeader),t.viceLeaders&&t.viceLeaders.length&&(this.form.viceLeaderIds=t.viceLeaders.map(function(e){return e.id}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),doSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$ajax({url:"/grade/updateGradeLeader.do",el:".btn-edit",noText:!0,query:this.form});case 2:this.$remind("修改成功"),this.dialog=!1,this.$search(this.table);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getStaff:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(""===t){e.next=9;break}return this.loading=!0,e.next=4,this.$ajax({url:"/user/queryStaffPage.do",query:{keywords:t,pageNo:1,pageSize:15}});case 4:a=e.sent,this.loading=!1,this.staffList=a.list,e.next=10;break;case 9:this.staffList=[];case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},mounted:function(){this.$search(this.table),this.getStaff()}},l=n,d=(a("35e0"),a("2877")),o=Object(d["a"])(l,s,i,!1,null,"46ea7bf6",null);o.options.__file="Index.vue";t["default"]=o.exports},d9d6:function(e,t,a){}}]);
//# sourceMappingURL=chunk-6a28a6ce.11951ede.js.map