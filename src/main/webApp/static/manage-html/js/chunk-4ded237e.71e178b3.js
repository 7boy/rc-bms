(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ded237e"],{"7ad6":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index"},[s("bread-nav",{attrs:{nav:t.nav}}),s("main-part",[s("div",{staticClass:"search-box"},[s("div",{staticClass:"item"},[s("span",{staticClass:"text"},[t._v("学期")]),s("el-select",{staticClass:"input",attrs:{"default-first-option":"",filterable:""},on:{change:t.getDetail},model:{value:t.query.schoolTermId,callback:function(e){t.$set(t.query,"schoolTermId",e)},expression:"query.schoolTermId"}},t._l(t.termList,function(t){return s("el-option",{key:t.schoolTermId,attrs:{label:t.termName,value:t.schoolTermId}})}))],1)]),s("resize-table",[s("table",{staticClass:"table mt20 mb10"},[s("thead",[s("tr",[s("th",{attrs:{width:"10%"}},[t._v("科目")]),t._l(t.list.gradeList,function(e){return s("th",{attrs:{width:"10%"}},[t._v(t._s(e.name))])}),s("th",{attrs:{width:"10%"}},[t._v("操作")])],2)]),s("tbody",t._l(t.list.courseList,function(e,r){return s("tr",{key:r},[s("td",[t._v(t._s(e.courseName))]),t._l(e.gradeList,function(r,a){return s("td",{key:a},[s("p",{directives:[{name:"show",rawName:"v-show",value:!0!==e.status,expression:"item.status !== true"}]},[t._v(t._s(r.workload||0))]),t.form.length&&!0===e.status?s("el-input-number",{staticClass:"input",attrs:{size:"small","controls-position":"right",min:0,max:1e6},model:{value:t.form[a].workload,callback:function(e){t.$set(t.form[a],"workload",e)},expression:"form[k].workload"}}):t._e()],1)}),s("td",[s("span",{directives:[{name:"show",rawName:"v-show",value:!0!==e.status,expression:"item.status !== true"}],staticClass:"oper",on:{click:function(s){t.showEditFun(e,r)}}},[t._v("编辑")]),s("span",{directives:[{name:"show",rawName:"v-show",value:!0===e.status,expression:"item.status === true"}],staticClass:"oper",on:{click:function(s){t.editFun(e,r)}}},[t._v("完成")]),s("span",{directives:[{name:"show",rawName:"v-show",value:!0===e.status,expression:"item.status === true"}],staticClass:"oper",on:{click:function(s){t.clearFun(e,r)}}},[t._v("取消")])])],2)}))])])],1)],1)},a=[],i=(s("6d67"),s("ac6a"),s("f3e2"),s("96cf"),s("1da1")),n={data:function(){return{nav:[{name:"工作量",path:"go(-1)"},{name:"教学任务设置",path:""}],termList:[],query:{schoolTermId:null},list:[],form:[]}},methods:{getTermList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/school/querySchoolTermList.do"});case 2:this.termList=t.sent,this.termList.forEach(function(t){"YES"===t.isDefault&&(e.query.schoolTermId=t.schoolTermId)});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getDetail:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/assessWorkload/getAssessWorkloadWithSet.do",query:this.query});case 2:this.list=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),showEditFun:function(t,e){var s=this;this.list.courseList.map(function(t,e){t.status&&(t.status=!1,s.list.courseList.splice(e,1,t))})&&(t.status=!0),this.list.courseList.splice(e,1,t),this.form=JSON.parse(JSON.stringify(t.gradeList))},clearFun:function(t,e){t.status=!1,this.list.courseList.splice(e,1,t)},editFun:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,s){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=JSON.parse(JSON.stringify(this.form)),r={termId:this.query.schoolTermId,workloadList:[]},this.form.forEach(function(t){r.workloadList.push({gradeId:t.gradeId,courseId:e.courseId,workload:t.workload})}),t.next=5,this.$ajax({url:"/assessWorkload/updateAssessWorkload.do",query:r});case 5:e.status=!1,this.list.courseList.splice(s,1,e),this.$remind("修改成功"),this.getDetail();case 9:case"end":return t.stop()}},t,this)}));return function(e,s){return t.apply(this,arguments)}}()},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getTermList();case 2:this.getDetail();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},o=n,u=(s("7ad9"),s("2877")),c=Object(u["a"])(o,r,a,!1,null,"15a5c25f",null);c.options.__file="Task.vue";e["default"]=c.exports},"7ad9":function(t,e,s){"use strict";var r=s("c974"),a=s.n(r);a.a},c974:function(t,e,s){}}]);
//# sourceMappingURL=chunk-4ded237e.71e178b3.js.map