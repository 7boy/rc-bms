(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e252596"],{"2a07":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bread-nav",{attrs:{nav:t.nav}}),a("main-part",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isReading,expression:"isReading"}],staticClass:"btn-block"},[a("a",{staticClass:"f-small main-c mr5",attrs:{download:"",href:"../gy-files/template/学生信息导入模板.xls"}},[t._v("下载模板")]),a("label",{attrs:{for:"importDom"}},[a("div",{staticClass:"btn-main btn-upload mr15"},[t._v("批量导入")])]),a("input",{ref:"upload",attrs:{accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",id:"importDom",type:"file",hidden:""},on:{change:function(e){t.upload(e)}}}),a("div",{staticClass:"btn-main mr15",on:{click:function(e){t.$exportDetail("/export/studentAtSchoolExport.do")}}},[t._v("导出")]),a("div",{staticClass:"btn-main-deepen",on:{click:function(e){t.$router.push("/edu-affair/reading/add")}}},[t._v("添加学生")])]),a("search-box",{attrs:{searchData:t.searchData,table:t.table}}),a("resize-table",[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"8%"}},[t._v("姓名")]),a("th",{attrs:{width:"8%"}},[t._v("性别")]),a("th",{attrs:{width:"10%"}},[t._v("是否有学籍")]),a("th",{attrs:{width:"16%"}},[t._v("学籍号")]),a("th",{attrs:{width:"10%"}},[t._v("所在班级")]),a("th",{attrs:{width:"12%"}},[t._v("班级学号")]),a("th",{attrs:{width:"8%"}},[t._v("学生性质")]),a("th",{attrs:{width:"10%"}},[t._v("出生日期")]),a("th",{attrs:{width:"10%"}},[t._v("籍贯码")]),a("th",{attrs:{width:"8%"}},[t._v("民族")]),a("th",{attrs:{width:"10%"}},[t._v("政治面貌")]),a("th",{attrs:{width:"10%"}},[t._v("操作")])])]),a("tbody",t._l(t.table.list,function(e){return a("tr",[a("td",[a("span",{staticClass:"oper",on:{click:function(a){t.goToDetail(e)}}},[t._v(t._s(e.name))])]),a("td",[t._v(t._s(t.$enums.Sex.getName(e.sex)))]),a("td",[t._v(t._s(t.$enums.YesNoStatus.getName(e.isSchoolRoll)||"--"))]),a("td",[t._v(t._s(e.flowStudentNo))]),a("td",[t._v(t._s(e.aliasName||"--"))]),a("td",[t._v(t._s(e.classStudentNo||"--"))]),a("td",[a("span",[t._v(t._s(t.$enums.StudentNature.getName(e.studentNature)))])]),a("td",[t._v(t._s(t._f("substrTime")(e.birthday)))]),a("td",[t._v(t._s(e.nativePlace||"--"))]),a("td",[t._v(t._s(e.nationName))]),a("td",[t._v(t._s(t.$enums.StudentPoliticsStatus.getName(e.politicsStatus)))]),a("td",[a("span",{staticClass:"oper",on:{click:function(a){t.goToDetail(e)}}},[t._v("详情")])])])}))])]),a("no-data",{directives:[{name:"show",rawName:"v-show",value:!t.table.noData,expression:"!table.noData"}]}),a("paging",{attrs:{data:t.table},on:{"update:data":function(e){t.table=e}}})],1)],1)},s=[],i=(a("6d67"),a("ac6a"),a("f3e2"),a("96cf"),a("1da1")),r=a("c8e7"),o={mixins:[r["a"].$exportDetail],data:function(){var t="/edu-affair/reading"===this.$route.path;return{isReading:t,nav:[{name:t?"在读生信息":"学生信息",path:""}],searchData:[{type:"select",title:"性别",model:"sex",option:this.$enums.Sex.list},{type:"select",title:"民族",model:"nationId",option:[]},{type:"select",title:"是否有学籍",model:"isSchoolRoll",option:this.$enums.YesNoStatus.list},{type:"select",title:"班级",model:"classId",option:[]},{type:"cascader",title:"学生性质",width:"160px",modelName:["studentNature","studentStatus"],option:[]},{type:"select",title:"政治面貌",model:"politicsStatus",option:this.$enums.StudentPoliticsStatus.list},{type:"input",placeholder:"姓名/学籍号/学号"}],table:{url:"/student/queryStudentPage.do",el:".table",total:0,noData:!0,list:[],query:{isSchoolRoll:null,sex:null,classId:null,nationId:null,studentStatus:null,politicsStatus:null,keywords:null}}}},methods:{upload:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.target.files.length){t.next=2;break}return t.abrupt("return");case 2:return a=e.target.files[0],this.$refs.upload.value=null,n=new FormData,n.append("file",a),s={url:"/student/importStudentList.do",query:n,el:".btn-upload",noText:!0},t.next=9,this.$ajax(s);case 9:t.sent,this.$remind("导入成功"),this.$search(this.table);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getNationList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/common/queryNationList.do"});case 2:e=t.sent,this.searchData[1].option=[],e.forEach(function(t){a.searchData[1].option.push({value:t.id,label:t.nation})});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),goToDetail:function(t){var e="";e=this.isReading?"/edu-affair/reading/detail":"/student-work/student/detail",this.$router.push({path:e,query:{id:t.id,type:t.studentNature}})},getClassList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/class/queryClassPage.do",query:{classStatus:"UN_GRADUATED",pageSize:1e5,pageNo:1}});case 2:e=t.sent,this.searchData[3].option=e.list.map(function(t){return{label:t.aliasName,value:t.classId}});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getStudentNature:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/student/queryStudentNatureList.do"});case 2:this.searchData[4].option=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){this.$search(this.table),this.getNationList(),this.getClassList(),this.getStudentNature()}},l=o,u=(a("a925"),a("2877")),c=Object(u["a"])(l,n,s,!1,null,"e6d5c1bc",null);c.options.__file="Index.vue";e["default"]=c.exports},a925:function(t,e,a){"use strict";var n=a("d274"),s=a.n(n);s.a},c8e7:function(t,e,a){"use strict";a("a481");e["a"]={$exportDetail:{methods:{$exportDetail:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.table.query,a="?";for(var n in e)e[n]&&"pageNo"!==n&&"pageSize"!==n&&(a+="".concat(n,"=").concat(e[n],"&"));window.open(this.$conf.API_PATH+t+a.substr(0,a.length-1))}}},$spliceHTML:{methods:{$spliceHTML:function(t){return t=t.replace('<html><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8">',""),t=t.replace("</head>",""),t=t.replace("</body></html>",""),t=t.replace(/<h2>(.*)<\/h2>/,""),t}}}}},d274:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2e252596.551ab487.js.map