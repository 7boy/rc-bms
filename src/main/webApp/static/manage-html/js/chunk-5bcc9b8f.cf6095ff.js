(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5bcc9b8f"],{"0d6d":function(e,t,i){var s=i("d3f4"),n=i("67ab").onFreeze;i("5eda")("freeze",function(e){return function(t){return e&&s(t)?e(n(t)):t}})},"5eda":function(e,t,i){var s=i("5ca1"),n=i("8378"),a=i("79e5");e.exports=function(e,t){var i=(n.Object||{})[e]||Object[e],o={};o[e]=t(i),s(s.S+s.F*a(function(){i(1)}),"Object",o)}},6270:function(e,t,i){},"67ab":function(e,t,i){var s=i("ca5a")("meta"),n=i("d3f4"),a=i("69a8"),o=i("86cc").f,r=0,u=Object.isExtensible||function(){return!0},l=!i("79e5")(function(){return u(Object.preventExtensions({}))}),c=function(e){o(e,s,{value:{i:"O"+ ++r,w:{}}})},d=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,s)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[s].i},p=function(e,t){if(!a(e,s)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[s].w},f=function(e){return l&&h.NEED&&u(e)&&!a(e,s)&&c(e),e},h=e.exports={KEY:s,NEED:!1,fastKey:d,getWeak:p,onFreeze:f}},7514:function(e,t,i){"use strict";var s=i("5ca1"),n=i("0a49")(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),s(s.P+s.F*o,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(a)},"759f":function(e,t,i){"use strict";var s=i("5ca1"),n=i("0a49")(3);s(s.P+s.F*!i("2f21")([].some,!0),"Array",{some:function(e){return n(this,e,arguments[1])}})},a597:function(e,t,i){"use strict";var s=i("6270"),n=i.n(s);n.a},abac:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("bread-nav",{attrs:{nav:e.nav}}),i("div",{staticClass:"paper-card"},[i("el-steps",{attrs:{active:e.curStepIdx,"finish-status":"success",simple:""}},e._l(e.stepList,function(e,t){return i("el-step",{key:t,attrs:{title:e}})})),e.isAddPage?i("el-form",{directives:[{name:"show",rawName:"v-show",value:"创建试卷"===e.stepList[e.curStepIdx-1],expression:"stepList[curStepIdx - 1] === '创建试卷'"}],ref:"step1Form",staticClass:"form",attrs:{"label-width":"100px","status-icon":"",model:e.form,rules:e.rules}},[i("el-form-item",{attrs:{label:"试卷名称",prop:"paperTitle"}},[i("el-input",{model:{value:e.form.paperTitle,callback:function(t){e.$set(e.form,"paperTitle",t)},expression:"form.paperTitle"}})],1),i("el-form-item",{attrs:{label:"年级",prop:"gradeId"}},[i("el-select",{attrs:{loading:e.gradeLoading},on:{change:e.onGradeChange},model:{value:e.form.gradeId,callback:function(t){e.$set(e.form,"gradeId",t)},expression:"form.gradeId"}},e._l(e.gradeList,function(e,t){return i("el-option",{key:t,attrs:{label:e.gradeName,value:e.id}})}))],1),i("el-form-item",{attrs:{label:"科目",prop:"subjectId"}},[i("el-select",{attrs:{loading:e.subjectLoading},on:{change:e.onSubjectChange},model:{value:e.form.subjectId,callback:function(t){e.$set(e.form,"subjectId",t)},expression:"form.subjectId"}},e._l(e.subjectList,function(e,t){return i("el-option",{key:t,attrs:{label:e.subjectName,value:e.id}})}))],1),i("el-form-item",{attrs:{label:"组卷方式",prop:"groupMode"}},[i("el-select",{model:{value:e.form.groupMode,callback:function(t){e.$set(e.form,"groupMode",t)},expression:"form.groupMode"}},e._l(e.$enums.GroupMode.list,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),i("el-form-item",{attrs:{label:"考试时长",prop:"examTime"}},[i("el-input",{attrs:{type:"number"},model:{value:e.form.examTime,callback:function(t){e.$set(e.form,"examTime",t)},expression:"form.examTime"}},[i("template",{slot:"append"},[e._v("分钟")])],2)],1),i("el-form-item",[i("el-button",{staticClass:"btn-next",attrs:{type:"primary"},on:{click:e.goNext}},[e._v("下一步\n        ")])],1)],1):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:"选择试题"===e.stepList[e.curStepIdx-1],expression:"stepList[curStepIdx - 1] === '选择试题'"}]},[i("div",{staticClass:"clearfix"},[i("div",{staticClass:"left"},[e._l(e.form.paperModuleAddRequestList,function(t,s){return i("div",{key:s,staticClass:"left-card"},[i("div",{staticClass:"left-card__header"},[i("span",[e._v(e._s(e.$enums.QuestionType.getName(t.questionType)))]),i("span",{staticClass:"left-card__icon"},[i("span",{staticClass:"el-icon-arrow-up",on:{click:function(t){e.doUpBigQuestion(s)}}}),i("span",{staticClass:"el-icon-arrow-down",on:{click:function(t){e.doDownBigQuestion(s)}}}),i("span",{staticClass:"el-icon-delete",on:{click:function(t){e.doDeleteBigQuestion(s)}}})])]),i("div",{staticClass:"left-card__body"},[i("p",{staticClass:"left-card__p"},[e._v("共\n                "),i("span",{staticClass:"left-card__p--active"},[e._v("\n                  "+e._s(e.specialQuestion.indexOf(t.questionType)>-1?t.paperQuestionListAddRequests[0]&&t.paperQuestionListAddRequests[0].childQuestionResponses.length:t.paperQuestionListAddRequests.length)+"\n                ")]),e._v("\n                题, 共\n                "),i("span",{staticClass:"left-card__p--active"},[e._v("\n                  "+e._s(e.calcBigQuestionTotalScore(t.paperQuestionListAddRequests))+"\n                ")]),e._v("\n                分")]),i("p",{staticClass:"left-card__p"},[i("span",{staticClass:"label"},[e._v("每题分数:")]),i("el-input",{staticClass:"input",attrs:{type:"number"},on:{change:function(i){e.onTotalScoreChange(i,t.questionType)}},model:{value:t.score,callback:function(i){e.$set(t,"score",i)},expression:"bigQuestion.score"}},[i("template",{slot:"append"},[e._v("分")])],2)],1)])])}),i("div",{staticClass:"left-card"},[i("div",{staticClass:"left-card__body"},[i("p",{staticClass:"left-card__p"},[e._v("总题数: "+e._s(e.form.questionNum||0)+"题")]),i("p",{staticClass:"left-card__p"},[e._v("当前总分: "+e._s(e.form.totalScore||0)+"分")])])])],2),i("div",{staticClass:"right"},[i("h1",{staticClass:"paper-title"},[e._v(e._s(e.form.paperTitle))]),i("h2",{directives:[{name:"show",rawName:"v-show",value:!e.form.paperModuleAddRequestList.length,expression:"!form.paperModuleAddRequestList.length"}],staticClass:"no-question"},[e._v("尚未选择任何题目! 请先添加试题")]),e._l(e.form.paperModuleAddRequestList,function(t,s){return i("div",{key:s,staticClass:"paper-module"},[i("div",{staticClass:"paper-module__header"},[i("span",{staticClass:"big-question-type"},[e._v(e._s(e.$enums.QuestionType.getName(t.questionType)))]),"SELECT"===e.form.groupMode?i("div",{staticClass:"btn-main",on:{click:function(i){e.openDialog(t)}}},[e._v("选择试题\n              ")]):e._e()]),i("div",[i("span",{staticClass:"big-question-title"},[e._v(e._s(e._f("sectionToChinese")(s+1))+"、")]),i("el-input",{staticClass:"big-question-input",attrs:{type:"text",placeholder:"在此输入大题题干内容"},model:{value:t.moduleTitle,callback:function(i){e.$set(t,"moduleTitle",i)},expression:"bigQuestion.moduleTitle"}})],1),"RANDOM"===e.form.groupMode?i("div",[i("div",{staticClass:"btn-and-text"},[i("el-button",{attrs:{type:"primary"},on:{click:function(i){e.openExtractGradeDialog(t.questionType)}}},[e._v("\n                  选择年级 / 科目 / 知识点\n                ")]),i("span",{staticClass:"btn-and-text__span"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.extractCondition.grade.gradeName,expression:"bigQuestion.extractCondition.grade.gradeName"}]},[e._v("\n                    "+e._s(t.extractCondition.grade.gradeName)+" /\n                  ")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.extractCondition.subject.subjectName,expression:"bigQuestion.extractCondition.subject.subjectName"}]},[e._v("\n                    "+e._s(t.extractCondition.subject.subjectName)+" /\n                  ")]),i("span",[e._v("\n                    "+e._s(t.extractCondition.knowledge.map(function(e){return e.knowledgeName}).join(", "))+"\n                  ")])])],1),i("div",{staticClass:"btn-and-text"},[i("el-button",{attrs:{type:"primary"},on:{click:e.openExtractCountDialog}},[e._v("抽取数量\n                ")]),i("span",e._l(t.extractCondition.difficultLevelList,function(t){return i("span",{directives:[{name:"show",rawName:"v-show",value:t.count,expression:"diff.count"}],staticClass:"btn-and-text__span"},[e._v("\n                    "+e._s(t.label)+": "+e._s(t.count)+"题\n                  ")])}))],1)]):e._e(),e._l(t.questionList,function(n,a){return i("div",{key:a,staticClass:"question-card"},[i("div",{staticClass:"question-card__header"},[i("span",{staticClass:"span",on:{click:function(t){e.doEditQuestion(n,s,a)}}},[e._v("编辑")]),i("span",{staticClass:"span",on:{click:function(t){e.doDeleteQuestion(s,a)}}},[e._v("删除")]),i("span",{staticClass:"span",on:{click:function(t){e.doUpQuestion(s,a)}}},[e._v("上移")]),i("span",{staticClass:"span",on:{click:function(t){e.doDownQuestion(s,a)}}},[e._v("下移")])]),e.normalQuestion.indexOf(n.questionType)>-1?i("div",{staticClass:"question-card__body"},[i("div",{staticClass:"title",domProps:{innerHTML:e._s(n.titleContent)}}),"SELECT"===n.questionType?i("ul",{staticClass:"question-list"},e._l(n.questionOptionList,function(t,s){return i("li",{key:s,staticClass:"question-list__li"},[i("span",{staticClass:"question-list__span"},[e._v(e._s(e._f("num2Word")(s))+"、")]),i("div",{staticClass:"question-list__div",domProps:{innerHTML:e._s(t.optionContent)}})])})):e._e()]):e._e(),"WORDS"===n.questionType?i("div",{staticClass:"question-card__body"},[i("div",{staticClass:"title",domProps:{innerHTML:e._s(n.titleContent)}}),e._l(n.childQuestionResponses||n.childQuestionAddList,function(s,n){return i("div",{key:n,staticClass:"question-list"},[e._v("\n                  "+e._s(n+1)+"、\n                  "),e._l(s.questionOptionList,function(t,s){return i("span",{staticClass:"ml20"},[e._v("\n                    "+e._s(e._f("num2Word")(s))+". "+e._s(t.optionContent)+"\n                  ")])}),i("div",{staticClass:"question-card__footer no-padding"},[i("span",{staticClass:"answer"},[e._v("答案: "+e._s(s.answerContent||"--"))]),i("div",{staticClass:"scope"},[i("span",[e._v("分数: ")]),i("el-input",{attrs:{type:"number"},model:{value:t.paperQuestionListAddRequests[a].childQuestionResponses[n].score,callback:function(i){e.$set(t.paperQuestionListAddRequests[a].childQuestionResponses[n],"score",e._n(i))},expression:"bigQuestion.paperQuestionListAddRequests[questionIdx].childQuestionResponses[idx].score"}},[i("template",{slot:"append"},[e._v("分")])],2)],1)])],2)})],2):e._e(),"COMBINATION"===n.questionType?i("div",{staticClass:"question-card__body"},[i("div",{staticClass:"title",domProps:{innerHTML:e._s(n.titleContent)}}),e._l(n.childQuestionResponses||n.childQuestionAddList,function(s,n){return i("div",{key:n,staticClass:"question-list"},[i("div",{staticClass:"title",domProps:{innerHTML:e._s(s.titleContent)}}),s.questionOptionList?i("ul",{staticClass:"question-list"},e._l(s.questionOptionList,function(t,s){return i("li",{key:s,staticClass:"question-list__li"},[i("span",{staticClass:"question-list__span"},[e._v("                      "+e._s(e._f("num2Word")(s))+"、")]),i("div",{staticClass:"question-list__div",domProps:{innerHTML:e._s(t.optionContent)}})])})):e._e(),i("div",{staticClass:"question-card__footer no-padding"},[i("span",{staticClass:"answer"},[e._v("答案: "+e._s(s.answerContent||"--"))]),i("div",{staticClass:"scope"},[i("span",[e._v("分数: ")]),i("el-input",{attrs:{type:"number"},model:{value:t.paperQuestionListAddRequests[a].childQuestionResponses[n].score,callback:function(i){e.$set(t.paperQuestionListAddRequests[a].childQuestionResponses[n],"score",e._n(i))},expression:"bigQuestion.paperQuestionListAddRequests[questionIdx].childQuestionResponses[idx].score"}},[i("template",{slot:"append"},[e._v("分")])],2)],1)])])})],2):e._e(),e.specialQuestion.indexOf(n.questionType)<=-1?i("div",{staticClass:"question-card__footer"},[i("span",{staticClass:"answer"},[e._v("答案: "+e._s(n.answerContent||"--"))]),i("div",{staticClass:"scope"},[i("span",[e._v("分数: ")]),i("el-input",{attrs:{type:"number"},model:{value:t.paperQuestionListAddRequests[a].score,callback:function(i){e.$set(t.paperQuestionListAddRequests[a],"score",e._n(i))},expression:"bigQuestion.paperQuestionListAddRequests[questionIdx].score"}},[i("template",{slot:"append"},[e._v("分")])],2)],1)]):e._e()])})],2)}),i("el-dropdown",{on:{command:e.doAddBigQuestion}},[i("el-button",{attrs:{type:"primary"}},[e._v("\n              添加试题"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.questionTypeList,function(t,s){return i("el-dropdown-item",{key:s,attrs:{command:t.value}},[e._v("\n                "+e._s(t.label)+"\n              ")])}))],1)],2)]),i("div",{staticClass:"btn-group"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isAddPage,expression:"isAddPage"}],attrs:{type:"primary"},on:{click:e.goPrev}},[e._v("上一步\n        ")]),i("el-button",{staticClass:"btn-next",attrs:{type:"primary"},on:{click:e.goNext}},[e._v("下一步\n        ")])],1),i("el-dialog",{attrs:{title:"选择试题",visible:e.selectQuestionDialogShow,width:"1200px",center:""},on:{"update:visible":function(t){e.selectQuestionDialogShow=t}}},[i("div",{staticClass:"search"},[i("div",{staticClass:"search-item"},[i("p",{staticClass:"search-item__title"},[e._v("年级: ")]),i("el-select",{on:{change:e.onGradeChange},model:{value:e.table.query.gradeId,callback:function(t){e.$set(e.table.query,"gradeId",t)},expression:"table.query.gradeId"}},e._l(e.gradeAllList,function(e,t){return i("el-option",{key:t,attrs:{label:e.gradeName,value:e.id}})}))],1),i("div",{staticClass:"search-item"},[i("p",{staticClass:"search-item__title"},[e._v("科目: ")]),i("el-select",{on:{change:e.onSubjectChange},model:{value:e.table.query.subjectId,callback:function(t){e.$set(e.table.query,"subjectId",t)},expression:"table.query.subjectId"}},e._l(e.subjectAllList,function(e,t){return i("el-option",{key:t,attrs:{label:e.subjectName,value:e.id}})}))],1),i("div",{staticClass:"search-item"},[i("p",{staticClass:"search-item__title"},[e._v("知识点:")]),i("el-select",{attrs:{multiple:"",filterable:"","default-first-option":"",loading:e.knowledgeLoading,placeholder:"请选择知识点"},on:{change:e.queryTableList},model:{value:e.table.query.knowledgeIds,callback:function(t){e.$set(e.table.query,"knowledgeIds",t)},expression:"table.query.knowledgeIds"}},e._l(e.knowledgeList,function(e,t){return i("el-option",{key:t,attrs:{label:e.knowledgeName,value:e.id}})}))],1),i("div",{staticClass:"search-item"},[i("p",{staticClass:"search-item__title"},[e._v("难度系数")]),i("el-select",{on:{change:e.queryTableList},model:{value:e.table.query.difficultLevel,callback:function(t){e.$set(e.table.query,"difficultLevel",t)},expression:"table.query.difficultLevel"}},e._l(e.difficultLevelAllList,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),i("div",{staticClass:"search-item search-item--long"},[i("p",{staticClass:"search-item__title"},[e._v("创建时间:")]),i("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.onDateRangeChange},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1)]),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"questionTable",staticClass:"mt20",staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中...",data:e.table.data,stripe:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center",width:"30"}}),i("el-table-column",{attrs:{label:"题型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.$enums.QuestionType.getName(t.row.questionType)))]}}])}),i("el-table-column",{attrs:{prop:"gradeName",label:"年级",align:"center"}}),i("el-table-column",{attrs:{prop:"subjectName",label:"科目",align:"center"}}),i("el-table-column",{attrs:{prop:"knowledgeName",label:"知识点","show-overflow-tooltip":"",align:"center"}}),i("el-table-column",{attrs:{prop:"address",label:"试题内容","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",[e._v(e._s(e._f("html2text")(t.row.titleContent)))])]}}])}),i("el-table-column",{attrs:{prop:"difficultLevel",label:"难度系数",align:"center"}}),i("el-table-column",{attrs:{label:"创建时间",width:"100","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.formatTime(t.row.createdTime)))]}}])}),i("el-table-column",{attrs:{prop:"publishStatus",label:"状态",width:"90","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{class:{danger:"YES"===t.row.publishStatus},attrs:{type:"text"}},[e._v("\n                "+e._s("YES"===t.row.publishStatus?"已出卷":"未出卷")+"\n              ")])]}}])}),i("el-table-column",{attrs:{label:"最近使用时间","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.formatTime(t.row.lastUseTime)))]}}])})],1),i("el-pagination",{attrs:{"current-page":e.table.query.pageNo,"page-sizes":[10,20,50,100],"page-size":e.table.query.pageSize,layout:"sizes, prev, pager, next, total, jumper",total:e.table.total},on:{"size-change":e.onPageSizeChange,"current-change":e.queryTableList,"update:currentPage":function(t){e.$set(e.table.query,"pageNo",t)}}}),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.selectQuestionDialogShow=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary",loading:e.getQuestionDetailLoading},on:{click:e.doAddQuestion}},[e._v("确 定\n          ")])],1)],1),i("el-dialog",{attrs:{title:"选择年级 / 科目 / 知识点",visible:e.selectGradeDialogShow,width:"700px",center:""},on:{"update:visible":function(t){e.selectGradeDialogShow=t}}},[e.curBigQuestion.extractCondition?i("el-form",{ref:"step2Form",staticClass:"normal-form",attrs:{"label-width":"100px"}},[i("el-form-item",{attrs:{label:"年级"}},[i("el-select",{on:{change:e.onGradeChange},model:{value:e.curBigQuestion.extractCondition.gradeId,callback:function(t){e.$set(e.curBigQuestion.extractCondition,"gradeId",t)},expression:"curBigQuestion.extractCondition.gradeId"}},e._l(e.gradeList,function(e,t){return i("el-option",{key:t,attrs:{label:e.gradeName,value:e.id}})}))],1),i("el-form-item",{attrs:{label:"科目"}},[i("el-select",{on:{change:e.onSubjectChange},model:{value:e.curBigQuestion.extractCondition.subjectId,callback:function(t){e.$set(e.curBigQuestion.extractCondition,"subjectId",t)},expression:"curBigQuestion.extractCondition.subjectId"}},e._l(e.subjectExtractList,function(e,t){return i("el-option",{key:t,attrs:{label:e.subjectName,value:e.id}})}))],1),i("el-form-item",{attrs:{label:"知识点"}},[i("el-select",{attrs:{multiple:"",filterable:"","default-first-option":"",placeholder:"请选择知识点",loading:e.knowledgeLoading},on:{change:e.onKnowledgeChange},model:{value:e.curBigQuestion.extractCondition.knowledgeIds,callback:function(t){e.$set(e.curBigQuestion.extractCondition,"knowledgeIds",t)},expression:"curBigQuestion.extractCondition.knowledgeIds"}},e._l(e.knowledgeExtractList,function(e,t){return i("el-option",{key:t,attrs:{label:e.knowledgeName,value:e.id}})}))],1)],1):e._e(),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.selectGradeDialogShow=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary",loading:e.getQuestionCountLoading},on:{click:e.openExtractCountDialog}},[e._v("确 定\n          ")])],1)],1),i("el-dialog",{attrs:{title:"抽取数量",visible:e.extractCountDialogShow,lazy:"",width:"400px",center:""},on:{"update:visible":function(t){e.extractCountDialogShow=t}}},[i("h2",{directives:[{name:"show",rawName:"v-show",value:e.extractNoQuestion,expression:"extractNoQuestion"}],staticStyle:{"text-align":"center"}},[e._v("\n          暂无"+e._s(e.$enums.QuestionType.getName(e.curBigQuestion.questionType))+"题目\n        ")]),e.curBigQuestion.extractCondition?i("el-form",{staticClass:"extract-count-form",attrs:{"label-width":"40px"}},e._l(e.curBigQuestion.extractCondition.difficultLevelList,function(t,s){return i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.totalNum,expression:"item.totalNum"}],key:s,attrs:{label:t.label}},[i("el-input",{attrs:{type:"number",max:t.totalNum,step:1},model:{value:t.count,callback:function(i){e.$set(t,"count",e._n(i))},expression:"item.count"}},[i("template",{slot:"append"},[e._v("/ "+e._s(t.totalNum))])],2)],1)})):e._e(),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.extractCountDialogShow=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary",loading:e.getQuestionDetailLoading,disabled:e.extractNoQuestion},on:{click:e.doConfirmExtractCount}},[e._v("确 定\n          ")])],1)],1)],1),i("el-form",{directives:[{name:"show",rawName:"v-show",value:"生成试卷"===e.stepList[e.curStepIdx-1],expression:"stepList[curStepIdx - 1] === '生成试卷'"}],ref:"step3Form",staticClass:"form",attrs:{"label-width":"100px","status-icon":"",model:e.form,rules:e.rules}},[i("el-form-item",{attrs:{label:"试卷名称",prop:"paperTitle"}},[i("el-input",{model:{value:e.form.paperTitle,callback:function(t){e.$set(e.form,"paperTitle",t)},expression:"form.paperTitle"}})],1),i("el-form-item",{attrs:{label:"年级"}},[i("span",[e._v(e._s(e.formGrade.gradeName))])]),i("el-form-item",{attrs:{label:"科目"}},[e._v("\n        "+e._s(e.formSubject.subjectName)+"\n      ")]),i("el-form-item",{attrs:{label:"组卷方式"}},[e._v("\n        "+e._s(e.$enums.GroupMode.getName(e.form.groupMode))+"\n      ")]),i("el-form-item",{attrs:{label:"考试时长",prop:"examTime"}},[i("el-input",{attrs:{type:"number"},model:{value:e.form.examTime,callback:function(t){e.$set(e.form,"examTime",t)},expression:"form.examTime"}},[i("template",{slot:"append"},[e._v("分钟")])],2)],1),i("el-form-item",{attrs:{label:"总分"}},[i("span",[e._v(e._s(e.form.totalScore))])]),i("el-form-item",{attrs:{label:"试题数量"}},[i("span",[e._v(e._s(e.form.questionNum))])]),i("el-form-item",{attrs:{label:"创建人"}},[i("span",[e._v(e._s(e.userInfo.name))])]),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.goPrev}},[e._v("上一步\n        ")]),i("el-button",{staticClass:"btn-next",attrs:{type:"primary",loading:e.submitting},on:{click:e.doSubmit}},[e._v("\n          "+e._s(e.isAddPage?"发布":"更新")+"试卷\n        ")])],1)],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.editQuestionFlag,expression:"editQuestionFlag"}],staticClass:"mask",on:{click:function(t){e.editQuestionFlag=!1}}}),e.editQuestionFlag?i("transition",{attrs:{mode:"out-in",name:"slide"}},[i("div",{staticClass:"popup"},[i("question-edit",{attrs:{"question-id":e.curEditQuestionId,"question-type":e.curQuestionType},on:{editQuestion:e.onConfirmEditQuestion}})],1)]):e._e()],1)},n=[],a=(i("a481"),i("6d67"),i("57e7"),i("ac6a"),i("f3e2"),i("96cf"),i("1da1")),o=(i("759f"),i("7514"),i("7f7f"),i("0d6d"),i("4514")),r=function(e){return[{label:"全部",value:null}].concat(e)},u=[{label:"1.0",value:1,totalNum:0,count:0},{label:"2.0",value:2,totalNum:0,count:0},{label:"3.0",value:3,totalNum:0,count:0},{label:"4.0",value:4,totalNum:0,count:0},{label:"5.0",value:5,totalNum:0,count:0},{label:"6.0",value:6,totalNum:0,count:0}],l={components:{QuestionEdit:o["default"]},data:function(){var e=this;return{nav:[{name:"题库管理",path:"go(-1)"},{name:"".concat(e.isAddPage?"添加":"更新","试卷"),path:""}],userInfo:Object.freeze({}),curStepIdx:1,questionTypeList:e.$enums.QuestionType.list,gradeLoading:!0,gradeList:[],gradeAllList:[],subjectLoading:!1,subjectList:[],subjectAllList:[],subjectExtractList:[],knowledgeLoading:!1,knowledgeList:[],knowledgeExtractList:[],difficultLevelList:u,difficultLevelAllList:r(u),form:{paperTitle:"",gradeId:null,subjectId:null,examTime:null,groupMode:null,questionNum:0,totalScore:0,paperModuleAddRequestList:[]},rules:Object.freeze({paperTitle:{required:!0,message:"请填写试卷名称",trigger:"blur"},gradeId:{required:!0,message:"请选择年级",trigger:"change"},subjectId:{required:!0,message:"请选择科目",trigger:"change"},groupMode:{required:!0,message:"请选择组卷方式",trigger:"change"},examTime:{required:!0,message:"请填写考试时长",trigger:"blur"}}),curQuestionType:null,selectQuestionDialogShow:!1,tableLoading:!0,table:{query:{pageNo:1,pageSize:10,questionType:null,gradeId:null,subjectId:null,knowledgeIds:[],difficultLevel:null,queryDateBegin:null,queryDateEnd:null,excludeIds:[]},data:[],total:0},dateRange:[],selectedIds:[],getQuestionCountLoading:!1,getQuestionDetailLoading:!1,selectGradeDialogShow:!1,extractCountDialogShow:!1,submitting:!1,normalQuestion:["SELECT","BLANK","COMPOSITION","ANSWER","TRUEORFALSE"],specialQuestion:["WORDS","COMBINATION"],curEditQuestionId:null,curEditBigQuestionIdx:null,curEditQuestionIdx:null,editQuestionFlag:!1}},filters:{num2Word:function(e){return String.fromCharCode(e+65)}},computed:{stepList:function(){return this.isAddPage?["创建试卷","选择试题","生成试卷"]:["选择试题","生成试卷"]},isAddPage:function(){return"PaperAdd"===this.$route.name},formGrade:function(){var e=this;return this.gradeList.find(function(t){return t.id===e.form.gradeId})||{}},formSubject:function(){var e=this;return this.subjectList.find(function(t){return t.id===e.form.subjectId})||{}},curBigQuestion:function(){var e=this;return this.form.paperModuleAddRequestList.find(function(t){return t.questionType===e.curQuestionType})||{}},curExtractCondition:function(){return this.curBigQuestion==={}?{}:this.curBigQuestion.extractCondition},extractNoQuestion:function(){if(this.curExtractCondition&&this.curExtractCondition.difficultLevelList.length)return!this.curBigQuestion.extractCondition.difficultLevelList.some(function(e){return e.totalNum})}},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=localStorage.getItem("menu"),t&&(t=JSON.parse(t)),this.userInfo=t,this.isAddPage?this.queryGradeList():this.$nextTick(Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=i.$loading({target:".paper-card",text:"试卷详情获取中..."}),e.next=3,i.queryPaperDetail();case 3:return e.next=5,i.queryGradeList();case 5:return e.next=7,i.querySubjectList();case 7:t.close();case 8:case"end":return e.stop()}},e,this)})));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),watch:{selectQuestionDialogShow:function(e){e||(this.selectedIds=[])},form:{deep:!0,handler:function(e){var t=this;if(e.paperModuleAddRequestList.length){var i=0,s=0;e.paperModuleAddRequestList.forEach(function(e){var n=e.paperQuestionListAddRequests;n.length&&(t.specialQuestion.indexOf(e.questionType)>-1?n[0]&&n[0].childQuestionResponses.forEach(function(e){i++,s+=parseFloat(e.score)}):n.forEach(function(e){i++,s+=parseFloat(e.score)}))}),this.form.questionNum=i,this.form.totalScore=parseFloat(s.toFixed(1))}}}},methods:{queryPaperDetail:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,i,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.getQPaperInfo({id:this.$route.params.id});case 2:t=e.sent,i=t.paperModuleAddRequestList.map(function(e){var t={moduleTitle:e.moduleTitle,questionType:e.questionType,questionList:e.paperQuestionListAddRequests,extractCondition:{gradeId:null,grade:{},subjectId:null,subject:{},knowledgeIds:[],knowledge:[],difficultLevelList:s.$cloneObj(u)},score:0};return s.specialQuestion.indexOf(e.questionType)>-1?t.paperQuestionListAddRequests=e.paperQuestionListAddRequests.map(function(e){return{questionId:e.id,score:e.score,childQuestionResponses:e.childQuestionResponses.map(function(e){return{questionId:e.id,score:e.score}})}}):t.paperQuestionListAddRequests=e.paperQuestionListAddRequests.map(function(e){return{questionId:e.id,score:e.score}}),t}),t.paperModuleAddRequestList=i,this.form=t;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),queryGradeList:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.gradeLoading=!0,e.prev=1,e.next=4,this.$api.queryQGradeList();case 4:t=e.sent,t=t.map(function(e){return{id:e.id,gradeName:e.gradeName}}),this.gradeList=t,this.gradeAllList=[{gradeName:"全部",id:null}].concat(t),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](1);case 12:this.gradeLoading=!1;case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}(),querySubjectList:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.subjectLoading=!0,t=null,t=this.selectQuestionDialogShow?this.table.query.gradeId:this.selectGradeDialogShow?this.curExtractCondition.gradeId:this.form.gradeId,t){e.next=8;break}return this.subjectList=[],this.subjectAllList=[{subjectName:"全部",id:null}],this.subjectLoading=!1,e.abrupt("return");case 8:return e.prev=8,e.next=11,this.$api.queryQSubjectList({gradeId:t});case 11:i=e.sent,i=i.map(function(e){return{id:e.id,subjectName:e.subjectName}}),this.selectQuestionDialogShow?this.subjectAllList=[{subjectName:"全部",id:null}].concat(i):this.selectGradeDialogShow?this.subjectExtractList=i:this.subjectList=i,e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](8);case 18:this.subjectLoading=!1;case 19:case"end":return e.stop()}},e,this,[[8,16]])}));return function(){return e.apply(this,arguments)}}(),queryKnowledgeList:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.knowledgeLoading=!0,t={},!this.selectQuestionDialogShow){e.next=10;break}if(this.table.query.subjectId){e.next=7;break}return this.knowledgeList=[],this.knowledgeLoading=!1,e.abrupt("return");case 7:t={gradeId:this.table.query.gradeId,subjectId:this.table.query.subjectId},e.next=16;break;case 10:if(!this.selectGradeDialogShow){e.next=16;break}if(this.curExtractCondition.subjectId){e.next=15;break}return this.knowledgeExtractList=[],this.knowledgeLoading=!1,e.abrupt("return");case 15:t={gradeId:this.curExtractCondition.gradeId,subjectId:this.curExtractCondition.subjectId};case 16:return e.next=18,this.$api.queryQKnowledgeInfoList(t);case 18:i=e.sent,i=i.map(function(e){return{id:e.id,knowledgeName:e.knowledgeName}}),this.selectQuestionDialogShow?this.knowledgeList=i:this.selectGradeDialogShow&&(this.knowledgeExtractList=i),this.knowledgeLoading=!1;case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),queryTableList:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.tableLoading=!0,e.next=3,this.$api.queryQuestionManagePage(this.table.query);case 3:if(t=e.sent,this.table.data=t.list,this.table.total=t.total,this.tableLoading=!1,this.selectedIds.length){e.next=9;break}return e.abrupt("return");case 9:t.list.forEach(function(e,t){i.selectedIds.indexOf(e.id)>-1&&i.$nextTick(function(){i.$refs.questionTable.toggleRowSelection(i.table.data[t])})});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onGradeChange:function(e){this.selectQuestionDialogShow?(this.table.query.subjectId=null,this.queryTableList()):this.selectGradeDialogShow?(this.curExtractCondition.subjectId=null,this.curExtractCondition.grade=this.gradeList.find(function(t){return t.id===e})):this.form.subjectId=null,this.querySubjectList()},onSubjectChange:function(e){if(this.selectQuestionDialogShow){if(!this.table.query.gradeId)return;this.table.query.knowledgeIds=[],this.queryKnowledgeList(),this.queryTableList()}else if(this.selectGradeDialogShow){if(!this.curExtractCondition.gradeId)return;this.curExtractCondition.knowledgeIds=[],this.queryKnowledgeList(),this.curExtractCondition.subject=this.subjectExtractList.find(function(t){return t.id===e})}},onKnowledgeChange:function(e){var t=this;if(this.selectGradeDialogShow){var i=[];e.forEach(function(e){i.push(t.knowledgeExtractList.find(function(t){return t.id===e}))}),this.curExtractCondition.knowledge=i}},onDateRangeChange:function(e){var t=null,i=null;e&&e.length?(t=e[0],i=e[1]):(t=null,i=null),this.table.query.queryDateBegin=t,this.table.query.queryDateEnd=i,this.queryTableList()},doAddBigQuestion:function(e){var t={questionType:e,moduleTitle:this.$enums.QuestionType.getName(e),paperQuestionListAddRequests:[],questionList:[],extractCondition:{gradeId:null,grade:{},subjectId:null,subject:{},knowledgeIds:[],knowledge:[],difficultLevelList:this.$cloneObj(u)}};this.form.paperModuleAddRequestList.push(t),this.curQuestionType=e},onTotalScoreChange:function(e,t){e=parseFloat(e);var i=this.form.paperModuleAddRequestList.find(function(e){return e.questionType===t});this.specialQuestion.indexOf(t)>-1?i.paperQuestionListAddRequests[0].childQuestionResponses.forEach(function(t){t.score=parseFloat(e.toFixed(1))}):i.paperQuestionListAddRequests.forEach(function(t){t.score=parseFloat(e.toFixed(1))})},doDeleteBigQuestion:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=this.form.paperModuleAddRequestList,e.next=4,this.$confirm("确认删除".concat(this.$enums.QuestionType.getName(i[t].questionType),"吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 4:i.splice(t,1),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),swapArray:function(e,t,i){return e[t]=e.splice(i,1,e[t])[0],e},doUpBigQuestion:function(e){if(0!==e){var t=this.form.paperModuleAddRequestList;this.swapArray(t,e,e-1)}},doDownBigQuestion:function(e){var t=this.form.paperModuleAddRequestList;e!==t.length-1&&this.swapArray(t,e+1,e)},doDeleteQuestion:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,i){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("确认删除该题目吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:s=this.form.paperModuleAddRequestList[t],s.questionList.splice(i,1),s.paperQuestionListAddRequests.splice(i,1),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t,i){return e.apply(this,arguments)}}(),doEditQuestion:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,i,s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.curEditQuestionId=t.id,this.curQuestionType=t.questionType,this.curEditQuestionIdx=s,this.editQuestionFlag=!0;case 4:case"end":return e.stop()}},e,this)}));return function(t,i,s){return e.apply(this,arguments)}}(),doUpQuestion:function(e,t){if(0!==t){var i=this.form.paperModuleAddRequestList[e];this.swapArray(i.paperQuestionListAddRequests,t,t-1),this.swapArray(i.questionList,t,t-1)}},doDownQuestion:function(e,t){var i=this.form.paperModuleAddRequestList[e];t!==i.paperQuestionListAddRequests.length-1&&(this.swapArray(i.paperQuestionListAddRequests,t+1,t),this.swapArray(i.questionList,t+1,t))},calcBigQuestionTotalScore:function(e){if(!e.length)return 0;var t=0;return e[0].childQuestionResponses&&e[0].childQuestionResponses.length?(e[0].childQuestionResponses.forEach(function(e){t+=e.score}),e[0].score=t):e.forEach(function(e){t+=e.score}),parseFloat(t.toFixed(1))},openDialog:function(e){this.table.query.questionType=e.questionType,this.table.query.gradeId=this.form.gradeId,this.table.query.subjectId=this.form.subjectId,this.queryKnowledgeList(),this.subjectAllList=[{subjectName:"全部",id:null}].concat(this.subjectList),this.table.query.excludeIds=e.paperQuestionListAddRequests.map(function(e){return e.questionId}),this.curQuestionType=e.questionType,this.selectQuestionDialogShow=!0,this.queryTableList()},doAddQuestion:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.selectedIds.length){e.next=3;break}return this.$message({message:"请选择题目",type:"warning"}),e.abrupt("return");case 3:if(this.getQuestionDetailLoading=!0,t=[],i=this.specialQuestion.indexOf(this.curQuestionType)>-1,e.prev=6,!i){e.next=13;break}return e.next=10,this.$api.queryQuestionsCombinationDetailList({ids:this.selectedIds});case 10:t=e.sent,e.next=16;break;case 13:return e.next=15,this.$api.queryQuestionsDetailList({ids:this.selectedIds});case 15:t=e.sent;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e["catch"](6);case 20:s=null,s=i?t.map(function(e){return console.log(e),{questionId:e.id,score:0,childQuestionResponses:e.childQuestionAddList.map(function(e){return{questionId:e.id,score:0}})}}):t.map(function(e){return{questionId:e.id,score:0}}),this.curBigQuestion.questionList=this.curBigQuestion.questionList.concat(t),this.curBigQuestion.paperQuestionListAddRequests=this.curBigQuestion.paperQuestionListAddRequests.concat(s),this.getQuestionDetailLoading=!1,this.selectQuestionDialogShow=!1;case 26:case"end":return e.stop()}},e,this,[[6,18]])}));return function(){return e.apply(this,arguments)}}(),handleSelectionChange:function(e){for(var t=this.table.data.map(function(e){return e.id}),i=e.map(function(e){return e.id}),s=0;s<this.selectedIds.length;s++){var n=this.selectedIds[s];t.indexOf(n)>-1&&(this.selectedIds.splice(s,1),s--)}this.selectedIds=this.selectedIds.concat(i)},formatTime:function(e){return e&&e.substring(0,10)||"--"},onPageSizeChange:function(e){this.table.query.pageSize=e,this.queryTableList()},openExtractGradeDialog:function(e){this.curQuestionType=e,this.selectGradeDialogShow=!0,this.curExtractCondition.gradeId||(this.curExtractCondition.grade=this.formGrade,this.curExtractCondition.gradeId=this.form.gradeId),this.curExtractCondition.subjectId||(this.curExtractCondition.subject=this.formSubject,this.curExtractCondition.subjectId=this.form.subjectId),this.curExtractCondition.knowledgeIds=[],this.subjectExtractList=this.subjectList,this.knowledgeExtractList=[],this.curExtractCondition.gradeId||this.curExtractCondition.subjectId||(this.curExtractCondition.grade=this.formGrade,this.curExtractCondition.subject=this.formSubject),this.queryKnowledgeList()},openExtractCountDialog:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.curExtractCondition.subjectId){e.next=3;break}return this.$message({message:"请先选择年级科目",type:"warning"}),e.abrupt("return");case 3:return this.getQuestionCountLoading=!0,e.next=6,this.$api.queryQuestionLevelCountList({questionType:this.curBigQuestion.questionType,subjectId:this.curExtractCondition.subjectId,knowledgeIds:this.curExtractCondition.knowledgeIds});case 6:t=e.sent,i=this.curExtractCondition.difficultLevelList,t.forEach(function(e){var t=i.find(function(t){return t.value===e.difficultLevel});t.totalNum=e.totalNum}),this.getQuestionCountLoading=!1,this.selectGradeDialogShow=!1,this.extractCountDialogShow=!0;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),doConfirmExtractCount:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.getQuestionDetailLoading=!0,t=this.curExtractCondition.difficultLevelList.map(function(e){return{difficultLevel:e.value,number:e.count}}),i={questionType:this.curBigQuestion.questionType,subjectId:this.curExtractCondition.subjectId,knowledgeIds:this.curExtractCondition.knowledgeIds,questionDiffLevelRequests:t},s=[],!(this.specialQuestion.indexOf(this.curBigQuestion.questionType)>-1)){e.next=12;break}return e.next=7,this.$api.queryRandomQuestionCombinationDetailList(i);case 7:s=e.sent,this.curBigQuestion.questionList=s,this.curBigQuestion.paperQuestionListAddRequests=s.map(function(e){return{questionId:e.id,score:0,childQuestionResponses:e.childQuestionAddList.map(function(e){return{questionId:e.id,score:0}})}}),e.next=17;break;case 12:return e.next=14,this.$api.queryRandomQuestionDetailList(i);case 14:s=e.sent,this.curBigQuestion.questionList=s,this.curBigQuestion.paperQuestionListAddRequests=s.map(function(e){return{questionId:e.id,score:0}});case 17:this.getQuestionDetailLoading=!1,this.extractCountDialogShow=!1;case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),goPrev:function(){this.curStepIdx--},goNext:function(){var e=this,t=!0;switch(this.curStepIdx){case 1:this.isAddPage&&this.$refs.step1Form.validate(function(i){i||(e.$message({message:"请按提示填写完整表单",type:"warning"}),t=!1)})}t&&this.curStepIdx++},onConfirmEditQuestion:function(e){this.editQuestionFlag=!1,this.curBigQuestion.questionList[this.curEditQuestionIdx]=e,this.curBigQuestion.paperQuestionListAddRequests[this.curEditQuestionIdx].questionId=e.id},doSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.submitting=!0,t=this.$cloneObj(this.form),t.paperModuleAddRequestList.forEach(function(e){delete e.extractCondition,delete e.questionList}),e.prev=3,!this.isAddPage){e.next=9;break}return e.next=7,this.$api.addQPaperInfo(this.form);case 7:e.next=11;break;case 9:return e.next=11,this.$api.updateQPaperInfo(this.form);case 11:this.$remind("试卷".concat(this.isAddPage?"发布":"更新","成功")),this.$router.replace({name:"QuestionList",query:{tabIdx:"1"}}),e.next=17;break;case 15:e.prev=15,e.t0=e["catch"](3);case 17:this.submitting=!1;case 18:case"end":return e.stop()}},e,this,[[3,15]])}));return function(){return e.apply(this,arguments)}}()}},c=l,d=(i("a597"),i("2877")),p=Object(d["a"])(c,s,n,!1,null,"7e2a72f5",null);p.options.__file="AddPaper.vue";t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-5bcc9b8f.cf6095ff.js.map