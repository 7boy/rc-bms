(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c3dd27c"],{"2fdb":function(e,t,a){"use strict";var s=a("5ca1"),i=a("d2c8"),r="includes";s(s.P+s.F*a("5147")(r),"String",{includes:function(e){return!!~i(this,e,r).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},5147:function(e,t,a){var s=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[s]=!1,!"/./"[e](t)}catch(i){}}return!0}},6762:function(e,t,a){"use strict";var s=a("5ca1"),i=a("c366")(!0);s(s.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},c538:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reading-form"},[e.form.name||!e.editPage?a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"100px"}},[a("div",{staticClass:"upload-box"},[e.form.avatar?e._e():a("div",{staticClass:"def-img"}),e.form.avatar?a("img",{attrs:{src:e.form.avatar+"?imageMogr2/crop/179x220'",alt:"头像加载失败"}}):e._e(),a("p",{staticClass:"gray-shallow"},[e._v("格式:JPG")]),e.isReading?a("div",{staticClass:"upload-btn"},[a("label",{attrs:{for:"cover"}},[a("div",{staticClass:"btn-upload"},[e._v("上传")]),a("input",{ref:"uploadCover",attrs:{id:"cover",accept:"image/jpg",type:"file",hidden:""},on:{change:function(t){e.uploadCover(t)}}})]),a("div",{on:{click:function(t){e.form.avatar=null}}},[e._v("删除")])]):e._e(),e.isReading?e._e():a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"long-btn"},[e._v("头像")])])]),a("el-form-item",{staticClass:"item",attrs:{label:"姓名",prop:"name"}},[e.isReading?a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.name))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"性别",prop:"sex"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.$enums.Sex.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.Sex.getName(e.form.sex)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"曾用名"}},[e.isReading?a("el-input",{attrs:{placeholder:"请输入曾用名"},model:{value:e.form.usedName,callback:function(t){e.$set(e.form,"usedName",t)},expression:"form.usedName"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.usedName))])],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item long-item",attrs:{label:"身份证号",prop:"idCard"}},[e.isReading?a("el-input",{attrs:{maxlength:"18",placeholder:"请输入身份证号"},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.idCard))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"出生日期",prop:"birthday"}},[e.isReading?a("el-date-picker",{staticClass:"input",attrs:{type:"date",placeholder:"请选择出生日期"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e._f("substrTime")(e.form.birthday)))])],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item ",attrs:{label:"是否有学籍",prop:"isSchoolRoll"}},[e.isReading?a("el-select",{staticClass:"input",model:{value:e.form.isSchoolRoll,callback:function(t){e.$set(e.form,"isSchoolRoll",t)},expression:"form.isSchoolRoll"}},e._l(e.$enums.YesNoStatus.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.YesNoStatus.getName(e.form.isSchoolRoll)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"长沙市学籍号",prop:"flowStudentNo"}},[e.isReading?a("el-input",{attrs:{type:"number",placeholder:"请输入长沙市学籍号"},model:{value:e.form.flowStudentNo,callback:function(t){e.$set(e.form,"flowStudentNo",e._n(t))},expression:"form.flowStudentNo"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.flowStudentNo))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"全国学籍号"}},[e.isReading?a("el-input",{attrs:{placeholder:"请输入全国学籍号"},model:{value:e.form.nationStudentNo,callback:function(t){e.$set(e.form,"nationStudentNo",e._n(t))},expression:"form.nationStudentNo"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.nationStudentNo))])],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"小学学籍号"}},[e.isReading?a("el-input",{attrs:{type:"number",placeholder:"请输入小学学籍号"},model:{value:e.form.primaryStudentNo,callback:function(t){e.$set(e.form,"primaryStudentNo",e._n(t))},expression:"form.primaryStudentNo"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.primaryStudentNo))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"班级学号"}},[e.isReading?a("el-input",{attrs:{type:"number",placeholder:"请输入班级学号"},model:{value:e.form.classStudentNo,callback:function(t){e.$set(e.form,"classStudentNo",e._n(t))},expression:"form.classStudentNo"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.classStudentNo))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"班级名称",prop:"classId"}},[e.isReading&&!e.editPage?a("el-select",{staticClass:"input",attrs:{"default-first-option":"",placeholder:"请选择班级",filterable:"",clearable:""},model:{value:e.form.classId,callback:function(t){e.$set(e.form,"classId",t)},expression:"form.classId"}},e._l(e.classList,function(t,s){return a("el-option",{key:s,attrs:{value:t.classId,label:e.eitem.aliasName}})})):e._e(),e.editPage?a("el-input",{attrs:{disabled:"",value:e.form.className}}):e._e()],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"学生性质",prop:"studentNature"}},[e.isReading?a("el-cascader",{attrs:{clearable:"",options:e.natureList,"change-on-select":""},model:{value:e.form.studentNature,callback:function(t){e.$set(e.form,"studentNature",t)},expression:"form.studentNature"}}):e._e(),e.isReading?e._e():a("p",[e._v("学生性质")])],1),a("el-form-item",{staticClass:"item long-item",attrs:{label:"备注"}},[a("el-tooltip",{attrs:{content:"学生性质为其它时请填写备注",placement:"top",effect:"dark"}},[a("i",{staticClass:"el-icon-warning"})]),e.isReading?a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.remark))])],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"籍贯码",prop:"nativePlace"}},[e.isReading?a("el-input",{attrs:{placeholder:"请输入籍贯码"},model:{value:e.form.nativePlace,callback:function(t){e.$set(e.form,"nativePlace",t)},expression:"form.nativePlace"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.nativePlace))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"民族",prop:"nationId"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{"default-first-option":"",clearable:"",filterable:""},model:{value:e.form.nationId,callback:function(t){e.$set(e.form,"nationId",t)},expression:"form.nationId"}},e._l(e.nationList,function(e){return a("el-option",{key:e.id,attrs:{label:e.nation,value:e.id}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.nationName))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"户口性质",prop:"residentType"}},[e.isReading?a("el-select",{staticClass:"input",model:{value:e.form.residentType,callback:function(t){e.$set(e.form,"residentType",t)},expression:"form.residentType"}},e._l(e.$enums.ResidentType.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.ResidentType.getName(e.form.residentType)))])],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"入学方式"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.enrollType,callback:function(t){e.$set(e.form,"enrollType",t)},expression:"form.enrollType"}},e._l(e.$enums.EnrollType.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.EnrollType.getName(e.form.enrollType)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"政治面貌"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.politicsStatus,callback:function(t){e.$set(e.form,"politicsStatus",t)},expression:"form.politicsStatus"}},e._l(e.$enums.StudentPoliticsStatus.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.StudentPoliticsStatus.getName(e.form.politicsStatus)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"外来人口"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.isImmigrant,callback:function(t){e.$set(e.form,"isImmigrant",t)},expression:"form.isImmigrant"}},e._l(e.$enums.YesNoStatus.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.YesNoStatus.getName(e.form.isImmigrant)))])],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"家庭特殊情况"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.situationStatus,callback:function(t){e.$set(e.form,"situationStatus",t)},expression:"form.situationStatus"}},e._l(e.$enums.SituationStatus.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.SituationStatus.getName(e.form.situationStatus)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"来源学校"}},[e.isReading?a("el-input",{attrs:{placeholder:"请输入来源学校"},model:{value:e.form.enrollmentSchool,callback:function(t){e.$set(e.form,"enrollmentSchool",t)},expression:"form.enrollmentSchool"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.enrollmentSchool))])],1),a("el-form-item",{staticClass:"item long-item",attrs:{label:"特长"}},[e.isReading?a("el-input",{attrs:{placeholder:"请输入特长"},model:{value:e.form.speciality,callback:function(t){e.$set(e.form,"speciality",t)},expression:"form.speciality"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.speciality))])],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"户口所在地区码"}},[e.isReading?a("el-input",{attrs:{placeholder:"请输入户口所在地区码"},model:{value:e.form.residentRegionCode,callback:function(t){e.$set(e.form,"residentRegionCode",t)},expression:"form.residentRegionCode"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.residentRegionCode))])],1),a("el-form-item",{staticClass:"item triple-item",attrs:{label:"户口所在地"}},[e.isReading?a("el-input",{attrs:{placeholder:"请输入户口所在地"},model:{value:e.form.residentRegion,callback:function(t){e.$set(e.form,"residentRegion",t)},expression:"form.residentRegion"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.residentRegion))])],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"现住址地区码"}},[e.isReading?a("el-input",{attrs:{placeholder:"请输入现住址地区码"},model:{value:e.form.currentAddressCode,callback:function(t){e.$set(e.form,"currentAddressCode",t)},expression:"form.currentAddressCode"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.currentAddressCode))])],1),a("el-form-item",{staticClass:"item triple-item",attrs:{label:"现住址"}},[e.isReading?a("el-input",{attrs:{placeholder:"请输入现住址"},model:{value:e.form.currentAddress,callback:function(t){e.$set(e.form,"currentAddress",t)},expression:"form.currentAddress"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.currentAddress))])],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"留守儿童"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.isLeftover,callback:function(t){e.$set(e.form,"isLeftover",t)},expression:"form.isLeftover"}},e._l(e.$enums.YesNoStatus.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.YesNoStatus.getName(e.form.isLeftover)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"三类残疾"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.disabilityStatus,callback:function(t){e.$set(e.form,"disabilityStatus",t)},expression:"form.disabilityStatus"}},e._l(e.$enums.DisabilityStatus.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.DisabilityStatus.getName(e.form.disabilityStatus)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"外来务工人员"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.isMigrantWorker,callback:function(t){e.$set(e.form,"isMigrantWorker",t)},expression:"form.isMigrantWorker"}},e._l(e.$enums.YesNoStatus.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.YesNoStatus.getName(e.form.isMigrantWorker)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"进城务工类型"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.migrantWorkType,callback:function(t){e.$set(e.form,"migrantWorkType",t)},expression:"form.migrantWorkType"}},e._l(e.$enums.MigrantWorkType.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.MigrantWorkType.getName(e.form.migrantWorkType)))])],1),a("div",{staticClass:"clear"}),a("el-form-item",{staticClass:"item",attrs:{label:"独生子女"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.isSingle,callback:function(t){e.$set(e.form,"isSingle",t)},expression:"form.isSingle"}},e._l(e.$enums.YesNoStatus.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.YesNoStatus.getName(e.form.isSingle)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"港澳台侨"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.isOverseas,callback:function(t){e.$set(e.form,"isOverseas",t)},expression:"form.isOverseas"}},e._l(e.$enums.YesNoStatus.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.YesNoStatus.getName(e.form.isOverseas)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"教职工子女"}},[e.isReading?a("el-select",{staticClass:"input",attrs:{clearable:""},model:{value:e.form.isStaffChild,callback:function(t){e.$set(e.form,"isStaffChild",t)},expression:"form.isStaffChild"}},e._l(e.$enums.YesNoStatus.list,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.$enums.YesNoStatus.getName(e.form.isStaffChild)))])],1),a("el-form-item",{staticClass:"item",attrs:{label:"联系电话"}},[e.isReading?a("el-input",{attrs:{maxLength:"11",type:"tel",placeholder:"联系电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.phone))])],1),a("div",{staticClass:"clear"})],1):e._e(),a("table",{staticClass:"home-info"},[e._m(0),a("tr",[a("td",[e._v("父亲")]),a("td",[e.isReading?a("el-input",{model:{value:e.form.father.name,callback:function(t){e.$set(e.form.father,"name",t)},expression:"form.father.name"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.father.name))])],1),a("td",[e.isReading?a("el-input",{model:{value:e.form.father.company,callback:function(t){e.$set(e.form.father,"company",t)},expression:"form.father.company"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.father.company))])],1),a("td",[e.isReading?a("el-input",{attrs:{maxLength:"11"},model:{value:e.form.father.phone,callback:function(t){e.$set(e.form.father,"phone",t)},expression:"form.father.phone"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.father.phone))])],1)]),a("tr",[a("td",[e._v("母亲")]),a("td",[e.isReading?a("el-input",{model:{value:e.form.mother.name,callback:function(t){e.$set(e.form.mother,"name",t)},expression:"form.mother.name"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.mother.name))])],1),a("td",[e.isReading?a("el-input",{model:{value:e.form.mother.company,callback:function(t){e.$set(e.form.mother,"company",t)},expression:"form.mother.company"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.mother.company))])],1),a("td",[e.isReading?a("el-input",{attrs:{maxLength:"11"},model:{value:e.form.mother.phone,callback:function(t){e.$set(e.form.mother,"phone",t)},expression:"form.mother.phone"}}):e._e(),e.isReading?e._e():a("p",[e._v(e._s(e.form.mother.phone))])],1)]),a("tr",[a("td",[e._v("监护人")]),a("td",[e.isReading?a("el-input",{model:{value:e.form.guardian.name,callback:function(t){e.$set(e.form.guardian,"name",t)},expression:"form.guardian.name"}}):e._e()],1),a("td",[e.isReading?a("el-input",{model:{value:e.form.guardian.company,callback:function(t){e.$set(e.form.guardian,"company",t)},expression:"form.guardian.company"}}):e._e()],1),a("td",[e.isReading?a("el-input",{attrs:{maxLength:"11"},model:{value:e.form.guardian.phone,callback:function(t){e.$set(e.form.guardian,"phone",t)},expression:"form.guardian.phone"}}):e._e()],1)])]),a("div",{staticClass:"btns mb10"},[e.editPage?a("div",{staticClass:"btn-submit mr15",on:{click:function(t){e.$exportDetail("/export/studentInfoExport.do",{id:e.$route.query.id})}}},[e._v("导出\n    ")]):e._e(),!e.editPage&&e.isReading?a("div",{staticClass:"btn-submit btn-add mr15",on:{click:function(t){e.doSubmit("add")}}},[e._v("提交")]):e._e(),e.editPage&&e.isReading?a("div",{staticClass:"btn-submit btn-save mr15",on:{click:function(t){e.doSubmit("save")}}},[e._v("保存")]):e._e(),e.editPage&&("AT_SCHOOL"===e.$route.query.type||"OTHER"===e.$route.query.type)&&e.isReading?a("div",{staticClass:"btn-submit btn-save mr15",on:{click:function(t){e.showDialog("save")}}},[e._v("更换班级\n    ")]):e._e(),a("div",{staticClass:"btn-clear",on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")])]),a("el-dialog",{staticClass:"dialog",attrs:{width:"540px",title:"更换班级",visible:e.dialog},on:{"update:visible":function(t){e.dialog=t}}},[a("div",{staticClass:"item"},[a("span",{staticClass:"title imp"},[e._v("选择班级")]),a("el-select",{staticClass:"input",attrs:{"default-first-option":"",placeholder:"请选择班级",filterable:"",clearable:""},model:{value:e.changeClassId,callback:function(t){e.changeClassId=t},expression:"changeClassId"}},e._l(e.classList,function(e,t){return a("el-option",{key:t,attrs:{value:e.classId,label:e.aliasName}})}))],1),a("div",{staticClass:"btns"},[a("div",{staticClass:"btn-submit btn-change mr15",on:{click:e.changeClassFun}},[e._v("确认")]),a("div",{staticClass:"btn-clear",on:{click:function(t){e.dialog=!1}}},[e._v("取消")])])])],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",{attrs:{rowspan:"4"}},[e._v("家庭信息"),a("span",{staticClass:"info"},[e._v("(必填一位)")])]),a("th",[e._v("称谓")]),a("th",[e._v("姓名")]),a("th",[e._v("工作单位")]),a("th",[e._v("联系电话")])])}],r=(a("96cf"),a("1da1")),n=(a("f559"),a("6762"),a("2fdb"),a("c8e7")),l={mixins:[n["a"].$exportDetail],data:function(){return{editPage:this.$route.path.includes("detail"),isReading:this.$route.path.startsWith("/edu-affair/reading"),nationList:[],classList:[],natureList:[],form:{avatar:null,studentStatus:"INTERNAL_STUDENT",name:"",sex:null,usedName:"",idCard:"",birthday:null,isSchoolRoll:null,flowStudentNo:"",nationStudentNo:"",studentNature:[],primaryStudentNo:"",classStudentNo:"",classId:null,remark:"",nativePlace:"",nationId:null,residentType:null,enrollType:null,politicsStatus:null,isImmigrant:null,situationStatus:null,enrollmentSchool:"",residentRegionCode:"",residentRegion:"",currentAddressCode:"",currentAddress:"",speciality:"",isLeftover:null,disabilityStatus:null,isMigrantWorker:null,isSingle:null,isOverseas:null,isStaffChild:null,migrantWorkType:null,father:{name:"",company:"",phone:""},mother:{name:"",company:"",phone:""},guardian:{name:"",company:"",phone:""}},rules:{name:{required:!0,message:" ",trigger:"blur"},sex:{required:!0,message:" ",trigger:"change"},idCard:{required:!0,message:" ",trigger:"blur"},isSchoolRoll:{required:!0,message:" ",trigger:"change"},studentNature:{required:!0,message:" ",trigger:"change"},classId:{required:!0,message:" ",trigger:"change"},birthday:{required:!0,message:" ",trigger:"change"},flowStudentNo:{required:!0,message:" ",trigger:"blur"},nativePlace:{required:!0,message:" ",trigger:"blur"},nationId:{required:!0,message:" ",trigger:"change"},residentType:{required:!0,message:" ",trigger:"change"}},changeClassId:null,dialog:!1}},methods:{uploadCover:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.target.files.length){e.next=2;break}return e.abrupt("return");case 2:if(a=t.target.files[0],!(a.size>10485760)){e.next=6;break}return this.$message.warning("封面图不能超过10MB"),e.abrupt("return");case 6:return s=new FormData,s.append("file",a),i={url:"/oss/upload.do",query:s,el:".btn-upload",noText:!0},e.next=11,this.$ajax(i);case 11:this.form.avatar=e.sent,this.$refs.uploadCover.value=null;case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getNationList:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$ajax({url:"/common/queryNationList.do"});case 2:this.nationList=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getClass:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$ajax({url:"/class/queryClassPage.do",query:{classStatus:"UN_GRADUATED",pageSize:2e3,pageNo:1}});case 2:t=e.sent,this.classList=t.list;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),doSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a,s,i,r,n,l,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=!0,e.next=3,this.$refs.form.validate(function(e){a=e});case 3:if(a){e.next=6;break}return this.$message.warning("请填写表单标红区域"),e.abrupt("return");case 6:for(r in s=JSON.parse(JSON.stringify(this.form)),s.birthday&&(s.birthday=new Date(s.birthday).$Format("yyyy-MM-dd")+" 00:00:00"),i=!1,s)if(["father","mother","guardian"].includes(r)){for(n in s[r])s[r][n]&&(i=!0);i||(s[r]=null),i=!1}if(s.father||s.mother||s.guardian){e.next=13;break}return this.$message.warning("必填一位家长信息"),e.abrupt("return");case 13:if(s.studentNature=this.form.studentNature[0],s.studentStatus=this.form.studentNature[1]||null,"OTHER"!==s.studentNature||this.form.remark){e.next=18;break}return this.$message.warning("请填写备注"),e.abrupt("return");case 18:return l="/student/addStudent.do",o="新增成功","save"===t&&(l="/student/updateStudent.do",o="保存成功",s.id=this.$route.query.id),e.next=23,this.$ajax({url:l,el:".btn-"+t,noText:!0,query:s});case 23:this.$remind(o),this.$router.push("/edu-affair/reading");case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getDetail:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$ajax({url:"/student/getStudent.do",el:".reading-form",query:{id:this.$route.query.id}});case 2:t=e.sent,this.form=t,this.form.studentNature=[t.studentNature,t.studentStatus||null],this.form.father={name:t.fatherName,company:t.fatherCompany,phone:t.fatherPhone},this.form.guardian={name:t.guardianName,company:t.fguardianCompany,phone:t.guardianPhone},this.form.mother={name:t.motherName,company:t.motherCompany,phone:t.motherPhone};case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),changeClassFun:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.changeClassId){e.next=3;break}return this.$message.warning("请选择班级"),e.abrupt("return");case 3:return e.next=5,this.$ajax({url:"/student/updateStudentWithClass.do",el:".btn-change",noText:!0,query:{id:this.$route.query.id,classId:this.changeClassId}});case 5:this.getDetail(),this.dialog=!1;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),showDialog:function(){this.changeClassId=this.form.classId,this.dialog=!0},getStudentNature:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$ajax({url:"/student/queryStudentNatureList.do"});case 2:this.natureList=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},mounted:function(){this.editPage&&this.getDetail(),this.getNationList(),this.getClass(),this.getStudentNature()}},o=l,u=(a("eec2"),a("2877")),c=Object(u["a"])(o,s,i,!1,null,"0a950885",null);c.options.__file="Form.vue";t["a"]=c.exports},c8e7:function(e,t,a){"use strict";a("a481");t["a"]={$exportDetail:{methods:{$exportDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.table.query,a="?";for(var s in t)t[s]&&"pageNo"!==s&&"pageSize"!==s&&(a+="".concat(s,"=").concat(t[s],"&"));window.open(this.$conf.API_PATH+e+a.substr(0,a.length-1))}}},$spliceHTML:{methods:{$spliceHTML:function(e){return e=e.replace('<html><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8">',""),e=e.replace("</head>",""),e=e.replace("</body></html>",""),e=e.replace(/<h2>(.*)<\/h2>/,""),e}}}}},d2c8:function(e,t,a){var s=a("aae3"),i=a("be13");e.exports=function(e,t,a){if(s(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(i(e))}},dee4:function(e,t,a){},eec2:function(e,t,a){"use strict";var s=a("dee4"),i=a.n(s);i.a},f559:function(e,t,a){"use strict";var s=a("5ca1"),i=a("9def"),r=a("d2c8"),n="startsWith",l=""[n];s(s.P+s.F*a("5147")(n),"String",{startsWith:function(e){var t=r(this,e,n),a=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),s=String(e);return l?l.call(t,s,a):t.slice(a,a+s.length)===s}})}}]);
//# sourceMappingURL=chunk-3c3dd27c.014b593d.js.map