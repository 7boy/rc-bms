{"version":3,"sources":["webpack:///./src/views/command/Org.vue?9367","webpack:///./src/views/command/Org.vue?c56d","webpack:///src/views/command/Org.vue","webpack:///./src/views/command/Org.vue?04d0","webpack:///./src/views/command/Org.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Org_vue_vue_type_style_index_0_id_0b36a2f4_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Org_vue_vue_type_style_index_0_id_0b36a2f4_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","placeholder","_v","on","click","$event","showDialog","cellspacing","_m","_l","table","item","key","style","marginLeft","tier","_s","orgName","title","remove","center","visible","dialog","width","update:visible","ref","label-width","label-position","directives","name","rawName","value","expression","prop","label","org","query","parentName","disabled","model","callback","$$v","$set","type","rows","addEdit","staticRenderFns","Orgvue_type_script_lang_js_","data","list","url","orgDesc","parentId","orgList","children","defaultProps","mounted","getOrgList","getData","methods","handleNodeClick","console","log","id","_remove","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$confirm","confirmButtonText","cancelButtonText","$ajax","$remind","stop","_x","apply","arguments","_getOrgList","_callee2","_context2","sent","_getData","_callee3","res","vm","i","changeList","_context3","forEach","e","push","childOrgList","length","splice","_addEdit","_callee4","text","_context4","JSON","parse","stringify","command_Orgvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-3e4448ad.3bf5bce6.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Org.vue?vue&type=style&index=0&id=0b36a2f4&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Org.vue?vue&type=style&index=0&id=0b36a2f4&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"table-box\"},[_c('el-input',{staticClass:\"mr10\",attrs:{\"placeholder\":\"请输入：姓名/手环编号/手机号\"}}),_c('div',{staticClass:\"btn-main \"},[_vm._v(\"查   询\")]),_c('div',{staticClass:\"btn-main btn-add\",on:{\"click\":function($event){_vm.showDialog('top')}}},[_vm._v(\"新建顶级组织机构\")]),_c('table',{staticClass:\"table\",attrs:{\"cellspacing\":\"0\"}},[_vm._m(0),_vm._l((_vm.table.list),function(item,key){return _c('tr',{key:key},[_c('td',[_c('span',{staticClass:\"el-icon-caret-bottom\",style:({marginLeft: 30 * item.tier + 'px'})}),_vm._v(\"\\n          \"+_vm._s(item.orgName)+\"\\n        \")]),_c('td',{attrs:{\"title\":\"中铁十五局项目经理管理部\"}},[_vm._v(\"中铁十五局项目经理管理部中铁十五局项目经理管理部中铁十五局项目经理管理部\")]),_c('td',[_c('span',{staticClass:\"oper\",on:{\"click\":function($event){_vm.showDialog('childer', item)}}},[_vm._v(\"添加下级组织\")]),_c('span',{staticClass:\"col\"}),_c('span',{staticClass:\"oper\",on:{\"click\":function($event){_vm.showDialog('edit', item)}}},[_vm._v(\"修改\")]),_c('span',{staticClass:\"col\"}),_c('span',{staticClass:\"oper\",on:{\"click\":function($event){_vm.remove(item)}}},[_vm._v(\"删除\")])])])})],2),_c('el-dialog',{staticClass:\"dialog\",attrs:{\"center\":\"\",\"title\":_vm.title,\"visible\":_vm.dialog,\"width\":\"420px\"},on:{\"update:visible\":function($event){_vm.dialog=$event}}},[_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"label-width\":\"70px\",\"label-position\":\"left\"}},[_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.title !== '新建顶级组织机构'),expression:\"title !== '新建顶级组织机构'\"}],attrs:{\"prop\":\"oldPassword\",\"label\":\"上级组织\"}},[_c('el-input',{attrs:{\"value\":_vm.org.query.parentName,\"disabled\":\"\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"oldPassword\",\"label\":\"名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入名称\"},model:{value:(_vm.org.query.orgName),callback:function ($$v) {_vm.$set(_vm.org.query, \"orgName\", $$v)},expression:\"org.query.orgName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"oldPassword\",\"label\":\"说明\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":7,\"placeholder\":\"请输入手环编号\"},model:{value:(_vm.org.query.orgDesc),callback:function ($$v) {_vm.$set(_vm.org.query, \"orgDesc\", $$v)},expression:\"org.query.orgDesc\"}})],1)],1),_c('div',{staticClass:\"btns mt25\"},[_c('div',{staticClass:\"btn-main mr15\",on:{\"click\":function($event){_vm.addEdit()}}},[_vm._v(\"提交\")]),_c('div',{staticClass:\"btn-main\",on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"关闭\")])])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"width\":\"30%\"}},[_vm._v(\"组织架构\")]),_c('th',{attrs:{\"width\":\"50%\"}},[_vm._v(\"说明\")]),_c('th',{attrs:{\"width\":\"20%\"}},[_vm._v(\"操作\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"table-box\">\n      <el-input class=\"mr10\" placeholder=\"请输入：姓名/手环编号/手机号\"></el-input>\n      <div class=\"btn-main \">查&nbsp;&nbsp;&nbsp;询</div>\n      <div @click=\"showDialog('top')\" class=\"btn-main btn-add\">新建顶级组织机构</div>\n      <table cellspacing=\"0\"  class=\"table\">\n        <tr>\n          <th width=\"30%\">组织架构</th>\n          <th width=\"50%\">说明</th>\n          <th width=\"20%\">操作</th>\n        </tr>\n        <tr :key=\"key\" v-for=\"(item,key) in table.list\">\n          <td>\n            <span\n                :style=\"{marginLeft: 30 * item.tier + 'px'}\"\n                class=\"el-icon-caret-bottom\"></span>\n            {{item.orgName}}\n          </td>\n          <td title=\"中铁十五局项目经理管理部\">中铁十五局项目经理管理部中铁十五局项目经理管理部中铁十五局项目经理管理部</td>\n          <td>\n            <span @click=\"showDialog('childer', item)\" class=\"oper\">添加下级组织</span>\n            <span class=\"col\"></span>\n            <span @click=\"showDialog('edit', item)\" class=\"oper\">修改</span>\n            <span class=\"col\"></span>\n            <span @click=\"remove(item)\" class=\"oper\">删除</span>\n          </td>\n        </tr>\n      </table>\n      <el-dialog  center :title=\"title\" class=\"dialog\"\n                 :visible.sync=\"dialog\" width=\"420px\">\n        <el-form class=\"form\" ref=\"form\" label-width=\"70px\" label-position=\"left\">\n          <el-form-item v-show=\"title !== '新建顶级组织机构'\" prop=\"oldPassword\" label=\"上级组织\">\n            <el-input :value=\"org.query.parentName\" disabled></el-input>\n          </el-form-item>\n          <el-form-item prop=\"oldPassword\" label=\"名称\">\n            <el-input v-model=\"org.query.orgName\" placeholder=\"请输入名称\"></el-input>\n          </el-form-item>\n          <el-form-item prop=\"oldPassword\" label=\"说明\">\n            <el-input v-model=\"org.query.orgDesc\" type=\"textarea\" :rows=\"7\"  placeholder=\"请输入手环编号\"></el-input>\n          </el-form-item>\n        </el-form>\n        <div class=\"btns mt25\">\n          <div @click=\"addEdit()\" class=\"btn-main mr15\">提交</div>\n          <div @click=\"dialog = false\" class=\"btn-main\">关闭</div>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"Info\",\n    data(){\n      return {\n        title: '新建顶级组织机构',\n        table: {\n          list: [],\n          url: '/organization/all',\n        },\n        org:{\n          url: '/organization/add',\n          query:{\n            orgName: '',\n            orgDesc: '',\n            parentId: ''\n          }\n        },\n        dialog: false,\n        orgList: [],\n        data: [\n            {\n          label: '中铁十五局项目经理管理部',\n          children: [{\n            label: '二级 1-1',\n            children: [{\n              label: '三级 1-1-1'\n            }]\n          }]\n        }, {\n          label: '一级 2',\n          children: [{\n            label: '二级 2-1',\n            children: [{\n              label: '三级 2-1-1'\n            }]\n          }, {\n            label: '二级 2-2',\n            children: [{\n              label: '三级 2-2-1'\n            }]\n          }]\n        }, {\n          label: '一级 3',\n          children: [{\n            label: '二级 3-1',\n            children: [{\n              label: '三级 3-1-1'\n            }]\n          }, {\n            label: '二级 3-2',\n            children: [{\n              label: '三级 3-2-1'\n            }]\n          }]\n        }],\n        defaultProps: {\n          children: 'children',\n          label: 'label'\n        }\n      }\n    },\n    mounted(){\n      this.getOrgList()\n      this.getData()\n    },\n    methods: {\n      handleNodeClick(data) {\n        console.log(data);\n      },\n      // 展现弹窗\n      showDialog(type, item){\n        this.dialog = true\n        this.org.query = {\n          orgName: '',\n          parentName: item ? item.orgName : '',\n          orgDesc: item ?  item.orgDesc : '',\n          parentId: item ? item.id: ''\n        }\n        if(type === 'top'){\n          this.title = '新建顶级组织机构'\n        }else if(type === 'edit'){\n          this.title = '修改组织机构'\n        }else{\n          this.title = '添加下级组织'\n          this.org.query.orgName = ''\n          this.org.query.orgDesc = ''\n        }\n      },\n      // 删除\n      async remove(item){\n        await this.$confirm(`您确认删除该机构吗？`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        this.$ajax({\n          url: '/organization/delete',\n          query:{\n            id: item.id\n          }\n        })\n        this.getData()\n        this.$remind('删除成功')\n      },\n      // 获取组织结构树\n      async getOrgList(){\n        let res = await this.$ajax({\n          url: '/organization/all',\n        })\n      },\n      //\n      async getData(){\n        let res = await this.$ajax(this.table)\n        this.table.list = []\n        let vm = this\n        let i = 0\n        function changeList(list){\n          list.forEach(e=>{\n            vm.table.list.push({\n              orgName: e.orgName,\n              id: e.id,\n              tier: i\n            })\n            if(e.childOrgList.length){\n              changeList(e.childOrgList, ++i)\n              i--\n            }\n          })\n        }\n        changeList(res.childOrgList)\n        this.table.list = this.table.list.splice(0,this.table.list.length)\n      },\n      // 新增编辑组织机构\n      async addEdit(){\n        let text = ''\n        if(this.title === '修改组织机构'){\n          text = '修改成功'\n          this.org.url = '/organization/update'\n        }else{\n          text = '新增成功'\n          this.org.url = '/organization/add'\n        }\n        let query = JSON.parse(JSON.stringify(this.org))\n        query.query.parentName = ''\n        let res = await this.$ajax(this.org)\n        this.dialog = false\n        this.getData()\n        this.$remind(text)\n      }\n    }\n  }\n</script>\n\n<style lang=\"sass\" scoped>\n  .table-box\n    tr\n      td:first-child\n        text-align: left\n        padding-left: 20px\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Org.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Org.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Org.vue?vue&type=template&id=0b36a2f4&scoped=true&\"\nimport script from \"./Org.vue?vue&type=script&lang=js&\"\nexport * from \"./Org.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Org.vue?vue&type=style&index=0&id=0b36a2f4&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b36a2f4\",\n  null\n  \n)\n\ncomponent.options.__file = \"Org.vue\"\nexport default component.exports"],"sourceRoot":""}