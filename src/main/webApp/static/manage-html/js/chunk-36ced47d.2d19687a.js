(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36ced47d"],{"17a4":function(e,t,a){"use strict";var s=a("e353"),r=a.n(s);r.a},4124:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"index"},[a("bread-nav",{attrs:{nav:e.nav}}),a("main-part",{directives:[{name:"loading",rawName:"v-loading",value:e.newLoading,expression:"newLoading"}]},[a("div",{staticClass:"content"},[a("el-form",{ref:"form",attrs:{"label-width":"120px","label-position":"left",model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"年级: ",prop:"gradeId"}},[a("el-select",{staticClass:"input",on:{change:e.onSwitchGradeChange},model:{value:e.form.gradeId,callback:function(t){e.$set(e.form,"gradeId",t)},expression:"form.gradeId"}},e._l(e.gradeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),a("el-form-item",{attrs:{label:"年级组长缺席: "}},[a("el-select",{staticClass:"input",attrs:{multiple:""},model:{value:e.form.gradeLeaderAbsentId,callback:function(t){e.$set(e.form,"gradeLeaderAbsentId",t)},expression:"form.gradeLeaderAbsentId"}},e._l(e.gradeLeaderList,function(e,t){return a("el-option",{key:t,attrs:{label:e.gradeLeaderName,value:e.gradeLeaderId}})}))],1),a("el-form-item",{attrs:{label:"年级组长迟到: "}},[a("el-select",{staticClass:"input",attrs:{multiple:""},model:{value:e.form.gradeLeaderLateId,callback:function(t){e.$set(e.form,"gradeLeaderLateId",t)},expression:"form.gradeLeaderLateId"}},e._l(e.gradeLeaderList,function(e,t){return a("el-option",{key:t,attrs:{label:e.gradeLeaderName,value:e.gradeLeaderId}})}))],1),a("el-form-item",{attrs:{label:"班主任缺席: "}},[a("el-select",{staticClass:"input",attrs:{multiple:""},model:{value:e.form.headmasterAbsentId,callback:function(t){e.$set(e.form,"headmasterAbsentId",t)},expression:"form.headmasterAbsentId"}},e._l(e.headmasterList,function(e,t){return a("el-option",{key:t,attrs:{label:e.headmasterName,value:e.headmasterId}})}))],1),a("el-form-item",{attrs:{label:"班主任迟到: "}},[a("el-select",{staticClass:"input",attrs:{multiple:""},model:{value:e.form.headmasterLateId,callback:function(t){e.$set(e.form,"headmasterLateId",t)},expression:"form.headmasterLateId"}},e._l(e.headmasterList,function(e,t){return a("el-option",{key:t,attrs:{label:e.headmasterName,value:e.headmasterId}})}))],1),a("el-form-item",{attrs:{label:"班主任助理就位: "}},[a("el-select",{staticClass:"input",attrs:{multiple:""},model:{value:e.form.headmasterAssistantInPlaceId,callback:function(t){e.$set(e.form,"headmasterAssistantInPlaceId",t)},expression:"form.headmasterAssistantInPlaceId"}},e._l(e.headmasterAssistantList,function(e,t){return a("el-option",{key:t,attrs:{label:e.headmasterAssistantInPlaceName,value:e.headmasterAssistantInPlaceId}})}))],1),a("el-form-item",{attrs:{label:"检查日期: ",prop:"inspectDate"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.form.inspectDate,callback:function(t){e.$set(e.form,"inspectDate",t)},expression:"form.inspectDate"}})],1),a("el-form-item",{attrs:{label:"检查人：",prop:"inspectUser"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.form.inspectUser,callback:function(t){e.$set(e.form,"inspectUser",t)},expression:"form.inspectUser"}})],1)],1),a("div",{staticClass:"btns"},[a("div",{staticClass:"btn-submit mr15",on:{click:e.submitEntry}},[e._v("保存")])])],1)])],1)},r=[],n=(a("ac6a"),a("f3e2"),a("96cf"),a("1da1")),i={data:function(){var e=this;return{tabPick:e.$route.query.tabPick,gradeId:e.$route.query.gradeId,inspectDate:e.$route.query.inspectDate,nav:[{name:null,path:"go(-1)"},{name:null,path:""}],gradeList:[],form:{gradeId:1,gradeLeaderAbsentId:[],gradeLeaderLateId:[],headmasterAbsentId:[],headmasterLateId:[],headmasterAssistantInPlaceId:[],inspectDate:null,inspectUser:null},rules:{gradeId:{required:!0,message:"请选择年级",trigger:"change"},inspectDate:{required:!0,message:"请选择检查日期",trigger:"change"},inspectUser:{required:!0,message:"请输入检查人",trigger:"blur"}},gradeLeaderList:[],headmasterList:[],headmasterAssistantList:[],Details:[],text:"保存成功",newLoading:!1}},methods:{getGradeList:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$ajax({url:"/grade/queryGradeList.do"});case 2:this.gradeList=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onSwitchGradeChange:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.form.gradeLeaderAbsentId=[],this.form.gradeLeaderLateId=[],this.form.headmasterAbsentId=[],this.form.headmasterLateId=[],this.form.headmasterAssistantInPlaceId=[],e.next=7,this.$ajax({url:"/assess/queryPersonnelList.do",query:{id:t}});case 7:a=e.sent,this.gradeLeaderList=a.gradeLeaderItemList,this.headmasterList=a.headmasterItemList,this.headmasterAssistantList=a.headmasterAssistantItemList;case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getName:function(e){switch(e){case"MORNING_LESSON":return"录入早自习到岗检查记录";case"BREAK_EXERCISE":return"录入课间操跟跑检查记录";case"EVENING_LESSON":return"录入晚自习到岗检查记录";case"REGULAR_MEETING":return"录入例会到岗检查记录";default:return e}},objHasFieldIsEmpty:function(e){var t=!1;for(var a in e)if(e[a].length){t=!0;break}return t},submitEntry:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.form.validate();case 2:if(t=this.$cloneObj(this.form),delete t.gradeId,delete t.inspectType,delete t.inspectDate,delete t.inspectUser,this.objHasFieldIsEmpty(t)){e.next=10;break}return this.$message.warning("请选择缺席或迟到人员"),e.abrupt("return");case 10:return a="/assess/addAssessInspectRecord.do",this.gradeId&&(a="/assess/changeAssessInspectRecord.do",this.text="编辑成功"),e.next=14,this.$ajax({url:a,query:this.form});case 14:this.$remind(this.text),this.$router.push("/student-work/appraisal/early-selfStudy/recording?tabPick="+this.tabPick);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),personnelList:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$ajax({url:"/assess/queryPersonnelList.do",query:{id:this.form.gradeId}});case 2:t=e.sent,this.gradeLeaderList=t.gradeLeaderItemList,this.headmasterList=t.headmasterItemList,this.headmasterAssistantList=t.headmasterAssistantItemList;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getDetails:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$ajax({url:"/assess/queryAssessInspectRecord.do",query:{gradeId:this.gradeId,inspectDate:this.inspectDate,inspectType:this.tabPick}});case 2:return this.Details=e.sent,e.next=5,this.$ajax({url:"/assess/queryPersonnelList.do",query:{id:this.Details.gradeId}});case 5:t=e.sent,this.gradeLeaderList=t.gradeLeaderItemList,this.headmasterList=t.headmasterItemList,this.headmasterAssistantList=t.headmasterAssistantItemList,this.form.inspectUser=this.Details.inspectUser,this.form.inspectDate=this.Details.inspectDate,this.form.gradeId=this.Details.gradeId,this.Details.headmasterLate.forEach(function(e){a.form.headmasterLateId.push(e.userId)}),this.Details.headmasterAssistantInPlace.forEach(function(e){a.form.headmasterAssistantInPlaceId.push(e.userId)}),this.Details.headmasterAbsent.forEach(function(e){a.form.headmasterAbsentId.push(e.userId)}),this.Details.gradeLeaderLate.forEach(function(e){a.form.gradeLeaderLateId.push(e.userId)}),this.Details.gradeLeaderAbsent.forEach(function(e){a.form.gradeLeaderAbsentId.push(e.userId)});case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.newLoading=!0,e.next=3,this.getGradeList();case 3:return this.nav[0].name=this.$enums.InspectType.getName(this.tabPick),this.nav[1].name=this.getName(this.tabPick),this.form.inspectType=this.tabPick,e.next=8,this.personnelList();case 8:if(!this.gradeId){e.next=11;break}return e.next=11,this.getDetails();case 11:this.newLoading=!1;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},d=i,l=(a("17a4"),a("2877")),o=Object(l["a"])(d,s,r,!1,null,"04f30fdd",null);o.options.__file="Entry.vue";t["default"]=o.exports},e353:function(e,t,a){}}]);
//# sourceMappingURL=chunk-36ced47d.2d19687a.js.map