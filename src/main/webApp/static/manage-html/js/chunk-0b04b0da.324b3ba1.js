(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b04b0da"],{"009a":function(A,t){A.exports="data:image/png;base64,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"},"1c8e":function(A,t,e){},4040:function(A,t,e){"use strict";e.r(t);var n=function(){var A=this,t=A.$createElement,n=A._self._c||t;return n("div",{staticClass:"publicity"},[n("bread-nav",{attrs:{nav:A.nav}}),n("main-part",[n("el-form",{ref:"form",staticClass:"form",attrs:{model:A.form,rules:A.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"封面",prop:"bannerImage"}},[n("span",{staticClass:"sign"},[A._v("1125*450")]),n("img",{directives:[{name:"show",rawName:"v-show",value:A.form.bannerImage,expression:"form.bannerImage"}],staticClass:"upload-img",attrs:{src:A.form.bannerImage+"?imageMogr2/crop/375x150",alt:"图片加载失败"}}),n("img",{directives:[{name:"show",rawName:"v-show",value:A.form.bannerImage,expression:"form.bannerImage"}],staticClass:"remove-img",attrs:{src:e("7989"),alt:""},on:{click:function(t){A.removeCover()}}}),n("label",{attrs:{for:"cover"}},[n("div",{staticClass:"cover-img"},[n("img",{directives:[{name:"show",rawName:"v-show",value:!A.form.bannerImage,expression:"!form.bannerImage"}],staticClass:"loading",attrs:{src:e("009a"),alt:""}})]),n("input",{ref:"uploadCover",attrs:{accept:"image/*",id:"cover",type:"file",hidden:""},on:{change:function(t){A.uploadCover(t)}}})])]),n("el-form-item",{attrs:{label:"标题",prop:"title"}},[n("el-input",{staticClass:"input",attrs:{placeholder:"请输入标题"},model:{value:A.form.title,callback:function(t){A.$set(A.form,"title",t)},expression:"form.title"}})],1),n("el-form-item",{attrs:{label:"正文内容",prop:"content"}},[A.form.content||!A.editStatus?n("wang-editor",{attrs:{content:A.form.content},on:{"update:content":function(t){A.$set(A.form,"content",t)}}}):A._e()],1),n("el-form-item",{attrs:{label:"视频"}},[n("div",{staticClass:"upload_view"},[n("div",{staticClass:"upload_view_list"}),n("div",{staticClass:"upload_view_button"},[n("uploader",{ref:"uploadZone",staticClass:"upload_view_btn",attrs:{options:A.uploadOptions,"file-status-text":A.fileStatusText}},[n("uploader-unsupport"),n("uploader-btn",{attrs:{attrs:A.attrs}},[A._v("上传文件")]),A._l(A.form.attachmentList,function(t,e){return n("div",{staticClass:"item"},[n("span",[A._v("视频"+A._s(e+1))]),n("i",{staticClass:"el-icon-close",on:{click:function(t){A.removeEnd(e)}}})])}),n("uploader-list")],2)],1)])])],1),n("div",{staticClass:"btns"},[n("div",{staticClass:"btn-submit mr20",on:{click:function(t){A.doSubmit()}}},[A._v("确定")]),n("div",{staticClass:"btn-clear",on:{click:function(t){A.$router.go(-1)}}},[A._v("返回")])])],1)],1)},r=[],a=(e("ac6a"),e("f3e2"),e("759f"),e("7f7f"),e("96cf"),e("1da1")),i=(e("a481"),e("cadf"),e("551c"),e("097d"),{data:function(){var A=function(A,t,e){t&&"<p><br></p>"!==t?e():e(new Error("请输入正文内容"))};return{editStatus:"0"!==this.$route.params.id,nav:[{name:"招生资讯",path:"go(-1)"},{name:"设置宣传页",path:""}],form:{bannerImage:"",title:"",content:"",attachmentList:[]},attachmentList:[],attrs:{accept:"video/*"},rules:{bannerImage:{required:!0,message:"请上传封面图",trigger:"change"},title:{required:!0,message:"请输入标题",trigger:"blur"},content:{required:!0,validator:A,trigger:"change"}},uploadOptions:{target:"".concat(window.location.origin).concat(this.$conf.API_PATH,"/uploadFileTrunk/trunkUpload.do"),testChunks:!1,chunkSize:2097152,singleFile:!1,parseTimeRemaining:function(A,t){return t.replace(/\syears?/,"年").replace(/\days?/,"天").replace(/\shours?/,"小时").replace(/\sminutes?/,"分钟").replace(/\sseconds?/,"秒")}},fileStatusText:{success:"上传成功",error:"上传错误",uploading:"正在上传",paused:"已暂停",waiting:"等待中"}}},watch:{"form.content":function(){var A=this;setTimeout(function(){A.$refs.form.validate()},1)}},mounted:function(){var A=this;this.$nextTick(function(){var t=A.$refs.uploadZone;if(t){var e=t.uploader;e.on("fileSuccess",function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,n,r){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.$ajax({url:"/uploadFileTrunk/mergeChunks.do",query:{fileMd5:n.uniqueIdentifier,fileName:n.name}});case 2:a=t.sent,A.attachmentList.push({name:n.name,url:a});case 4:case"end":return t.stop()}},t,this)}));return function(A,e,n){return t.apply(this,arguments)}}()),e.on("fileRemoved",function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:A.attachmentList.some(function(t,n){if(t.name===e.name)return A.attachmentList.splice(n,1),!0});case 1:case"end":return t.stop()}},t,this)}));return function(A){return t.apply(this,arguments)}}())}}),this.editStatus&&this.getDetail()},methods:{removeEnd:function(A){this.form.attachmentList.splice(A,1)},getDetail:function(){var A=Object(a["a"])(regeneratorRuntime.mark(function A(){return regeneratorRuntime.wrap(function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,this.$ajax({url:"/rnotice/getNotice.do",query:{noticeId:this.$route.params.id}});case 2:this.form=A.sent;case 3:case"end":return A.stop()}},A,this)}));return function(){return A.apply(this,arguments)}}(),doSubmit:function(){var A=Object(a["a"])(regeneratorRuntime.mark(function A(){var t,e,n=this;return regeneratorRuntime.wrap(function(A){while(1)switch(A.prev=A.next){case 0:return A.next=2,this.$refs.form.validate();case 2:return this.attachmentList.length&&this.attachmentList.forEach(function(A){n.form.attachmentList.push(A.url)}),t="/rnotice/addNoticeBanner.do",e="新增成功",this.editStatus&&(t="/rnotice/updateBannerNotice.do",e="修改成功",this.form.noticeId=this.form.id),A.next=8,this.$ajax({url:t,el:".btn-submit",noText:!0,query:this.form});case 8:this.$remind(e),this.$router.push({path:"/recruit/information",query:{noticeType:"BANNER"}});case 10:case"end":return A.stop()}},A,this)}));return function(){return A.apply(this,arguments)}}(),uploadCover:function(){var A=Object(a["a"])(regeneratorRuntime.mark(function A(t){var e,n,r,a;return regeneratorRuntime.wrap(function(A){while(1)switch(A.prev=A.next){case 0:if(0!==t.target.files.length){A.next=2;break}return A.abrupt("return");case 2:if(e=t.target.files[0],!(e.size>10485760)){A.next=6;break}return this.$message.warning("封面图不能超过10M"),A.abrupt("return");case 6:return n=new FormData,n.append("file",e),r={url:"/oss/upload.do",query:n,el:".cover-img",noText:!0},A.next=11,this.$ajax(r);case 11:a=A.sent,this.form.bannerImage=a,this.$refs.uploadCover.value=null;case 14:case"end":return A.stop()}},A,this)}));return function(t){return A.apply(this,arguments)}}(),removeCover:function(){this.form.bannerImage=null}}}),o=i,s=(e("6e49"),e("2877")),c=Object(s["a"])(o,n,r,!1,null,"dfff1c02",null);c.options.__file="Publicity.vue";t["default"]=c.exports},"6e49":function(A,t,e){"use strict";var n=e("1c8e"),r=e.n(n);r.a},"759f":function(A,t,e){"use strict";var n=e("5ca1"),r=e("0a49")(3);n(n.P+n.F*!e("2f21")([].some,!0),"Array",{some:function(A){return r(this,A,arguments[1])}})},7989:function(A,t){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAABYmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgIHRpZmY6T3JpZW50YXRpb249IjgiLz4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9InIiPz7gzc0+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACZ0lEQVRYhdWZLZfiMBSGn9uzohKJRI4ciRw5ErkSuXJ/ysqVyJFIJBKJRCIrR9bdEU1L+pmbtgPMe05Fk9zmISnvTVJRVaZIRFbAEkhd0QrIgNzdX4FMVXMmSGJBRSQFXrzLqgy4AGdV/YzqlAhQB7h2VxpoHtIFOKnq1RpgAhWRNfDGdMCmzsDB8loMgrpR/E3x3n2XcmCnqtlQo15QEVlSQC7mZ+vUXlXPfZWdoA5yy/xTHVIvbNIscNO95f6QABsRee2qaIHyOMhS725Ga6qBisgbhXk/UimwaRZWoCKyoLCgZ9DSDVolf0Rbv6JHObCjyDSxOkTErd3/BXCg7p1YGYJLz7sSD7tX1VNEXJkJb6B+gQEyA3DZxNppZTuRcS1Qy+IipfFHM3Y6aOShPkXkBSBxyzSrHbV8LgDbgvR82uouKyhGdGUMKGWFnQOyBjrGN0Owc0FStv/F+Cy0ERF8IAf7v9lwAmQZvxwz9b56c7PXySRIp7Qr18eqF3YmSKB7UfKUmgO01ycjzX1QCcV2dqyCZj4TbJ5w23/HqtOCRORPZFIISlWzZGRwyCdjM9iQMhg39VYznwv2CpC4JZt1+mMzzhywBai7uRgC8ubDjT4ZTApDfarqBW6gJ0NQCmzLjVekmVewkXEVV7WvF5Et9lX+B/Bu7MzXAXg1xuXAv/K4xwddAH8jO/5OHVX1WN5UmckdBR47Ah6hzIeERgp1lZPT3UTlwL5Z2JXrd4zPVnPo0HWy1wL1fO4RsL1rh5997FhV3ucg9xP4GH2QW2v07EfjtYY/4WNDLeDZP9/0PuBOH8S+ALr/aiV7uWRVAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=chunk-0b04b0da.324b3ba1.js.map