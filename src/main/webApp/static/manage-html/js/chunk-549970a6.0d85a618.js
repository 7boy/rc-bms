(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-549970a6"],{"0c11":function(t,e,a){},"2caf":function(t,e,a){var i=a("5ca1");i(i.S,"Array",{isArray:a("1169")})},"36bd":function(t,e,a){"use strict";var i=a("4bf8"),r=a("77f1"),n=a("9def");t.exports=function(t){var e=i(this),a=n(e.length),s=arguments.length,c=r(s>1?arguments[1]:void 0,a),l=s>2?arguments[2]:void 0,u=void 0===l?a:r(l,a);while(u>c)e[c++]=t;return e}},6496:function(t,e,a){"use strict";var i=a("0c11"),r=a.n(i);r.a},"6c7b":function(t,e,a){var i=a("5ca1");i(i.P,"Array",{fill:a("36bd")}),a("9c6c")("fill")},"759f":function(t,e,a){"use strict";var i=a("5ca1"),r=a("0a49")(3);i(i.P+i.F*!a("2f21")([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},"7bad":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"examinee"},[a("bread-nav",{attrs:{nav:t.nav}}),a("main-part",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.table.query.recruitType,callback:function(e){t.$set(t.table.query,"recruitType",e)},expression:"table.query.recruitType"}},[a("el-tab-pane",{attrs:{label:"文化招生",name:"CULTURE"}}),a("el-tab-pane",{attrs:{label:"特长招生",name:"SPECIALITY"}})],1),a("div",{staticClass:"btn-block"},[a("div",{staticClass:"btn-main ml15",on:{click:t.showImpDialog}},[t._v("导入")]),a("div",{staticClass:"btn-main ml15",on:{click:function(e){t.$exportDetail("/export/rStudentExport.do")}}},[t._v("导出")]),a("div",{staticClass:"btn-main-deepen ml15",on:{click:function(e){t.goToReplenish(0)}}},[t._v("补录考生")]),a("div",{staticClass:"btn-main-deepen ml15 mr5",on:{click:function(e){t.showDialog()}}},[t._v("设置考试批次")]),a("el-tooltip",{attrs:{content:"报考类别需一致",placement:"top",effect:"dark"}},[a("i",{staticClass:"el-icon-warning"})])],1),a("search-box",{attrs:{searchData:t.searchData,table:t.table}}),a("resize-table",[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"4%"}},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:null!==t.checkAll,expression:"checkAll !== null"}],model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:null===t.checkAll,expression:"checkAll === null"}]},[t._v("-")])],1),a("th",{attrs:{width:"8%"}},[t._v("姓名")]),a("th",{attrs:{width:"15%"}},[t._v("身份证号码")]),a("th",{attrs:{width:"14%"}},[t._v("报考类别")]),"CULTURE"!==t.table.query.recruitType?a("th",{attrs:{width:"13%"}},[t._v("特长类别/专业")]):t._e(),a("th",{attrs:{width:"12%"}},[t._v("联系电话")]),a("th",{attrs:{width:"15%"}},[t._v("考试批次")]),a("th",{attrs:{width:"15%"}},[t._v("考点")]),a("th",{attrs:{width:"7%"}},[t._v("状态")]),a("th",{attrs:{width:"10%"}},[t._v("报名时间")])])]),a("tbody",t._l(t.table.list,function(e,i){return a("tr",[a("td",[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:"APPLIED"===e.studentStatus,expression:"item.studentStatus === 'APPLIED'"}],model:{value:t.checkboxList[i],callback:function(e){t.$set(t.checkboxList,i,e)},expression:"checkboxList[key]"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:"APPLIED"!==e.studentStatus,expression:"item.studentStatus !== 'APPLIED'"}]},[t._v("-")])],1),a("td",[a("span",{staticClass:"oper hand",on:{click:function(a){t.goToReplenish(e.id)}}},[t._v(t._s(e.name))])]),a("td",[t._v(t._s(e.idCard||"--"))]),a("td",[t._v(t._s(e.firstRecruitType)),a("span",{directives:[{name:"show",rawName:"v-show",value:"CULTURE"===t.table.query.recruitType,expression:"table.query.recruitType === 'CULTURE'"}]},[t._v("/")]),t._v(t._s(e.secondRecruitType)+"\n          ")]),a("td",{directives:[{name:"show",rawName:"v-show",value:"CULTURE"!==t.table.query.recruitType,expression:"table.query.recruitType !== 'CULTURE'"}]},[t._v("\n            "+t._s(e.firstSpecialityType)+"/"+t._s(e.secondSpecialityType)+"\n          ")]),a("td",[t._v(t._s(e.phone))]),a("td",[t._v(t._s(e.batchName||"--"))]),a("td",[t._v(t._s(e.examCentreName||"--"))]),a("td",[t._v(t._s(t.$enums.RecruitStudentStatus.getName(e.studentStatus)))]),a("td",[t._v(t._s(t._f("substrTime")(e.applyTime)))])])}))])]),a("no-data",{directives:[{name:"show",rawName:"v-show",value:!t.table.noData,expression:"!table.noData"}]}),a("paging",{attrs:{data:t.table},on:{"update:data":function(e){t.table=e}}}),a("el-dialog",{staticClass:"dialog",attrs:{title:"设置考试批次",visible:t.dialog,width:"450px"},on:{"update:visible":function(e){t.dialog=e}}},[a("span",{staticClass:"title"},[t._v("考试批次：")]),a("el-select",{staticClass:"input",attrs:{"default-first-option":"",filterable:""},model:{value:t.batchForm.batchId,callback:function(e){t.$set(t.batchForm,"batchId",e)},expression:"batchForm.batchId"}},t._l(t.batchList,function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),a("div",{staticClass:"btns"},[a("div",{staticClass:"btn-submit mr20",on:{click:t.setBatch}},[t._v("确认")]),a("div",{staticClass:"btn-clear",on:{click:function(e){t.dialog=!1}}},[t._v("取消")])])],1),a("el-dialog",{staticClass:"dialog",attrs:{title:"批量导入",visible:t.impDialog,width:"500px"},on:{"update:visible":function(e){t.impDialog=e}}},[t.impDialog?a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.impForm,rules:t.impRules,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"考试批次",prop:"batchId"}},[a("el-select",{staticClass:"input",attrs:{"default-first-option":"",clearable:"",filterable:"",placeholder:"请选择"},on:{change:function(e){t.getExamCenter(t.impForm.batchId)}},model:{value:t.impForm.batchId,callback:function(e){t.$set(t.impForm,"batchId",e)},expression:"impForm.batchId"}},t._l(t.batchList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.title}})}))],1),a("el-form-item",{attrs:{label:"考点",prop:"examCentreId"}},[a("el-select",{staticClass:"input",attrs:{filterable:"","default-first-option":"",clearable:"",placeholder:"请选择"},model:{value:t.impForm.examCentreId,callback:function(e){t.$set(t.impForm,"examCentreId",e)},expression:"impForm.examCentreId"}},t._l(t.examCenterList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),a("el-tooltip",{attrs:{content:"请先选择考试批次",placement:"top",effect:"dark"}},[a("i",{staticClass:"el-icon-warning ml10"})])],1),a("el-form-item",{staticClass:"form-impt",attrs:{label:"上传文件"}},[a("el-input",{ref:"upload",staticClass:"input file-input",attrs:{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",placeholder:"请选择"}}),a("a",{staticClass:"f-small main-c ml5",attrs:{href:"../gy-files/template/批量导入考生模板.xlsx",download:""}},[t._v("下载模板")])],1)],1):t._e(),a("div",{staticClass:"btns"},[a("div",{staticClass:"btn-submit btn-upload mr20",on:{click:t.impFun}},[t._v("提交")]),a("div",{staticClass:"btn-clear",on:{click:function(e){t.impDialog=!1}}},[t._v("取消")])])],1)],1)],1)},r=[],n=(a("57e7"),a("759f"),a("7f7f"),a("ac6a"),a("f3e2"),a("96cf"),a("1da1")),s=(a("2caf"),a("6c7b"),a("c8e7")),c={mixins:[s["a"].$exportDetail],data:function(){return{nav:[{name:"考生信息",path:""}],hide:!0,searchData:[{type:"select",title:"状态",model:"studentStatus",option:this.$enums.RecruitStudentStatus.list},{type:"cascader",title:"报考类别",modelName:["firstRecruitTypeId","secondRecruitTypeId"],option:[]},{type:"cascader",title:"特长类别",hide:!0,modelName:["firstSpecialityTypeId","secondSpecialityTypeId"],option:[]},{type:"input",placeholder:"姓名/身份证号码"}],dialog:!1,batchList:[],table:{url:"/rstudent/queryStudentPage.do",el:".table",total:0,noData:!0,list:[],query:{firstRecruitTypeId:null,secondRecruitTypeId:null,firstSpecialityTypeId:null,secondSpecialityTypeId:null,recruitType:this.$route.query.type||"CULTURE",studentStatus:null}},batchForm:{batchId:null,studentIdList:[]},checkboxList:[!1],impDialog:!1,impForm:{batchId:"",examCentreId:"",file:""},impRules:{batchId:{required:!0,message:"请选择考试批次",trigger:"change"},examCentreId:{required:!0,message:"请选择考点",trigger:"change"}},examCenterList:[]}},watch:{"table.list":function(){this.checkboxList=new Array(this.table.list.length).fill(!1)}},computed:{checkAll:{get:function(){if(this.table.list.length<1)return!1;if(this.table.list.every(function(t){return"APPLIED"!==t.studentStatus}))return null;for(var t=0;t<this.table.list.length;t++){var e=this.table.list[t];if("APPLIED"===e.studentStatus&&!1===this.checkboxList[t])return!1}return!0},set:function(t){for(var e=[],a=0;a<this.table.list.length;a++){var i=this.table.list[a];"APPLIED"===i.studentStatus?e[a]=t:e[a]=!1}this.checkboxList=e}}},methods:{showImpDialog:function(){this.impDialog=!0,this.impForm.batchId=null,this.impForm.examCentreId=null,this.getAllBatchList()},impFun:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a,i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.form.validate();case 2:return e=this.$refs.upload.$refs.input.files[0],a=new FormData,a.append("file",e),a.append("batchId",this.impForm.batchId),a.append("examCentreId",this.impForm.examCentreId),i={url:"/import/importStudentList.do",query:a,el:".btn-upload",noText:!0},t.next=10,this.$ajax(i);case 10:r=t.sent,r.errMsgList&&r.errMsgList.length?this.$message.error(r.errMsgList[0]):this.$remind("导入成功"),this.impDialog=!1,this.$search(this.table);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getCultureType:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/dict/queryDictList.do",query:{dictType:"RECRUIT_CULTURE"}});case 2:e=t.sent,this.searchData[1].option=[],e.forEach(function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,i){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a.searchData[1].option.push({label:e.name,value:e.id,children:[]}),t.next=3,a.$ajax({url:"/dict/queryDictList.do",query:{parentId:e.id,dictType:e.dictType}});case 3:r=t.sent,r.forEach(function(t){a.searchData[1].option[i].children.push({label:t.name,value:t.id})});case 5:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getSpecialtyType:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/dict/queryDictList.do",query:{dictType:"RECRUIT_SPECIALITY"}});case 2:e=t.sent,this.searchData[1].option=[],e.forEach(function(t){a.searchData[1].option.push({label:t.name,value:t.id})});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getProfessionalList:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/dict/queryDictList.do",query:{dictType:"SPECIALITY"}});case 2:e=t.sent,this.searchData[2].option=[],e.forEach(function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,i){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a.searchData[2].option.push({label:e.name,value:e.id,children:[]}),t.next=3,a.$ajax({url:"/dict/queryDictList.do",query:{parentId:e.id,dictType:e.dictType}});case 3:r=t.sent,r.forEach(function(t){a.searchData[2].option[i].children.push({label:t.name,value:t.id})});case 5:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getBatchList:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/rbatch/queryBatchListByRecruitType.do",query:{recruitType:this.table.query.recruitType,firstRecruitTypeId:e,secondRecruitTypeId:a}});case 2:this.batchList=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),getAllBatchList:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax({url:"/rbatch/queryBatchList.do",query:{recruitType:this.table.query.recruitType}});case 2:this.batchList=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getExamCenter:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.impForm.batchId){t.next=5;break}return this.impForm.examCentreId=null,t.next=4,this.$ajax({url:"/centre/queryExamCentreList.do",query:{batchId:e}});case 4:this.examCenterList=t.sent;case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),showDialog:function(){if(this.checkboxList.some(function(t){return t})){for(var t=this.checkboxList.indexOf(!0),e=this.table.list[t].secondRecruitTypeId,a=0;a<this.table.list.length;a++){var i=this.table.list[a];if(this.checkboxList[a]&&i.secondRecruitTypeId!==e)return void this.$message.warning("考生报考类别不一致")}var r=this.table.list[t].secondRecruitTypeId,n=this.table.list[t].firstRecruitTypeId;this.getBatchList(n,r),this.batchForm.batchId=null,this.dialog=!0}else this.$message.warning("请先选择考生")},goToReplenish:function(t){this.$router.push({path:"/recruit/examinee/".concat(t),query:{type:this.table.query.recruitType}})},setBatch:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.batchForm.batchId){t.next=3;break}return this.$message.warning("请选择考试批次"),t.abrupt("return");case 3:return e=[],this.table.list.forEach(function(t,i){a.checkboxList[i]&&e.push(t.id)}),t.next=7,this.$ajax({url:"/rbatch/batchDistributionBatchStudent.do",query:{batchId:this.batchForm.batchId,studentIdList:e}});case 7:this.$remind("设置成功"),this.dialog=!1,this.$search(this.table);case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleClick:function(){this.table.query.firstRecruitTypeId=null,this.table.query.secondRecruitTypeId=null,"SPECIALITY"===this.table.query.recruitType?(this.$router.push({path:"/recruit/examinee",query:{type:"SPECIALITY"}}),this.getSpecialtyType(),this.searchData[2].hide=!1):(this.$router.push({path:"/recruit/examinee",query:{type:"CULTURE"}}),this.searchData[2].hide=!0,this.getCultureType()),this.$search(this.table)}},mounted:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return"SPECIALITY"===this.table.query.recruitType&&this.getSpecialtyType(),this.getProfessionalList(),this.getCultureType(),t.next=5,this.$search(this.table);case 5:this.checkboxList=new Array(this.table.list.length).fill(!1);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},l=c,u=(a("6496"),a("2877")),o=Object(u["a"])(l,i,r,!1,null,"b2ca4a58",null);o.options.__file="Index.vue";e["default"]=o.exports},c8e7:function(t,e,a){"use strict";a("a481");e["a"]={$exportDetail:{methods:{$exportDetail:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.table.query,a="?";for(var i in e)e[i]&&"pageNo"!==i&&"pageSize"!==i&&(a+="".concat(i,"=").concat(e[i],"&"));window.open(this.$conf.API_PATH+t+a.substr(0,a.length-1))}}},$spliceHTML:{methods:{$spliceHTML:function(t){return t=t.replace('<html><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8">',""),t=t.replace("</head>",""),t=t.replace("</body></html>",""),t=t.replace(/<h2>(.*)<\/h2>/,""),t}}}}}}]);
//# sourceMappingURL=chunk-549970a6.0d85a618.js.map