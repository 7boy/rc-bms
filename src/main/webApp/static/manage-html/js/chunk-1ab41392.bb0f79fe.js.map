{"version":3,"sources":["webpack:///./src/views/school/user/Item.vue?6070","webpack:///./src/views/school/announcement/Publicity.vue?70f4","webpack:///src/views/school/announcement/Publicity.vue","webpack:///./src/views/school/announcement/Publicity.vue?f4c0","webpack:///./src/views/school/announcement/Publicity.vue","webpack:///./src/views/school/user/Item.vue?eeea","webpack:///src/views/school/user/Item.vue","webpack:///./src/views/school/user/Item.vue?5538","webpack:///./src/views/school/user/Item.vue","webpack:///./node_modules/core-js/modules/es6.array.some.js","webpack:///./src/views/school/announcement/Publicity.vue?8241"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Item_vue_vue_type_style_index_0_id_97780030_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Item_vue_vue_type_style_index_0_id_97780030_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","nav","ref","label-position","model","form","label-width","rules","label","prop","staticStyle","width","value","callback","$$v","$set","expression","content","id","on","update:content","$event","_e","options","uploadOptions","file-status-text","fileStatusText","_v","_l","item","key","_s","href","fileUrl","fileName","click","removeEnd","placeholder","disabled","selectedDepName","join","slot","showDepDialog","visible","depDialog","update:visible","depTitle","data","depData","props","show-checkbox","node-key","default-checked-keys","selectedDep","check-change","handleCheckChange","text-align","margin-top","doSubmit","margin-left","$router","go","staticRenderFns","Publicityvue_type_script_lang_js_","components","Item","_this","checkContent","rule","Error","checkDep","length","vm","table","url","el","total","noData","list","query","gradeId","classId","$route","tabPick","announcementDetail","name","path","text","title","scopeList","noticeType","attachmentList","accept","required","message","trigger","validator","target","concat","window","location","origin","$conf","API_PATH","testChunks","chunkSize","singleFile","parseTimeRemaining","timeRemaining","parsedTimeRemaining","replace","success","error","uploading","paused","waiting","dialogVisible","children","mounted","_mounted","Object","asyncToGenerator","regeneratorRuntime","mark","_callee3","_this2","wrap","_context3","prev","next","getAllDep","$nextTick","uploadZone","$refs","uploader","_ref","_callee","rootFile","file","res","_context","$ajax","fileMd5","uniqueIdentifier","sent","push","stop","_x","_x2","_x3","apply","arguments","_ref2","_callee2","_context2","some","e","i","splice","_x4","getDetail","watch","table.query.gradeId","onClassList","form.content","_this3","setTimeout","validate","form.title","_this4","methods","checked","indeterminate","index","indexOf","orgId","orgName","_getAllDep","_callee4","newQuery","newRes","recursion","_context4","arr","forEach","tier","status","subOrgList","orgTypes","_getDetail","_callee5","_this5","_context5","businessId","scopeName","_showDepDialog","_callee6","_context6","_doSubmit","_callee7","_context7","$remind","announcement_Publicityvue_type_script_lang_js_","component","componentNormalizer","__file","__webpack_exports__","class","hand","parentOrgId","style","paddingLeft","rotate","visibility","judge","change","changeDep","directives","rawName","Itemvue_type_script_lang_js_","elCollapseTransition","collapse_transition_default","a","computed","treeData","treeSelectedDep","treeSelectedDepName","$emit","user_Itemvue_type_script_lang_js_","$export","$some","P","F","callbackfn","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Publicity_vue_vue_type_style_index_0_id_30ca1575_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Publicity_vue_vue_type_style_index_0_id_30ca1575_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-1ab41392.bb0f79fe.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&id=97780030&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&id=97780030&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publicity\"},[_c('bread-nav',{attrs:{\"nav\":_vm.nav}}),_c('main-part',[_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"label-position\":\"left\",\"model\":_vm.form,\"label-width\":\"90px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{staticStyle:{\"width\":\"50%\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"正文内容\",\"prop\":\"content\"}},[(_vm.form.content || !_vm.id)?_c('wang-editor',{attrs:{\"content\":_vm.form.content},on:{\"update:content\":function($event){_vm.$set(_vm.form, \"content\", $event)}}}):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"视频\"}},[_c('div',{staticClass:\"upload_view\"},[_c('div',{staticClass:\"upload_view_list\"}),_c('div',{staticClass:\"upload_view_button\"},[_c('uploader',{ref:\"uploadZone\",staticClass:\"upload_view_btn\",attrs:{\"options\":_vm.uploadOptions,\"file-status-text\":_vm.fileStatusText}},[_c('uploader-unsupport'),_c('uploader-btn',{attrs:{\"attrs\":_vm.attrs}},[_vm._v(\"上传文件\")]),_vm._l((_vm.form.attachmentList),function(item,key){return _c('div',{staticClass:\"item\"},[_c('span',[_vm._v(\"视频\"+_vm._s(key + 1)+\"：\"),_c('a',{attrs:{\"href\":item.fileUrl}},[_vm._v(_vm._s(item.fileName))])]),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){_vm.removeEnd(key)}}})])}),_c('uploader-list')],2)],1)])]),_c('el-form-item',{attrs:{\"label\":\"推送范围\",\"prop\":\"scopeList\"}},[_c('el-input',{staticClass:\"input\",staticStyle:{\"width\":\"440px\"},attrs:{\"placeholder\":\"请选择范围\",\"disabled\":\"\"},model:{value:(_vm.selectedDepName.join()),callback:function ($$v) {_vm.$set(_vm.selectedDepName, \"join()\", $$v)},expression:\"selectedDepName.join()\"}},[_c('el-button',{staticClass:\"hende\",attrs:{\"slot\":\"append\"},on:{\"click\":_vm.showDepDialog},slot:\"append\"},[_vm._v(\"选择范围\")])],1)],1)],1),_c('el-dialog',{staticClass:\"dep-dialog\",attrs:{\"visible\":_vm.depDialog,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.depDialog=$event}}},[_c('div',{staticClass:\"dep-form\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.depTitle))]),_c('div',{staticClass:\"content\"},[_c('el-tree',{attrs:{\"data\":_vm.depData,\"props\":_vm.props,\"show-checkbox\":\"\",\"node-key\":\"orgId\",\"default-checked-keys\":_vm.selectedDep},on:{\"check-change\":_vm.handleCheckChange}})],1)]),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"btn-submit\",on:{\"click\":function($event){_vm.depDialog = false}}},[_vm._v(\"关闭\")])])]),_c('div',{staticClass:\"btns\"},[_c('div',{staticClass:\"btn-submit\",on:{\"click\":function($event){_vm.doSubmit()}}},[_vm._v(\"确定\")]),_c('div',{staticClass:\"btn-clear\",staticStyle:{\"margin-left\":\"30px\"},on:{\"click\":function($event){_vm.$router.go(-1)}}},[_vm._v(\"返回\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"publicity\">\n    <bread-nav :nav=\"nav\"></bread-nav>\n    <main-part>\n      <el-form label-position=\"left\" :model=\"form\" ref=\"form\" label-width=\"90px\" class=\"form\" :rules=\"rules\">\n        <el-form-item label=\"标题\" prop=\"title\">\n          <el-input v-model=\"form.title\" style=\"width: 50%\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"正文内容\" prop=\"content\">\n          <wang-editor :content.sync=\"form.content\" v-if=\"form.content || !id\"></wang-editor>\n        </el-form-item>\n        <el-form-item label=\"视频\">\n          <div class=\"upload_view\">\n            <div class=\"upload_view_list\">\n            </div>\n            <div class=\"upload_view_button\">\n              <uploader\n                      ref=\"uploadZone\"\n                      :options=\"uploadOptions\"\n                      :file-status-text=\"fileStatusText\"\n                      class=\"upload_view_btn\">\n                <uploader-unsupport></uploader-unsupport>\n                <uploader-btn :attrs=\"attrs\">上传文件</uploader-btn>\n                <div v-for=\"(item,key) in form.attachmentList\" class=\"item\">\n                  <span>视频{{key + 1}}：<a :href=\"item.fileUrl\">{{item.fileName}}</a></span>\n                  <i @click=\"removeEnd(key)\" class=\"el-icon-close\"></i>\n                </div>\n                <uploader-list></uploader-list>\n              </uploader>\n            </div>\n          </div>\n        </el-form-item>\n        <el-form-item label=\"推送范围\" prop=\"scopeList\">\n          <el-input class=\"input\" v-model=\"selectedDepName.join()\" placeholder=\"请选择范围\" style=\"width: 440px\" disabled>\n            <el-button @click=\"showDepDialog\" class=\"hende\" slot=\"append\">选择范围</el-button>\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <!--推送范围弹窗-->\n      <el-dialog :visible.sync=\"depDialog\" class=\"dep-dialog\" width=\"400px\">\n        <div class=\"dep-form\">\n          <p class=\"title\">{{depTitle}}</p>\n          <!--<el-checkbox class=\"selectAll\" @change=\"onSelectAllChange\">全选</el-checkbox>-->\n          <div class=\"content\">\n            <el-tree :data=\"depData\"\n                     :props=\"props\"\n                     show-checkbox\n                     node-key=\"orgId\"\n                     :default-checked-keys=\"selectedDep\"\n                     @check-change=\"handleCheckChange\">\n            </el-tree>\n          </div>\n        </div>\n        <div style=\"text-align: center; margin-top: 20px\">\n          <div @click=\"depDialog = false\" class=\"btn-submit\">关闭</div>\n        </div>\n      </el-dialog>\n      <div class=\"btns\">\n        <div @click=\"doSubmit()\" class=\"btn-submit\">确定</div>\n        <div @click=\"$router.go(-1)\" class=\"btn-clear\" style=\"margin-left: 30px\">返回</div>\n      </div>\n    </main-part>\n  </div>\n</template>\n\n<script>\n  // 复用组织机构中的组件\n  import item from '../../school/user/Item'\n\n  export default {\n    components: {\n      item\n    },\n    data () {\n      // 验证正文内容\n      const checkContent = (rule, value, callback) => {\n        if (!value || value === '<p><br></p>') {\n          callback(new Error('请输入正文内容'))\n        } else {\n          callback()\n        }\n      }\n      const checkDep = (rule, value, callback) => {\n        if (this.selectedDepName.length === 0) {\n          callback(new Error('请选择推送范围'))\n        } else {\n          callback()\n        }\n      }\n      let vm = this\n      return {\n        table: {\n          url: '/user/queryParentPage.do',\n          el: '.table',\n          total: 0,\n          noData: true,\n          list: [],\n          query: {\n            gradeId: 1,\n            classId: 1\n          }\n        },\n        id: vm.$route.query.id,\n        tabPick: vm.$route.query.tabPick,\n        announcementDetail: [],\n        nav: [{name: '通知公告', path: 'go(-1)'}, {name: '发布公告', path: ''}],\n        text: '发布成功',\n        depDialog: false,\n        // 一级部门名称\n        depTitle: '',\n        // 部门数据\n        depData: [],\n        // 选择的部门ID\n        selectedDep: [],\n        // 选择的部门名称\n        selectedDepName: [],\n        form: {\n          title: null,\n          content: null,\n          scopeList: [],\n          noticeType: null,\n          attachmentList: []\n        },\n        // 附件列表\n        attachmentList: [],\n        attrs: {\n          accept: 'video/*'\n        },\n        rules: {\n          title: {required: true, message: '请输入标题', trigger: 'blur'},\n          content: {required: true, validator: checkContent, trigger: 'change'},\n          scopeList: {required: true, validator: checkDep, trigger: 'change'},\n        },\n        uploadOptions: {\n          target: `${window.location.origin}${this.$conf.API_PATH}/uploadFileTrunk/trunkUpload.do`,\n          testChunks: false,\n          chunkSize: 2 * 1024 * 1024,\n          singleFile: false,\n          parseTimeRemaining: (timeRemaining, parsedTimeRemaining) => {\n            return parsedTimeRemaining\n              .replace(/\\syears?/, '年')\n              .replace(/\\days?/, '天')\n              .replace(/\\shours?/, '小时')\n              .replace(/\\sminutes?/, '分钟')\n              .replace(/\\sseconds?/, '秒')\n          }\n        },\n        // 修改分片上传文字\n        fileStatusText: {\n          success: '上传成功',\n          error: '上传错误',\n          uploading: '正在上传',\n          paused: '已暂停',\n          waiting: '等待中'\n        },\n        dialogVisible: false,\n        props: {\n          label: 'orgName',\n          children: 'subOrgList'\n        },\n      }\n    },\n    async mounted () {\n      await this.getAllDep()\n      this.$nextTick(() => {\n        let uploadZone = this.$refs.uploadZone\n        if (uploadZone) {\n          const uploader = uploadZone.uploader\n          uploader.on('fileSuccess', async (rootFile, file, message) => {\n            let res = await this.$ajax({\n              url: `/uploadFileTrunk/mergeChunks.do`,\n              query: {\n                fileMd5: file.uniqueIdentifier,\n                fileName: file.name\n              }\n            })\n            this.attachmentList.push({\n              fileName: file.name,\n              fileUrl: res\n            })\n          })\n          uploader.on('fileRemoved', async (file) => {\n            this.attachmentList.some((e, i) => {\n              if (e.name === file.name) {\n                this.attachmentList.splice(i, 1)\n                return true\n              }\n            })\n          })\n        }\n      })\n      if (this.id) {\n        this.getDetail()\n      }\n    },\n    watch: {\n      'table.query.gradeId': function () {\n        this.onClassList()\n      },\n      'form.content': function () {\n        if (this.id) {\n          setTimeout(() => {\n            this.$refs.form.validate()\n          }, 1)\n        }\n      },\n      'form.title': function () {\n        if (this.id) {\n          setTimeout(() => {\n            this.$refs.form.validate()\n          }, 1)\n        }\n      }\n    },\n    methods: {\n      handleCheckChange (data, checked, indeterminate) {\n        let index = this.selectedDep.indexOf(data.orgId)\n        if (checked) {\n          this.selectedDep.push(data.orgId)\n          this.selectedDepName.push(data.orgName)\n        } else {\n          this.selectedDep.splice(index, 1)\n          this.selectedDepName.splice(index, 1)\n        }\n      },\n      // 删除已经上传的视频\n      removeEnd (key) {\n        this.form.attachmentList.splice(key, 1)\n      },\n      // 获取所有的部门\n      async getAllDep () {\n        let newQuery = {\n          orgTypes: ['ADMIN_ORG', 'TEACH_ORG']\n        }\n        // 判断发布是否为家长\n        if (this.tabPick === 'parentalNotice') {\n          newQuery = {\n            orgTypes: ['PARENT_ORG']\n          }\n        }\n        let res = await this.$ajax({\n          url: '/org/queryOrganizationTree.do',\n          query: newQuery\n        })\n        // 判断发布是否为家长\n        if (this.tabPick === 'parentalNotice') {\n          this.depTitle = res.orgName\n          this.depData = recursion(res.subOrgList, 1)\n        } else {\n          let newRes = []\n          newRes.push(res)\n          this.depTitle = newRes[0].orgName\n          this.depData = recursion(newRes, 1)\n        }\n\n        // 递归给每一个item设置缩进和check-box隐藏\n        function recursion (arr, i) {\n          arr.forEach(e => {\n            e.tier = i\n            e.status = false\n            if (e.subOrgList.length > 0) {\n              recursion(e.subOrgList, i + 1)\n            }\n          })\n          return arr\n        }\n      },\n      // 获取详情\n      async getDetail () {\n        // console.log(this.id)\n        this.announcementDetail = await this.$ajax({\n          url: '/notice/getNotice.do',\n          el: '.form',\n          query: {\n            id: this.id\n          }\n        })\n        this.form.title = this.announcementDetail.title\n        this.form.content = this.announcementDetail.content\n        this.form.noticeType = this.announcementDetail.noticeType\n        this.announcementDetail.scopeList.forEach(e => {\n          this.selectedDep.push(e.businessId)\n          this.selectedDepName.push(e.scopeName)\n        })\n        this.form.attachmentList = this.announcementDetail.attachmentList\n      },\n      // 展现选择部门弹窗\n      async showDepDialog () {\n        this.depDialog = true\n        // if (!this.depTitle) {\n        //   await this.getAllDep()\n        // }\n      },\n      // 提交\n      async doSubmit () {\n        await this.$refs.form.validate()\n        // 处理公告类型\n        if (this.tabPick === 'announcement') {\n          this.form.noticeType = 'NOTICE'\n        } else if (this.tabPick === 'schoolRegulations') {\n          this.form.noticeType = 'SCHOOL_RULE'\n        } else {\n          this.form.noticeType = 'PATRIARCH_NOTICE'\n        }\n        // 处理视频\n        if (this.attachmentList.length) {\n          this.form.attachmentList = this.form.attachmentList.concat(this.attachmentList)\n        }\n        // 处理所属部门\n        this.form.scopeList = this.selectedDep\n        // console.log(this.form)\n        let url = '/notice/addNotice.do'\n        if (this.id) {\n          this.text = '修改成功'\n          url = '/notice/updateNotice.do'\n          this.form.id = this.id\n          delete this.form.noticeType\n        }\n        await this.$ajax({\n          url,\n          el: '.form',\n          query: this.form,\n        })\n        this.$remind(this.text)\n        this.$router.push('/school/announcement?tabPick=' + this.tabPick)\n      },\n    }\n  }\n</script>\n<style lang=\"sass\" scoped>\n  .publicity\n    .upload\n      line-height: 1\n    .btns\n      margin-left: 90px\n    .form\n      margin-top: 20px\n      /deep/ .el-input-group__append\n        background: $main-c\n        border-color: $main-c\n        color: #fff\n        cursor: pointer\n        opacity: 1\n        transition: all .3s\n        &:hover\n          opacity: .8\n        &:active\n          opacity: 1\n    .dep-dialog\n      /deep/ .el-dialog\n        border-radius: 10px\n        padding-bottom: 20px\n      /deep/ .el-dialog__body\n        padding: 0\n      /deep/ .el-dialog__header\n        display: none\n    .dep-form\n      width: 100%\n      border-radius: 10px\n      .title\n        line-height: 46px\n        background: $main-c\n        color: #fff\n        padding-left: 15px\n        border-radius: 10px 10px 0 0\n      .content\n        width: 100%\n        height: 560px\n        overflow: auto\n        /deep/ .el-tree-node__content\n          height: 46px\n          border-bottom: 1px solid $border\n          background: $back-light\n    /deep/ .uploader-file[status=success] .uploader-file-remove\n      display: block\n    .item\n      line-height: 50px\n      display: flex\n      justify-content: space-between\n      align-items: center\n      background: #e2eeff\n      padding: 0 42px 0 50px\n      border-bottom: 1px solid #cdcdcd\n      i\n        color: $gray-dark\n        font-weight: bold\n        font-size: 15px\n        cursor: pointer\n        transition: all .3s\n        &:hover\n          color: red\n      span\n        color: $fc-def\n    .upload_view\n      width: 600px\n      border: 1px solid #ddd\n      border-radius: 5px\n      &_button\n        box-sizing: border-box\n      &_btn\n        padding: 10px\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Publicity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Publicity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Publicity.vue?vue&type=template&id=30ca1575&scoped=true&\"\nimport script from \"./Publicity.vue?vue&type=script&lang=js&\"\nexport * from \"./Publicity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Publicity.vue?vue&type=style&index=0&id=30ca1575&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30ca1575\",\n  null\n  \n)\n\ncomponent.options.__file = \"Publicity.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-item\"},_vm._l((_vm.treeData),function(item){return _c('div',[_c('div',{class:['item', {'hand': item.subOrgList.length || item.parentOrgId === 1}],style:({paddingLeft: (item.tier - 1) * 25 + 10 + 'px'}),on:{\"click\":function($event){item.status = !item.status}}},[_c('i',{class:[{'rotate': item.status}, 'el-icon-caret-right'],style:({visibility: item.subOrgList.length ? 'visible' : 'hidden'})}),_c('el-checkbox',{attrs:{\"value\":_vm.judge(item.orgId)},on:{\"change\":function($event){_vm.changeDep(item)}}},[_c('span',[_vm._v(_vm._s(item.orgName))])])],1),_c('el-collapse-transition',[_c('item',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.status),expression:\"item.status\"}],attrs:{\"selectedDepName\":_vm.selectedDepName,\"selectedDep\":_vm.selectedDep,\"data\":item.subOrgList}})],1)],1)}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-item\">\n    <div v-for=\"item in treeData\">\n      <div :class=\"['item', {'hand': item.subOrgList.length || item.parentOrgId === 1}]\"\n           :style=\"{paddingLeft: (item.tier - 1) * 25 + 10 + 'px'}\"\n           @click=\"item.status = !item.status\">\n        <i :style=\"{visibility: item.subOrgList.length ? 'visible' : 'hidden'}\"\n           :class=\"[{'rotate': item.status}, 'el-icon-caret-right']\"></i>\n        <el-checkbox @change=\"changeDep(item)\"\n                     :value=\"judge(item.orgId)\"\n        ><span>{{item.orgName}}</span></el-checkbox>\n      </div>\n\n      <el-collapse-transition>\n        <item  v-show=\"item.status\" :selectedDepName=\"selectedDepName\" :selectedDep=\"selectedDep\" :data=\"item.subOrgList\"></item>\n      </el-collapse-transition>\n    </div>\n\n  </div>\n</template>\n<script>\n  // collapse 展开折叠\n  import CollapseTransition from 'element-ui/lib/transitions/collapse-transition';\n  export default {\n    components:{\n      elCollapseTransition: CollapseTransition\n    },\n    props: ['data','selectedDep', 'selectedDepName'],\n    name: 'item',\n    data() {\n      return {\n      }\n    },\n    computed:{\n      'treeData': function () {\n        return this.data\n      },\n      'treeSelectedDep': function () {\n        return this.selectedDep\n      },\n      'treeSelectedDepName': function () {\n        return this.selectedDepName || []\n      }\n    },\n    methods: {\n      // 选择或取消选择部门\n      changeDep(item){\n        let index = this.treeSelectedDep.indexOf(item.orgId)\n        if(index === -1){\n          this.treeSelectedDep.push(item.orgId)\n          this.treeSelectedDepName.push(item.orgName)\n        }else{\n          this.treeSelectedDep.splice(index,1)\n          this.treeSelectedDepName.splice(index,1)\n        }\n        this.$emit('update:selectedDep',this.treeSelectedDep)\n        this.$emit('update:selectedDepName',this.treeSelectedDepName)\n      },\n      // 判断是否被选中\n      judge(id){\n        return this.treeSelectedDep.indexOf(id) !== -1\n      }\n    },\n    mounted(){\n    }\n  }\n</script>\n<style lang=\"sass\" scoped>\n  .form-item\n    .hand\n      cursor: pointer\n      background: $back-light !important\n    .item\n      position: relative\n      border-top: 1px solid $border\n      line-height: 46px\n      padding: 0 10px\n      background: #fff\n      i\n        font-size: $font-large\n        margin-right: 8px\n        vertical-align: middle\n        transition: all .2s\n      .rotate\n        transform: rotate(90deg)\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=97780030&scoped=true&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Item.vue?vue&type=style&index=0&id=97780030&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97780030\",\n  null\n  \n)\n\ncomponent.options.__file = \"Item.vue\"\nexport default component.exports","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Publicity.vue?vue&type=style&index=0&id=30ca1575&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Publicity.vue?vue&type=style&index=0&id=30ca1575&lang=sass&scoped=true&\""],"sourceRoot":""}