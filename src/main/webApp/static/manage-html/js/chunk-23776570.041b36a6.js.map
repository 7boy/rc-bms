{"version":3,"sources":["webpack:///./src/views/student-work/activity/Publicity.vue?0d49","webpack:///src/views/student-work/activity/Publicity.vue","webpack:///./src/views/student-work/activity/Publicity.vue?eb54","webpack:///./src/views/student-work/activity/Publicity.vue","webpack:///./src/views/school/user/Item.vue?6070","webpack:///./src/views/school/user/Item.vue?eeea","webpack:///src/views/school/user/Item.vue","webpack:///./src/views/school/user/Item.vue?5538","webpack:///./src/views/school/user/Item.vue","webpack:///./src/views/student-work/activity/Publicity.vue?137c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","nav","ref","model","form","label-width","rules","label","prop","staticStyle","width","value","callback","$$v","$set","expression","content","id","on","update:content","$event","_e","type","value-format","placeholder","_l","$enums","YesNoStatus","item","idx","key","margin-right","border","_v","_s","disabled","selectedDepName","join","slot","click","showDepDialog","visible","depDialog","update:visible","depTitle","data","depData","props","show-checkbox","node-key","default-checked-keys","selectedDep","check-change","handleCheckChange","text-align","margin-top","doSubmit","margin-left","$router","go","staticRenderFns","Publicityvue_type_script_lang_js_","components","Item","_this","checkContent","rule","Error","checkDep","length","vm","$route","query","announcementDetail","name","path","text","title","scopeList","isAttachment","endDate","accept","required","message","trigger","validator","uploadOptions","target","concat","window","location","origin","$conf","API_PATH","testChunks","chunkSize","singleFile","parseTimeRemaining","timeRemaining","parsedTimeRemaining","replace","fileStatusText","success","error","uploading","paused","waiting","children","mounted","_mounted","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$ajax","url","el","orgTypes","sent","recursion","subOrgList","getDetail","stop","apply","arguments","methods","checked","indeterminate","index","indexOf","orgId","push","orgName","splice","arr","i","_this2","forEach","e","tier","status","_getDetail","_callee2","_this3","_context2","businessId","scopeName","console","log","_doSubmit","_callee3","_context3","$refs","validate","$remind","activity_Publicityvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Item_vue_vue_type_style_index_0_id_97780030_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Item_vue_vue_type_style_index_0_id_97780030_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","class","hand","parentOrgId","style","paddingLeft","rotate","visibility","judge","change","changeDep","directives","rawName","Itemvue_type_script_lang_js_","elCollapseTransition","collapse_transition_default","a","computed","treeData","treeSelectedDep","treeSelectedDepName","$emit","user_Itemvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Publicity_vue_vue_type_style_index_0_id_74f22d7c_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Publicity_vue_vue_type_style_index_0_id_74f22d7c_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-23776570.041b36a6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publicity\"},[_c('bread-nav',{attrs:{\"nav\":_vm.nav}}),_c('main-part',[_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"140px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"标题：\",\"prop\":\"title\"}},[_c('el-input',{staticStyle:{\"width\":\"51%\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"正文内容：\",\"prop\":\"content\"}},[(_vm.form.content || !_vm.id)?_c('wang-editor',{attrs:{\"content\":_vm.form.content},on:{\"update:content\":function($event){_vm.$set(_vm.form, \"content\", $event)}}}):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"选择截止时间：\",\"prop\":\"endDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"260px\"},attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd 00:00:00\",\"placeholder\":\"选择截止时间\"},model:{value:(_vm.form.endDate),callback:function ($$v) {_vm.$set(_vm.form, \"endDate\", $$v)},expression:\"form.endDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否上传附件：\",\"prop\":\"isAttachment\"}},[_c('el-radio-group',{model:{value:(_vm.form.isAttachment),callback:function ($$v) {_vm.$set(_vm.form, \"isAttachment\", $$v)},expression:\"form.isAttachment\"}},_vm._l((_vm.$enums.YesNoStatus.list),function(item,idx){return _c('el-radio',{key:idx,staticStyle:{\"width\":\"106px\",\"margin-right\":\"37px\"},attrs:{\"border\":\"\",\"label\":item.value}},[_vm._v(_vm._s(item.label)+\"\\n          \")])}))],1),_c('el-form-item',{attrs:{\"label\":\"推送范围：\",\"prop\":\"scopeList\"}},[_c('el-input',{staticClass:\"input\",staticStyle:{\"width\":\"440px\"},attrs:{\"placeholder\":\"请选择范围\",\"disabled\":\"\"},model:{value:(_vm.selectedDepName.join()),callback:function ($$v) {_vm.$set(_vm.selectedDepName, \"join()\", $$v)},expression:\"selectedDepName.join()\"}},[_c('el-button',{staticClass:\"hende\",attrs:{\"slot\":\"append\"},on:{\"click\":_vm.showDepDialog},slot:\"append\"},[_vm._v(\"选择范围\")])],1)],1)],1),_c('el-dialog',{staticClass:\"dep-dialog\",attrs:{\"visible\":_vm.depDialog,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.depDialog=$event}}},[_c('div',{staticClass:\"dep-form\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.depTitle))]),_c('div',{staticClass:\"content\"},[_c('el-tree',{attrs:{\"data\":_vm.depData,\"props\":_vm.props,\"show-checkbox\":\"\",\"node-key\":\"orgId\",\"default-checked-keys\":_vm.selectedDep},on:{\"check-change\":_vm.handleCheckChange}})],1),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"btn-submit\",on:{\"click\":function($event){_vm.depDialog = false}}},[_vm._v(\"关闭\")])])])]),_c('div',{staticClass:\"btns\"},[_c('div',{staticClass:\"btn-submit\",on:{\"click\":function($event){_vm.doSubmit()}}},[_vm._v(\"确定\")]),_c('div',{staticClass:\"btn-clear\",staticStyle:{\"margin-left\":\"20px\"},on:{\"click\":function($event){_vm.$router.go(-1)}}},[_vm._v(\"返回\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"publicity\">\n    <bread-nav :nav=\"nav\"></bread-nav>\n    <main-part>\n      <el-form :model=\"form\" ref=\"form\" label-width=\"140px\" class=\"form\" :rules=\"rules\">\n        <el-form-item label=\"标题：\" prop=\"title\">\n          <el-input v-model=\"form.title\" style=\"width: 51%\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"正文内容：\" prop=\"content\">\n          <wang-editor :content.sync=\"form.content\" v-if=\"form.content || !id\"></wang-editor>\n        </el-form-item>\n        <el-form-item label=\"选择截止时间：\" prop=\"endDate\">\n          <el-date-picker\n                  v-model=\"form.endDate\"\n                  type=\"date\"\n                  value-format=\"yyyy-MM-dd 00:00:00\"\n                  placeholder=\"选择截止时间\" style=\"width: 260px\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"是否上传附件：\" prop=\"isAttachment\">\n          <el-radio-group v-model=\"form.isAttachment\">\n            <el-radio v-for=\"(item, idx) in $enums.YesNoStatus.list\"\n                      :key=\"idx\" border\n                      :label=\"item.value\"\n                      style=\"width: 106px; margin-right: 37px\">{{item.label}}\n            </el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"推送范围：\" prop=\"scopeList\">\n          <el-input class=\"input\" v-model=\"selectedDepName.join()\" placeholder=\"请选择范围\" style=\"width: 440px\" disabled>\n            <el-button @click=\"showDepDialog\" class=\"hende\" slot=\"append\">选择范围</el-button>\n            <!--<span @click=\"\" class=\"hand\" slot=\"append\"></span>-->\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <!--推送范围弹窗-->\n      <el-dialog :visible.sync=\"depDialog\" class=\"dep-dialog\" width=\"400px\">\n        <div class=\"dep-form\">\n          <p class=\"title\">{{depTitle}}</p>\n          <div class=\"content\">\n            <el-tree :data=\"depData\"\n                     :props=\"props\"\n                     show-checkbox\n                     node-key=\"orgId\"\n                     :default-checked-keys=\"selectedDep\"\n                     @check-change=\"handleCheckChange\">\n            </el-tree>\n          </div>\n          <div style=\"text-align: center; margin-top: 20px\">\n            <div @click=\"depDialog = false\" class=\"btn-submit\">关闭</div>\n          </div>\n        </div>\n      </el-dialog>\n      <div class=\"btns\">\n        <div @click=\"doSubmit()\" class=\"btn-submit\">确定</div>\n        <div @click=\"$router.go(-1)\" class=\"btn-clear\" style=\"margin-left: 20px\">返回</div>\n      </div>\n    </main-part>\n  </div>\n</template>\n\n<script>\n  // 复用组织机构中的组件\n  import item from '../../school/user/Item'\n\n  export default {\n    components: {\n      item\n    },\n    data () {\n      // 验证正文内容\n      const checkContent = (rule, value, callback) => {\n        if (!value || value === '<p><br></p>') {\n          callback(new Error('请输入正文内容'))\n        } else {\n          callback()\n        }\n      }\n      const checkDep = (rule, value, callback) => {\n        if (this.selectedDepName.length === 0) {\n          callback(new Error('请选择推送范围'))\n        } else {\n          callback()\n        }\n      }\n      let vm = this\n      return {\n        id: vm.$route.query.id,\n        announcementDetail: [],\n        nav: [{name: '拓展活动', path: 'go(-1)'}, {name: '发布活动', path: ''}],\n        text: '发布成功',\n        depDialog: false,\n        // 一级部门名称\n        depTitle: '家长组',\n        // 部门数据\n        depData: [],\n        // 选择的部门ID\n        selectedDep: [],\n        // 选择的部门名称\n        selectedDepName: [],\n        form: {\n          title: null,\n          content: null,\n          scopeList: [],\n          isAttachment: null,\n          endDate: null\n        },\n        attrs: {\n          accept: '*'\n        },\n        rules: {\n          title: {required: true, message: '请输入标题', trigger: 'blur'},\n          content: {required: true, validator: checkContent, trigger: 'change'},\n          scopeList: {required: true, validator: checkDep, trigger: 'change'},\n          isAttachment: {required: true, message: '请选择是否上传附件', trigger: 'change'},\n          endDate: {required: true, message: '请选择截止时间', trigger: 'change'},\n        },\n        uploadOptions: {\n          target: `${window.location.origin}${this.$conf.API_PATH}/uploadFileTrunk/trunkUpload.do`,\n          testChunks: false,\n          chunkSize: 2 * 1024 * 1024,\n          singleFile: false,\n          parseTimeRemaining: (timeRemaining, parsedTimeRemaining) => {\n            return parsedTimeRemaining\n              .replace(/\\syears?/, '年')\n              .replace(/\\days?/, '天')\n              .replace(/\\shours?/, '小时')\n              .replace(/\\sminutes?/, '分钟')\n              .replace(/\\sseconds?/, '秒')\n          }\n        },\n        // 修改分片上传文字\n        fileStatusText: {\n          success: '上传成功',\n          error: '上传错误',\n          uploading: '正在上传',\n          paused: '已暂停',\n          waiting: '等待中'\n        },\n        props: {\n          label: 'orgName',\n          children: 'subOrgList'\n        },\n      }\n    },\n    async mounted () {\n      let data = await this.$ajax({\n        url: '/org/queryOrganizationTree.do',\n        el: '.content',\n        query: {\n          orgTypes: ['PARENT_ORG']\n        }\n      })\n      this.depData = this.recursion(data.subOrgList, 1)\n      // console.log(this.depData)\n      if (this.id) {\n        this.getDetail()\n      }\n    },\n    methods: {\n      handleCheckChange (data, checked, indeterminate) {\n        let index = this.selectedDep.indexOf(data.orgId)\n        if (checked) {\n          this.selectedDep.push(data.orgId)\n          this.selectedDepName.push(data.orgName)\n        } else {\n          this.selectedDep.splice(index, 1)\n          this.selectedDepName.splice(index, 1)\n        }\n      },\n      // 递归给每一个item设置缩进和check-box隐藏\n      recursion (arr, i) {\n        arr.forEach(e => {\n          e.tier = i\n          e.status = false\n          if (e.subOrgList.length > 0) {\n            this.recursion(e.subOrgList, i + 1)\n          }\n        })\n        return arr\n      },\n      // 获取详情\n      async getDetail () {\n        // console.log(this.id)\n        this.announcementDetail = await this.$ajax({\n          url: '/notice/getNotice.do',\n          el: '.form',\n          query: {\n            id: this.id\n          }\n        })\n        this.form.title = this.announcementDetail.title\n        this.form.content = this.announcementDetail.content\n        this.announcementDetail.scopeList.forEach(e => {\n          this.selectedDep.push(e.businessId)\n          this.selectedDepName.push(e.scopeName)\n        })\n        this.form.endDate = this.announcementDetail.endDate\n        this.form.isAttachment = this.announcementDetail.isAttachment\n        console.log(this.selectedDep)\n      },\n      // 展现选择部门弹窗\n      showDepDialog () {\n        this.depDialog = true\n      },\n      // 提交\n      async doSubmit () {\n        await this.$refs.form.validate()\n        // 处理所属部门\n        this.form.scopeList = this.selectedDep\n        // console.log(this.form)\n        let url = '/notice/addActivity.do'\n        if (this.id) {\n          this.text = '修改成功'\n          url = '/notice/updateActivity.do'\n          this.form.id = this.id\n        }\n        await this.$ajax({\n          url,\n          el: '.form',\n          query: this.form,\n        })\n        this.$remind(this.text)\n        this.$router.push('/student-work/activity')\n      },\n    }\n  }\n</script>\n<style lang=\"sass\" scoped>\n  .publicity\n    .upload\n      line-height: 1\n    .btns\n      margin-left: 140px\n    .form\n      margin-top: 20px\n      /deep/ .el-input-group__append\n        background: $main-c\n        border-color: $main-c\n        color: #fff\n        cursor: pointer\n        opacity: 1\n        transition: all .3s\n        &:hover\n          opacity: .8\n        &:active\n          opacity: 1\n    .dep-dialog\n      /deep/ .el-dialog\n        border-radius: 10px\n        padding-bottom: 20px\n      /deep/ .el-dialog__body\n        padding: 0\n      /deep/ .el-dialog__header\n        display: none\n    .dep-form\n      width: 100%\n      border-radius: 10px\n      .title\n        line-height: 46px\n        background: $main-c\n        color: #fff\n        padding-left: 15px\n        border-radius: 10px 10px 0 0\n      .content\n        width: 100%\n        height: 560px\n        overflow: auto\n        /deep/ .el-tree-node__content\n          height: 46px\n          border-bottom: 1px solid $border\n          background: $back-light\n    /deep/ .uploader-file[status=success] .uploader-file-remove\n      display: block\n    .item\n      line-height: 50px\n      display: flex\n      justify-content: space-between\n      align-items: center\n      background: #e2eeff\n      padding: 0 42px 0 50px\n      border-bottom: 1px solid #cdcdcd\n      i\n        color: $gray-dark\n        font-weight: bold\n        font-size: 15px\n        cursor: pointer\n        transition: all .3s\n        &:hover\n          color: red\n      span\n        color: $fc-def\n    .upload_view\n      width: 600px\n      border: 1px solid #ddd\n      border-radius: 5px\n      &_button\n        box-sizing: border-box\n      &_btn\n        padding: 10px\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Publicity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Publicity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Publicity.vue?vue&type=template&id=74f22d7c&scoped=true&\"\nimport script from \"./Publicity.vue?vue&type=script&lang=js&\"\nexport * from \"./Publicity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Publicity.vue?vue&type=style&index=0&id=74f22d7c&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74f22d7c\",\n  null\n  \n)\n\ncomponent.options.__file = \"Publicity.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&id=97780030&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&id=97780030&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-item\"},_vm._l((_vm.treeData),function(item){return _c('div',[_c('div',{class:['item', {'hand': item.subOrgList.length || item.parentOrgId === 1}],style:({paddingLeft: (item.tier - 1) * 25 + 10 + 'px'}),on:{\"click\":function($event){item.status = !item.status}}},[_c('i',{class:[{'rotate': item.status}, 'el-icon-caret-right'],style:({visibility: item.subOrgList.length ? 'visible' : 'hidden'})}),_c('el-checkbox',{attrs:{\"value\":_vm.judge(item.orgId)},on:{\"change\":function($event){_vm.changeDep(item)}}},[_c('span',[_vm._v(_vm._s(item.orgName))])])],1),_c('el-collapse-transition',[_c('item',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.status),expression:\"item.status\"}],attrs:{\"selectedDepName\":_vm.selectedDepName,\"selectedDep\":_vm.selectedDep,\"data\":item.subOrgList}})],1)],1)}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-item\">\n    <div v-for=\"item in treeData\">\n      <div :class=\"['item', {'hand': item.subOrgList.length || item.parentOrgId === 1}]\"\n           :style=\"{paddingLeft: (item.tier - 1) * 25 + 10 + 'px'}\"\n           @click=\"item.status = !item.status\">\n        <i :style=\"{visibility: item.subOrgList.length ? 'visible' : 'hidden'}\"\n           :class=\"[{'rotate': item.status}, 'el-icon-caret-right']\"></i>\n        <el-checkbox @change=\"changeDep(item)\"\n                     :value=\"judge(item.orgId)\"\n        ><span>{{item.orgName}}</span></el-checkbox>\n      </div>\n\n      <el-collapse-transition>\n        <item  v-show=\"item.status\" :selectedDepName=\"selectedDepName\" :selectedDep=\"selectedDep\" :data=\"item.subOrgList\"></item>\n      </el-collapse-transition>\n    </div>\n\n  </div>\n</template>\n<script>\n  // collapse 展开折叠\n  import CollapseTransition from 'element-ui/lib/transitions/collapse-transition';\n  export default {\n    components:{\n      elCollapseTransition: CollapseTransition\n    },\n    props: ['data','selectedDep', 'selectedDepName'],\n    name: 'item',\n    data() {\n      return {\n      }\n    },\n    computed:{\n      'treeData': function () {\n        return this.data\n      },\n      'treeSelectedDep': function () {\n        return this.selectedDep\n      },\n      'treeSelectedDepName': function () {\n        return this.selectedDepName || []\n      }\n    },\n    methods: {\n      // 选择或取消选择部门\n      changeDep(item){\n        let index = this.treeSelectedDep.indexOf(item.orgId)\n        if(index === -1){\n          this.treeSelectedDep.push(item.orgId)\n          this.treeSelectedDepName.push(item.orgName)\n        }else{\n          this.treeSelectedDep.splice(index,1)\n          this.treeSelectedDepName.splice(index,1)\n        }\n        this.$emit('update:selectedDep',this.treeSelectedDep)\n        this.$emit('update:selectedDepName',this.treeSelectedDepName)\n      },\n      // 判断是否被选中\n      judge(id){\n        return this.treeSelectedDep.indexOf(id) !== -1\n      }\n    },\n    mounted(){\n    }\n  }\n</script>\n<style lang=\"sass\" scoped>\n  .form-item\n    .hand\n      cursor: pointer\n      background: $back-light !important\n    .item\n      position: relative\n      border-top: 1px solid $border\n      line-height: 46px\n      padding: 0 10px\n      background: #fff\n      i\n        font-size: $font-large\n        margin-right: 8px\n        vertical-align: middle\n        transition: all .2s\n      .rotate\n        transform: rotate(90deg)\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=97780030&scoped=true&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Item.vue?vue&type=style&index=0&id=97780030&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97780030\",\n  null\n  \n)\n\ncomponent.options.__file = \"Item.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Publicity.vue?vue&type=style&index=0&id=74f22d7c&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Publicity.vue?vue&type=style&index=0&id=74f22d7c&lang=sass&scoped=true&\""],"sourceRoot":""}