{"version":3,"sources":["webpack:///./src/views/recruit/organization/Detail.vue?179b","webpack:///src/views/recruit/organization/Detail.vue","webpack:///./src/views/recruit/organization/Detail.vue?a9a1","webpack:///./src/views/recruit/organization/Detail.vue","webpack:///./src/views/recruit/organization/Detail.vue?826d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","nav","ref","model","form","rules","label-width","label","prop","placeholder","value","callback","$$v","$set","expression","type","options","on","active-item-change","handleItemChange","region","id","tabindex","click","addFun","_v","$event","$router","go","staticRenderFns","Detailvue_type_script_lang_js_","data","_this","checkregion","rule","length","Error","editStatus","$route","params","name","path","corporation","linkMan","linkNum","address","provinceId","cityId","districtId","lng","lat","required","message","trigger","validator","methods","_addFun","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","arr","url","text","wrap","_context","prev","next","$refs","validate","$message","warning","abrupt","trainInstitutionId","$ajax","el","noText","query","$remind","push","stop","apply","arguments","getRegion","_getRegion","_callee2","res","_this2","_context2","sent","forEach","e","children","_handleItemChange","_callee3","val","_this3","_context3","parentId","i","n","m","_x","initMap","map","AMap","Map","center","resizeEnable","zoom","vm","poiPickerReady","poiPicker","poiResult","poi","item","drawDot","location","AMapUI","loadUI","PoiPicker","input","event","addListener","lnglat","marker","setMap","Marker","position","title","setCenter","getDetail","_getDetail","_callee4","_context4","mounted","organization_Detailvue_type_script_lang_js_","component","componentNormalizer","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Detail_vue_vue_type_style_index_0_id_00306688_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_9_oneOf_1_0_node_modules_css_loader_index_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_9_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Detail_vue_vue_type_style_index_0_id_00306688_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-7248bc5a.b874f3df.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('bread-nav',{attrs:{\"nav\":_vm.nav}}),_c('main-part',[_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"机构名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入机构名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"法人\",\"prop\":\"corporation\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入法人\"},model:{value:(_vm.form.corporation),callback:function ($$v) {_vm.$set(_vm.form, \"corporation\", $$v)},expression:\"form.corporation\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系人\",\"prop\":\"linkMan\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入联系人\"},model:{value:(_vm.form.linkMan),callback:function ($$v) {_vm.$set(_vm.form, \"linkMan\", $$v)},expression:\"form.linkMan\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"prop\":\"linkNum\"}},[_c('el-input',{attrs:{\"type\":\"tel\",\"placeholder\":\"请输入联系电话\"},model:{value:(_vm.form.linkNum),callback:function ($$v) {_vm.$set(_vm.form, \"linkNum\", $$v)},expression:\"form.linkNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"机构区划\",\"prop\":\"region\"}},[_c('el-cascader',{staticClass:\"input\",attrs:{\"options\":_vm.options},on:{\"active-item-change\":_vm.handleItemChange},model:{value:(_vm.region),callback:function ($$v) {_vm.region=$$v},expression:\"region\"}})],1),_c('el-form-item',{attrs:{\"label\":\"详细地址\",\"prop\":\"address\"}},[_c('el-input',{staticClass:\"address\",attrs:{\"id\":\"pickerInput\",\"placeholder\":\"请输入详细地址\"},model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}})],1)],1),_c('div',{staticClass:\"map\",attrs:{\"id\":\"container\",\"tabindex\":\"0\"}}),_c('div',{staticClass:\"btns\"},[_c('div',{staticClass:\"btn-submit btn-add mr15\",on:{\"click\":_vm.addFun}},[_vm._v(\"确认\")]),_c('div',{staticClass:\"btn-clear\",on:{\"click\":function($event){_vm.$router.go(-1)}}},[_vm._v(\"取消\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"detail\">\n    <bread-nav :nav=\"nav\"></bread-nav>\n    <main-part>\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"80px\" class=\"form\">\n        <el-form-item label=\"机构名称\" prop=\"name\">\n          <el-input v-model=\"form.name\" placeholder=\"请输入机构名称\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"法人\" prop=\"corporation\">\n          <el-input v-model=\"form.corporation\" placeholder=\"请输入法人\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"联系人\" prop=\"linkMan\">\n          <el-input v-model=\"form.linkMan\" placeholder=\"请输入联系人\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"联系电话\" prop=\"linkNum\">\n          <el-input v-model=\"form.linkNum\" type=\"tel\" placeholder=\"请输入联系电话\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"机构区划\" prop=\"region\">\n          <el-cascader\n              v-model=\"region\"\n              class=\"input\"\n              @active-item-change=\"handleItemChange\"\n              :options=\"options\"></el-cascader>\n        </el-form-item>\n        <el-form-item label=\"详细地址\" prop=\"address\">\n          <el-input class=\"address\" v-model=\"form.address\" id=\"pickerInput\" placeholder=\"请输入详细地址\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div id=\"container\" class=\"map\" tabindex=\"0\"></div>\n      <div class=\"btns\">\n        <div @click=\"addFun\"class=\"btn-submit btn-add mr15\">确认</div>\n        <div @click=\"$router.go(-1)\" class=\"btn-clear\">取消</div>\n      </div>\n    </main-part>\n  </div>\n</template>\n<script>\n  export default {\n    data() {\n      var checkregion = (rule, value, callback) => {\n        if (this.region.length < 1) {\n          callback(new Error('请选择机构区划'));\n        } else {\n          callback();\n        }\n      };\n      return {\n        // 是否为编辑状态\n        editStatus: this.$route.params.id !== '0',\n        nav: [\n          {name: \"合作机构\", path: \"go(-1)\"},\n          {name: this.$route.params.id !== '0' ? \"编辑机构\": \"添加机构\", path: \"\"}\n        ],\n        region: [],\n        form: {\n          name: '',\n          corporation: '',\n          linkMan: '',\n          linkNum: '',\n          address: '',\n          provinceId: '',\n          cityId: '',\n          districtId: '',\n          lng: '',\n          lat: ''\n        },\n        rules: {\n          name: { required: true, message: '请输入机构名称', trigger: 'blur' },\n          address: { required: true, message: '请输入详细地址', trigger: 'blur' },\n          region: { required: true, validator: checkregion, trigger: 'change' },\n        },\n        options: []\n      }\n    },\n    methods: {\n      // 新增机构\n      async addFun(){\n        await this.$refs.form.validate()\n        // 判断是否在地图上选了点\n        if(!this.form.lng){\n          this.$message.warning('请在地图上选择机构位置')\n          return\n        }\n        if(this.region.length > 0){\n          let arr = this.region\n          this.form.provinceId = arr[0]\n          this.form.cityId = arr[1]\n          this.form.districtId = arr[2]\n        }\n        let url = '/rinstitution/addTrainInstitution.do'\n        let text = '新增成功'\n        if(this.editStatus){\n          url = '/rinstitution/updateTrainInstitution.do'\n          text = '编辑成功'\n          this.form.trainInstitutionId = this.form.id\n        }\n        await this.$ajax({\n          url,\n          el: '.btn-add',\n          noText: true,\n          query: this.form,\n        })\n        this.$remind(text)\n        this.$router.push('/recruit/organization')\n      },\n      // 获取一级地区\n      async getRegion(){\n        let res = await this.$ajax({\n          url: '/region/queryRegionList.do',\n        })\n        this.options = []\n        res.forEach(e=>{\n          this.options.push({\n            label: e.name,\n            value: e.id,\n            children: []\n          })\n        })\n      },\n      // 动态获取二三级数据\n      async handleItemChange(val){\n        // 获取子集数据\n        let res = await this.$ajax({\n          url: '/region/queryRegionList.do',\n          query:{\n            parentId: val[val.length - 1]\n          }\n        })\n        let arr = []\n        if(val.length === 1){\n          res.forEach(e=>{\n            arr.push({\n              label: e.name,\n              value: e.id,\n              children: []\n            })\n          })\n          this.options.forEach((e,i)=>{\n            if(e.value === val[0]){\n              this.options[i].children = arr\n            }\n          })\n        }else if(val.length === 2){\n          res.forEach(e=>{\n            arr.push({\n              label: e.name,\n              value: e.id,\n            })\n          })\n          this.options.forEach((e,i)=>{\n            if(e.value === val[0]){\n              this.options[i].children.forEach((n,m)=>{\n                if(n.value === val[1]){\n                  this.options[i].children[m].children = arr\n                }\n\n              })\n            }\n          })\n        }\n      },\n      // 创建地图\n      initMap() {\n        //初始化地图\n        this.map = new AMap.Map('container', {\n          center: this.center,\n          resizeEnable: true,\n          zoom: 15,\n        });\n        let vm = this\n\n        AMapUI.loadUI(['misc/PoiPicker'], function (PoiPicker) {\n\n          var poiPicker = new PoiPicker({\n            input: 'pickerInput'\n          });\n          //初始化poiPicker\n          poiPickerReady(poiPicker);\n        });\n\n        function poiPickerReady(poiPicker) {\n          //选取了某个POI\n          poiPicker.on('poiPicked', function (poiResult) {\n            let poi = poiResult.item\n            vm.form.address = poi.name\n            //将选好的POI传给query\n            vm.drawDot(poi.location.lng, poi.location.lat)\n          });\n\n        }\n\n        // 设置地图点击事件\n        AMap.event.addListener(vm.map, \"click\", (e) => {\n          vm.drawDot(e.lnglat.lng, e.lnglat.lat)\n        });\n      },\n      // 在地图上画点\n      drawDot(lng, lat) {\n        this.form.lng = lng\n        this.form.lat = lat\n        if (this.marker) {\n          this.marker.setMap(null);\n        }\n        this.marker = new AMap.Marker({\n          position: [lng, lat],\n          title: '位置',\n          map: this.map\n        });\n        this.map.setCenter([lng, lat]);\n      },\n      // 获取数据\n      async getDetail(){\n        this.form = await this.$ajax({\n          url: '/rinstitution/getTrainInstitution.do',\n          el: '.detail',\n          query: {\n            id: this.$route.params.id\n          }\n        })\n        this.region = []\n        await this.getRegion()\n        await this.handleItemChange([this.form.provinceId])\n        await this.handleItemChange([this.form.provinceId, this.form.cityId])\n        this.drawDot(this.form.lng, this.form.lat)\n        this.region = [this.form.provinceId, this.form.cityId, this.form.districtId]\n      }\n    },\n    mounted() {\n      if(this.editStatus){\n        this.getDetail()\n      }\n      this.getRegion()\n      this.initMap()\n    }\n  }\n</script>\n<style lang=\"sass\" scoped>\n  .detail\n    .map\n      width: calc(100% - 80px)\n      margin-left: 80px\n      height: 400px\n      &:focus\n        outline: -webkit-focus-ring-color auto 0\n    .form\n      width: 420px\n      margin-top: 10px\n    .input\n      width: 100%\n    .address\n      width: 580px\n    .btns\n      margin-top: 25px\n      margin-left: 80px\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=00306688&scoped=true&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=00306688&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00306688\",\n  null\n  \n)\n\ncomponent.options.__file = \"Detail.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=00306688&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=00306688&lang=sass&scoped=true&\""],"sourceRoot":""}